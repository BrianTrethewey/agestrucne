<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<title>Popgen GUI: negui.pgutilities Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Popgen GUI
   </div>
   <div id="projectbrief">GUI Front end with refactoring of population genetics programming provided by Tiago Antao&#39;s AgeStructureNe code, with some outside dependancies (chiefly simuPop and NeEstimator)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="namespaces.html"><span>Namespace&#160;List</span></a></li>
      <li><a href="namespacemembers.html"><span>Namespace&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>negui</b></li><li class="navelem"><a class="el" href="namespacenegui_1_1pgutilities.html">pgutilities</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">negui.pgutilities Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a20a66168135d35b6713e38b2503f6289"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenegui_1_1pgutilities.html#a20a66168135d35b6713e38b2503f6289">do_usage_check</a> (ls_this_argv, ls_required_arg_descriptions, ls_optional_arg_descriptions=[], b_multi_line_msg=False, b_unlimited_final_args=False, s_note=None)</td></tr>
<tr class="separator:a20a66168135d35b6713e38b2503f6289"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a926d8ee0bffed0d961dcfc3d169e05a4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a926d8ee0bffed0d961dcfc3d169e05a4"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>get_date_time_string_dotted</b> ()</td></tr>
<tr class="separator:a926d8ee0bffed0d961dcfc3d169e05a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a347fe70cfaae23658adb58cd312e93"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8a347fe70cfaae23658adb58cd312e93"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>is_file_and_executable</b> (s_path)</td></tr>
<tr class="separator:a8a347fe70cfaae23658adb58cd312e93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fe3f14ed21663af6196c0c53349c536"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8fe3f14ed21663af6196c0c53349c536"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>confirm_executable_is_in_path</b> (s_exectuable_file_name)</td></tr>
<tr class="separator:a8fe3f14ed21663af6196c0c53349c536"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2096f66a8484e74902fb97c787c79345"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2096f66a8484e74902fb97c787c79345"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>manage_process_queue</b> (o_queue_with_target_calls, o_queue_to_hold_results=None)</td></tr>
<tr class="separator:a2096f66a8484e74902fb97c787c79345"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33737d6b655651fd586e77e269300eb4"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenegui_1_1pgutilities.html#a33737d6b655651fd586e77e269300eb4">prep_and_call_do_pgopsimupop_replicate</a> (s_config_file, s_life_table_files, s_param_file, s_output_base_name, s_replicate_number)</td></tr>
<tr class="memdesc:a33737d6b655651fd586e77e269300eb4"><td class="mdescLeft">&#160;</td><td class="mdescRight">end do_sim_replicate_on_separate_os_process  <a href="#a33737d6b655651fd586e77e269300eb4">More...</a><br /></td></tr>
<tr class="separator:a33737d6b655651fd586e77e269300eb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3612d8b0b5d45a71109ea49eec4f9b0"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenegui_1_1pgutilities.html#af3612d8b0b5d45a71109ea49eec4f9b0">do_pgopsimupop_replicate_from_files</a> (s_configuration_file, ls_life_table_files, s_param_name_file, s_outfile_basename, i_replicate_number)</td></tr>
<tr class="separator:af3612d8b0b5d45a71109ea49eec4f9b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa37c7d125e4eaec2eeea639f53fa140d"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenegui_1_1pgutilities.html#aa37c7d125e4eaec2eeea639f53fa140d">remove_simulation_replicate_output_files</a> (s_basename)</td></tr>
<tr class="separator:aa37c7d125e4eaec2eeea639f53fa140d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ab2e254a7954f6a3ad216cbbb18436c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6ab2e254a7954f6a3ad216cbbb18436c"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>get_class_names_immediate_parent</b> (o_object)</td></tr>
<tr class="separator:a6ab2e254a7954f6a3ad216cbbb18436c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada6bbd0893b0b9ecea89245329058e30"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ada6bbd0893b0b9ecea89245329058e30"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>get_current_working_directory</b> ()</td></tr>
<tr class="separator:ada6bbd0893b0b9ecea89245329058e30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46ba7adf1f3b80ee22ab635fa22ec8fa"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a46ba7adf1f3b80ee22ab635fa22ec8fa"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>get_listdir</b> (s_parent_dir)</td></tr>
<tr class="separator:a46ba7adf1f3b80ee22ab635fa22ec8fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1be11f0c22a8f0b3cd2574ba02c2e04a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1be11f0c22a8f0b3cd2574ba02c2e04a"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>does_exist_and_is_file</b> (s_file)</td></tr>
<tr class="separator:a1be11f0c22a8f0b3cd2574ba02c2e04a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa598e123d913111c3f191c0a725b57fd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa598e123d913111c3f191c0a725b57fd"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>get_list_subdirectories</b> (s_parent_dir)</td></tr>
<tr class="separator:aa598e123d913111c3f191c0a725b57fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad045331ad9e74cc1d8fdc2a8c2b050af"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad045331ad9e74cc1d8fdc2a8c2b050af"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>get_list_file_objects</b> (s_parent_dir)</td></tr>
<tr class="separator:ad045331ad9e74cc1d8fdc2a8c2b050af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5d355d2c26bf4992ce682449dfb93fc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa5d355d2c26bf4992ce682449dfb93fc"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>get_list_files_and_dirs_from_glob</b> (s_glob)</td></tr>
<tr class="separator:aa5d355d2c26bf4992ce682449dfb93fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbecfce3431917f0ed764bc056b04fdc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abbecfce3431917f0ed764bc056b04fdc"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>get_basename_from_path</b> (s_path)</td></tr>
<tr class="separator:abbecfce3431917f0ed764bc056b04fdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae147f21f478f594d3e696d9198fa999b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae147f21f478f594d3e696d9198fa999b"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>get_dirname_from_path</b> (s_path)</td></tr>
<tr class="separator:ae147f21f478f594d3e696d9198fa999b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab276fa71e3e15636a51644dcb4f395ba"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab276fa71e3e15636a51644dcb4f395ba"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>remove_files</b> (ls_files)</td></tr>
<tr class="separator:ab276fa71e3e15636a51644dcb4f395ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58912c5a49fed034b7899bae2763ea42"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a58912c5a49fed034b7899bae2763ea42"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>get_separator_character_for_current_os</b> ()</td></tr>
<tr class="separator:a58912c5a49fed034b7899bae2763ea42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc489aeb6d08669a944cea475609c3ab"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afc489aeb6d08669a944cea475609c3ab"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>is_windows_platform</b> ()</td></tr>
<tr class="separator:afc489aeb6d08669a944cea475609c3ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84406a87eec039d98e307a1e716b033d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a84406a87eec039d98e307a1e716b033d"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>fix_windows_path</b> (s_path)</td></tr>
<tr class="separator:a84406a87eec039d98e307a1e716b033d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb5f5345fa17095a87638daf969f4ebb"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenegui_1_1pgutilities.html#afb5f5345fa17095a87638daf969f4ebb">do_operation_outside</a> (o_multiprocessing_event, i_input_reps, i_total_processes_for_sims, s_temp_config_file_for_running_replicates, ls_life_table_files, s_param_names_file, s_output_basename)</td></tr>
<tr class="separator:afb5f5345fa17095a87638daf969f4ebb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a651d0e76f36897c5ca20e6d40d1a46a7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a651d0e76f36897c5ca20e6d40d1a46a7"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>get_cpu_count</b> ()</td></tr>
<tr class="separator:a651d0e76f36897c5ca20e6d40d1a46a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa839d4997d2bd2c15016c33cc7fce3b0"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenegui_1_1pgutilities.html#aa839d4997d2bd2c15016c33cc7fce3b0">dialog_returns_nothing</a> (v_return_value)</td></tr>
<tr class="separator:aa839d4997d2bd2c15016c33cc7fce3b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed0f15b22462914445ffe1ec2a77cbc8"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenegui_1_1pgutilities.html#aed0f15b22462914445ffe1ec2a77cbc8">convert_genepop_files_string_to_list_format</a> (s_genepop_files)</td></tr>
<tr class="separator:aed0f15b22462914445ffe1ec2a77cbc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abce749cfc8159cf9aed491a8a1c8dbe3"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenegui_1_1pgutilities.html#abce749cfc8159cf9aed491a8a1c8dbe3">run_driveneestimator_in_new_process</a> (o_multiprocessing_event, s_genepop_files, s_sample_scheme, li_sample_params, i_min_pop_size, f_min_allele_freq, i_replicates, i_num_processes, s_runmode, s_outfile_basename, s_file_delimiter=&quot;)</td></tr>
<tr class="separator:abce749cfc8159cf9aed491a8a1c8dbe3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a274572b1b2788c24df3e269bc2a3f1f7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a274572b1b2788c24df3e269bc2a3f1f7"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>VERBOSE</b> = False</td></tr>
<tr class="separator:a274572b1b2788c24df3e269bc2a3f1f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed436e1fc2eb29963ea30b17e614fd04"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aed436e1fc2eb29963ea30b17e614fd04"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>PROCESS_QUEUE_STOP_SIGN</b> = 'STOP'</td></tr>
<tr class="separator:aed436e1fc2eb29963ea30b17e614fd04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeca2401751f6dc9cd4acbe9765271e20"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aeca2401751f6dc9cd4acbe9765271e20"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>SIMULATION_OUTPUT_FILE_REPLICATE_TAG</b> = &quot;.r&quot;</td></tr>
<tr class="separator:aeca2401751f6dc9cd4acbe9765271e20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2dc8f53cd27db093fc7f1227367d833"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad2dc8f53cd27db093fc7f1227367d833"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>DELIMITER_LIFE_TABLE_FILES</b> = &quot;,&quot;</td></tr>
<tr class="separator:ad2dc8f53cd27db093fc7f1227367d833"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa78d8e8004985b127644b8c985a2b551"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa78d8e8004985b127644b8c985a2b551"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>NE_ESTIMATION_MAIN_TABLE_FILE_EXT</b> = &quot;ldne.tsv&quot;</td></tr>
<tr class="separator:aa78d8e8004985b127644b8c985a2b551"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfda5d480a10cf273a287871a5aba972"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adfda5d480a10cf273a287871a5aba972"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>NE_ESTIMATION_SECONDARY_OUTPUT_FILE_EXT</b> = &quot;ldne.msgs&quot;</td></tr>
<tr class="separator:adfda5d480a10cf273a287871a5aba972"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25b185def2c6bb2698b1927b4a20a904"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a25b185def2c6bb2698b1927b4a20a904"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>s_exec_name</b> = sys.argv[ 1 ]</td></tr>
<tr class="separator:a25b185def2c6bb2698b1927b4a20a904"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Description
Support defs for the pop gen interface programs.
</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="aed0f15b22462914445ffe1ec2a77cbc8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def negui.pgutilities.convert_genepop_files_string_to_list_format </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_genepop_files</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">pgguineestimator object stores genepop files as a single string.
Each genepop file is delimited by a comma.  This def will
format the string to s_formatted_list, so that pgdriveneestimator.py can 
execute eval( s_formatted_list) and retrieve a python list of file names.
</pre> 
<p>Definition at line <a class="el" href="pgutilities_8py_source.html#l00596">596</a> of file <a class="el" href="pgutilities_8py_source.html">pgutilities.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00596"></a><span class="lineno"><a class="line" href="namespacenegui_1_1pgutilities.html#aed0f15b22462914445ffe1ec2a77cbc8">  596</a></span>&#160;<span class="keyword">def </span><a class="code" href="namespacenegui_1_1pgutilities.html#aed0f15b22462914445ffe1ec2a77cbc8">convert_genepop_files_string_to_list_format</a>( s_genepop_files ): </div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;<span class="stringliteral">        pgguineestimator object stores genepop files as a single string.</span></div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;<span class="stringliteral">        Each genepop file is delimited by a comma.  This def will</span></div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;<span class="stringliteral">        format the string to s_formatted_list, so that pgdriveneestimator.py can </span></div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;<span class="stringliteral">        execute eval( s_formatted_list) and retrieve a python list of file names.</span></div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;<span class="stringliteral">        &#39;&#39;&#39;</span></div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;        ls_files=s_genepop_files.split( <span class="stringliteral">&quot;,&quot;</span> )</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        ls_quoted_file_names=[ <span class="stringliteral">&quot;&#39;&quot;</span> + s_file + <span class="stringliteral">&quot;&#39;&quot;</span> <span class="keywordflow">for</span> s_file <span class="keywordflow">in</span> ls_files ]</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;        s_quoted_files=<span class="stringliteral">&quot;,&quot;</span>.join( ls_quoted_file_names )</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;        s_genepop_files_formatted_as_python_list= <span class="stringliteral">&quot;[&quot;</span> + s_quoted_files + <span class="stringliteral">&quot;]&quot;</span></div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;        <span class="keywordflow">return</span> s_genepop_files_formatted_as_python_list</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;<span class="comment">#end convert_genepop_files_string_to_list_format</span></div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;</div><div class="ttc" id="namespacenegui_1_1pgutilities_html_aed0f15b22462914445ffe1ec2a77cbc8"><div class="ttname"><a href="namespacenegui_1_1pgutilities.html#aed0f15b22462914445ffe1ec2a77cbc8">negui.pgutilities.convert_genepop_files_string_to_list_format</a></div><div class="ttdeci">def convert_genepop_files_string_to_list_format(s_genepop_files)</div><div class="ttdef"><b>Definition:</b> <a href="pgutilities_8py_source.html#l00596">pgutilities.py:596</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa839d4997d2bd2c15016c33cc7fce3b0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def negui.pgutilities.dialog_returns_nothing </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>v_return_value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">To evaluate return values from askopenfilenames,
askdirectory, askopenfilename, dialog windows.
Note that unlike askopenfile (singular),
an empty tuple is returned by askdirectory when
the diag is cancelled on the first instance it
is invoked, and an empty string thereafter.  
askopenfilenames returns an empty tuple on all cancels.
</pre> 
<p>Definition at line <a class="el" href="pgutilities_8py_source.html#l00563">563</a> of file <a class="el" href="pgutilities_8py_source.html">pgutilities.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00563"></a><span class="lineno"><a class="line" href="namespacenegui_1_1pgutilities.html#aa839d4997d2bd2c15016c33cc7fce3b0">  563</a></span>&#160;<span class="keyword">def </span><a class="code" href="namespacenegui_1_1pgutilities.html#aa839d4997d2bd2c15016c33cc7fce3b0">dialog_returns_nothing</a>( v_return_value ):</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;<span class="stringliteral">    To evaluate return values from askopenfilenames,</span></div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;<span class="stringliteral">    askdirectory, askopenfilename, dialog windows.</span></div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;<span class="stringliteral">    Note that unlike askopenfile (singular),</span></div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;<span class="stringliteral">    an empty tuple is returned by askdirectory when</span></div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;<span class="stringliteral">    the diag is cancelled on the first instance it</span></div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;<span class="stringliteral">    is invoked, and an empty string thereafter.  </span></div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;<span class="stringliteral">    askopenfilenames returns an empty tuple on all cancels.</span></div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span> </div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    b_is_nothing=<span class="keyword">False</span></div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    o_return_type=type( v_return_value )</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <span class="keywordflow">if</span> o_return_type == tuple:</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;        b_is_nothing = ( len( v_return_value ) == 0 )</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <span class="keywordflow">elif</span> o_return_type == str:</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;        b_is_nothing = ( v_return_value == <span class="stringliteral">&quot;&quot;</span> )</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    <span class="keywordflow">elif</span> o_return_type == unicode:</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;        b_is_nothing == <span class="stringliteral">&quot;&quot;</span></div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <span class="keywordflow">else</span>:</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;        s_msg = <span class="stringliteral">&quot;In pgutilities, def dialog_returns_nothing(), &quot;</span> \</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                + <span class="stringliteral">&quot;Unknown return value type: &quot;</span> \</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                + str( o_return_type ) + <span class="stringliteral">&quot;.&quot;</span></div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;        <span class="keywordflow">raise</span> Exception( s_msg )</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <span class="comment">#end if return is a tuple, else string, else error</span></div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <span class="keywordflow">return</span> b_is_nothing </div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;<span class="comment">#end dialog_returns_nothing</span></div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;        </div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;</div><div class="ttc" id="namespacenegui_1_1pgutilities_html_aa839d4997d2bd2c15016c33cc7fce3b0"><div class="ttname"><a href="namespacenegui_1_1pgutilities.html#aa839d4997d2bd2c15016c33cc7fce3b0">negui.pgutilities.dialog_returns_nothing</a></div><div class="ttdeci">def dialog_returns_nothing(v_return_value)</div><div class="ttdef"><b>Definition:</b> <a href="pgutilities_8py_source.html#l00563">pgutilities.py:563</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afb5f5345fa17095a87638daf969f4ebb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def negui.pgutilities.do_operation_outside </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>o_multiprocessing_event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i_input_reps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i_total_processes_for_sims</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_temp_config_file_for_running_replicates</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ls_life_table_files</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_param_names_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_output_basename</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Failed to get independant initialization of population per-replicate
when i used python's multiprocessing.process objects as hosts for 
running replicates in parallel.  Solution as of now, 
Sat Jul 30 22:38:42 MDT 2016, is to use OS processes via python's 
subprocess module, creating them in this def, which gets its
requisite info needed for the sim from the pgguisimupop instance
that calls this def (this def is called in a new python.multiprocessing.process
instance, in order not to block the gui).

Note that this def was originally inside the pgguisimupop instance that calls it,
but on windows there was a pickling error not seen on linux or Mac.  Moving this
target def for the python.multiprocessing.process outside the pgguisimupop instance
seems to have solved the problem on windows (win 10).

This def manages the replices via creating subprocesses, and 
calling pgutilities.prep_and_call_do_pgopsimupop_replicate.</pre> 
<p>Definition at line <a class="el" href="pgutilities_8py_source.html#l00403">403</a> of file <a class="el" href="pgutilities_8py_source.html">pgutilities.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00403"></a><span class="lineno"><a class="line" href="namespacenegui_1_1pgutilities.html#afb5f5345fa17095a87638daf969f4ebb">  403</a></span>&#160;            s_output_basename ):</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;<span class="stringliteral">    Failed to get independant initialization of population per-replicate</span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="stringliteral">    when i used python&#39;s multiprocessing.process objects as hosts for </span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<span class="stringliteral">    running replicates in parallel.  Solution as of now, </span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="stringliteral">    Sat Jul 30 22:38:42 MDT 2016, is to use OS processes via python&#39;s </span></div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="stringliteral">    subprocess module, creating them in this def, which gets its</span></div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<span class="stringliteral">    requisite info needed for the sim from the pgguisimupop instance</span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;<span class="stringliteral">    that calls this def (this def is called in a new python.multiprocessing.process</span></div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="stringliteral">    instance, in order not to block the gui).</span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="stringliteral">    Note that this def was originally inside the pgguisimupop instance that calls it,</span></div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="stringliteral">    but on windows there was a pickling error not seen on linux or Mac.  Moving this</span></div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<span class="stringliteral">    target def for the python.multiprocessing.process outside the pgguisimupop instance</span></div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;<span class="stringliteral">    seems to have solved the problem on windows (win 10).</span></div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="stringliteral">    This def manages the replices via creating subprocesses, and </span></div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="stringliteral">    calling pgutilities.prep_and_call_do_pgopsimupop_replicate.</span></div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span> </div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    s_life_tables_stringified=<span class="stringliteral">&quot;,&quot;</span>.join( ls_life_table_files )</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    s_os_plaform_name=platform.system()</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    b_is_windows_os = ( s_os_plaform_name.lower() == <span class="stringliteral">&quot;windows&quot;</span> )</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="comment">#if we&#39;re on windows, out strings of file</span></div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <span class="comment">#paths may be a mangled mix of unix and </span></div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <span class="comment">#windows separators -- with errors resulting</span></div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <span class="comment">#downstream.  So we standardize:</span></div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <span class="keywordflow">if</span> b_is_windows_os:</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        s_life_tables_stringified= \</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;            fix_windows_path( s_life_tables_stringified )</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        s_param_names_file= \</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;            fix_windows_path( s_param_names_file )              </div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        s_output_basename= \</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;            fix_windows_path( s_output_basename )   </div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <span class="comment">#end if windows, fix file path strings</span></div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    i_total_replicates_requested=i_input_reps</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    i_max_processes_to_use=i_total_processes_for_sims</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <span class="comment">#we use a python command for a -c arg in the Popen command (see below)</span></div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <span class="comment">#and these will be the same args for each replicate (we add the rep-number</span></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <span class="comment">#arg below).  We stringify so that they can be Popen command args.  Some</span></div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <span class="comment">#are de-stringified by the pgutilities def before sending to pgop-creator</span></div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    seq_first_four_args_to_sim_call=( s_temp_config_file_for_running_replicates,</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;                                    s_life_tables_stringified,</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                                    s_param_names_file,</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                                    s_output_basename )</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    </div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    i_total_replicates_started=0</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    o_subprocess_group=IndependantSubprocessGroup()</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <span class="keywordflow">while</span> i_total_replicates_started &lt; i_total_replicates_requested:</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        <span class="comment">#see if we need to cancel:  </span></div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        <span class="keywordflow">if</span> o_multiprocessing_event.is_set():</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;            <span class="keywordflow">if</span> VERBOSE:</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;                <span class="keywordflow">print</span> ( <span class="stringliteral">&quot;received event in setup loop&quot;</span> )</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;            <span class="comment">#end if VERBOSE</span></div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;            o_subprocess_group.terminateAllSubprocesses()</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;            </div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;            <a class="code" href="namespacenegui_1_1pgutilities.html#aa37c7d125e4eaec2eeea639f53fa140d">remove_simulation_replicate_output_files</a>( s_output_basename )</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;            <span class="keywordflow">break</span></div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;            i_number_subprocesses_alive=o_subprocess_group.getTotalAlive()</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;            i_number_subprocesses_available= \</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;                    i_max_processes_to_use-i_number_subprocesses_alive</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;            i_number_replicates_to_go=i_total_replicates_requested - i_total_replicates_started</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;            i_number_subprocesses_to_start=i_number_subprocesses_available</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;            <span class="comment">#reduce the number to start if we have fewer reps to go than avail procs:</span></div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;            <span class="keywordflow">if</span> i_number_subprocesses_available &gt; i_number_replicates_to_go:</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;                    i_number_subprocesses_to_start = i_number_replicates_to_go</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;            <span class="comment">#end if fewer needed than available</span></div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;            <span class="keywordflow">for</span> idx <span class="keywordflow">in</span> range( i_number_subprocesses_to_start ):</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                i_total_replicates_started += 1</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;                </div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                <span class="comment">#In the Popen call, rather than rely on a driver python script </span></div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                <span class="comment">#that would need to be in PATH, we&#39;ll simply</span></div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;                <span class="comment">#invoke python with a &quot;-c&quot; argument that imports the </span></div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                <span class="comment">#pgutilities module and executes the correct def:</span></div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        </div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;                <span class="comment">#complete the set of args used in the command by adding the</span></div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;                <span class="comment">#replicate number (recall need comma in sequence with single item,</span></div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                <span class="comment">#to delineate sequence versus simple expression):</span></div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;                seq_complete_arg_set=seq_first_four_args_to_sim_call + ( str( i_total_replicates_started ), )</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;                <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;<span class="stringliteral">                in case the negui mods are not in the default python </span></div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;<span class="stringliteral">                install dirs, then we need to add them to the sys.paths in</span></div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;<span class="stringliteral">                any  spawned invocation of python exe -- seems that </span></div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;<span class="stringliteral">                the PYTHONPATH env var known to this parent process </span></div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;<span class="stringliteral">                is unknown to the &quot;python&quot; invocation via Popen.  </span></div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;<span class="stringliteral">                We can get for and then add to our new python invocation</span></div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;<span class="stringliteral">                the path to all negui modules by getting the</span></div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;<span class="stringliteral">                path to this module:</span></div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;<span class="stringliteral">                &#39;&#39;&#39;</span></div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;                s_curr_mod_path = os.path.abspath(__file__)</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;                <span class="comment">#path only (stripped off &quot;/utilities.py&quot; )</span></div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;                <span class="comment">#-- gives path to all negui mods:</span></div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                s_mod_dir=os.path.dirname( s_curr_mod_path )</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;                <span class="comment">#need to fix the path if we&#39;re on windows:</span></div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;                <span class="keywordflow">if</span> b_is_windows_os:</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;                    s_mod_dir=fix_windows_path( s_mod_dir )</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                <span class="comment">#end if windows, fix path</span></div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;                </div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;                s_path_append_statements=<span class="stringliteral">&quot;import sys; sys.path.append( \&quot;&quot;</span> \</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;                        + s_mod_dir + <span class="stringliteral">&quot;\&quot; );&quot;</span></div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;                s_python_command=s_path_append_statements + <span class="stringliteral">&quot;import pgutilities;&quot;</span> \</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;                                    <span class="stringliteral">&quot;pgutilities.prep_and_call_do_pgopsimupop_replicate&quot;</span> \</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;                                    + <span class="stringliteral">&quot;( \&quot;%s\&quot;, \&quot;%s\&quot;, \&quot;%s\&quot;, \&quot;%s\&quot;, \&quot;%s\&quot; )&quot;</span> %  seq_complete_arg_set</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;                o_new_subprocess=subprocess.Popen( [ <span class="stringliteral">&quot;python&quot;</span>, <span class="stringliteral">&quot;-c&quot;</span>, s_python_command ] )</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;                o_subprocess_group.addSubprocess( o_new_subprocess ) </div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;            <span class="comment">#end for each idx of new procs</span></div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;        <span class="comment">#end if event is set else not</span></div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <span class="comment">#end while preplicates need to be started</span></div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <span class="comment">#we don&#39;t want to return untill all processes are done.</span></div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    <span class="comment">#meantime test for cancel-request</span></div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    i_total_still_alive_after_creating_all=o_subprocess_group.getTotalAlive()</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <span class="keywordflow">while</span> i_total_still_alive_after_creating_all &gt; 0:</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        <span class="keywordflow">if</span> o_multiprocessing_event.is_set():</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;            <span class="keywordflow">if</span> VERBOSE:</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;                print( <span class="stringliteral">&quot;received event in final loop&quot;</span> )</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;            <span class="comment">#end if verbose</span></div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;            o_subprocess_group.terminateAllSubprocesses()</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;            <a class="code" href="namespacenegui_1_1pgutilities.html#aa37c7d125e4eaec2eeea639f53fa140d">remove_simulation_replicate_output_files</a>( s_output_basename )</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        <span class="comment">#end if we are to cancel</span></div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        i_total_still_alive_after_creating_all=o_subprocess_group.getTotalAlive()</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    <span class="comment">#end while</span></div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <span class="keywordflow">return</span></div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;<span class="comment">#end __do_operation_outside</span></div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;</div><div class="ttc" id="namespacenegui_1_1pgutilities_html_aa37c7d125e4eaec2eeea639f53fa140d"><div class="ttname"><a href="namespacenegui_1_1pgutilities.html#aa37c7d125e4eaec2eeea639f53fa140d">negui.pgutilities.remove_simulation_replicate_output_files</a></div><div class="ttdeci">def remove_simulation_replicate_output_files(s_basename)</div><div class="ttdef"><b>Definition:</b> <a href="pgutilities_8py_source.html#l00286">pgutilities.py:286</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af3612d8b0b5d45a71109ea49eec4f9b0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def negui.pgutilities.do_pgopsimupop_replicate_from_files </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_configuration_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ls_life_table_files</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_param_name_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_outfile_basename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i_replicate_number</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">necessitated by fact that python2 (and 3?) was not able to pickle 
a class-instance def to be used to run replicates of the pgopsimupop
doOp().  Python also failed to pickle SWIG-based code used in Simupop.
Thus the better design, in which  multiprocessing Pools would stay  encapsulated 
inside a class object seem problematic, though may be implement-able using 
reg_copy -- but I'm not confident in state of regcopy of imported simuPop code,
and so  I think is the safer solution, though it
does create a depandancy of the pgguisimupop object on this outside def.  

Note that this def runs a simupop operation using all the param values as
given in the config file arg, except for the "reps" attribute, with is reset to 1,
whatever the value in the configuration file.

Tue Jul 26 22:01:07 MDT 2016
updated to be called by a driver that creates a new OS process, then calls this def to do the replicate.  No longer
uses the dv_input_parm_values_by_attribute, but instead relies on reading a complete and up-to-date (i.e. all values
as changed or edited on the gui interface) configuration files (that includes the "life table" params).
</pre> 
<p>Definition at line <a class="el" href="pgutilities_8py_source.html#l00208">208</a> of file <a class="el" href="pgutilities_8py_source.html">pgutilities.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00208"></a><span class="lineno"><a class="line" href="namespacenegui_1_1pgutilities.html#af3612d8b0b5d45a71109ea49eec4f9b0">  208</a></span>&#160;                                                i_replicate_number ):</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="stringliteral">    necessitated by fact that python2 (and 3?) was not able to pickle </span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="stringliteral">    a class-instance def to be used to run replicates of the pgopsimupop</span></div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="stringliteral">    doOp().  Python also failed to pickle SWIG-based code used in Simupop.</span></div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="stringliteral">    Thus the better design, in which  multiprocessing Pools would stay  encapsulated </span></div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="stringliteral">    inside a class object seem problematic, though may be implement-able using </span></div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="stringliteral">    reg_copy -- but I&#39;m not confident in state of regcopy of imported simuPop code,</span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="stringliteral">    and so  I think is the safer solution, though it</span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="stringliteral">    does create a depandancy of the pgguisimupop object on this outside def.  </span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="stringliteral">    Note that this def runs a simupop operation using all the param values as</span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="stringliteral">    given in the config file arg, except for the &quot;reps&quot; attribute, with is reset to 1,</span></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="stringliteral">    whatever the value in the configuration file.</span></div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="stringliteral">    Tue Jul 26 22:01:07 MDT 2016</span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="stringliteral">    updated to be called by a driver that creates a new OS process, then calls this def to do the replicate.  No longer</span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="stringliteral">    uses the dv_input_parm_values_by_attribute, but instead relies on reading a complete and up-to-date (i.e. all values</span></div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="stringliteral">    as changed or edited on the gui interface) configuration files (that includes the &quot;life table&quot; params).</span></div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    s_tag_out=<span class="stringliteral">&quot;&quot;</span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    NUMBER_FIRST_REPLICATE=1</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="stringliteral">    As of 2016_08_23 the *sim, *gen, *db files</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="stringliteral">    are not used, and clutter up the output directories,</span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="stringliteral">    per other users comments</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="comment">#whether or not to remove the *sim *gen *db</span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="comment">#files (original output from Tiago&#39;s code ), </span></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="comment">#which leaves only a *conf and *genepop</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="comment">#files as output</span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    REMOVE_NON_GENEPOP_SIM_OUTPUT_FILES=<span class="keyword">True</span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="keywordflow">if</span> i_replicate_number <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        s_tag_out=SIMULATION_OUTPUT_FILE_REPLICATE_TAG + str( i_replicate_number )</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="comment">#end if rep number is not none</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    o_resources=pgrec.PGSimuPopResources( ls_life_table_files )</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    o_paramset=pgpar.PGParamSet( s_param_name_file )</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    o_input=pgin.PGInputSimuPop( s_configuration_file, o_resources, o_paramset ) </div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    o_input.makeInputConfig()</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    b_write_conf_file=<span class="keyword">False</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="comment">#we only write the configuraton file if the replicate number is 1:</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="keywordflow">if</span> i_replicate_number == NUMBER_FIRST_REPLICATE:</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        b_write_conf_file=<span class="keyword">True</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="comment">#end if first replicate number</span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="comment">#reset reps to 1</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="comment">#as we are executing only one</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="comment">#replicate.  We assume this def</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="comment">#is being called as one of a number</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="comment">#of parallel process calls for</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="comment">#a set of replicates, the total </span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="comment">#known to the caller:</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    o_input.reps=1</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    o_output=pgout.PGOutputSimuPop( s_outfile_basename )</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    o_new_pgopsimupop_instance=pgsim.PGOpSimuPop( o_input,</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            o_output, </div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            b_remove_db_gen_sim_files=REMOVE_NON_GENEPOP_SIM_OUTPUT_FILES,</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            b_write_input_as_config_file=b_write_conf_file )</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    o_new_pgopsimupop_instance.prepareOp( s_tag_out  )</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    o_new_pgopsimupop_instance.doOp()</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="keywordflow">return</span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="comment">#end do_pgopsimupop_replicate_from_files</span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a20a66168135d35b6713e38b2503f6289"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def negui.pgutilities.do_usage_check </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ls_this_argv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ls_required_arg_descriptions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ls_optional_arg_descriptions</em> = <code>[]</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>b_multi_line_msg</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>b_unlimited_final_args</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_note</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">arg 1 expects sys.argv, or a copy
arg 2 expects a list strings, in order, required args
arg 3 expects a list of strings, in order, any optional args
</pre> 
<p>Definition at line <a class="el" href="pgutilities_8py_source.html#l00048">48</a> of file <a class="el" href="pgutilities_8py_source.html">pgutilities.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="namespacenegui_1_1pgutilities.html#a20a66168135d35b6713e38b2503f6289">   48</a></span>&#160;            s_note=<span class="keywordtype">None</span>):</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="stringliteral">    arg 1 expects sys.argv, or a copy</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="stringliteral">    arg 2 expects a list strings, in order, required args</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="stringliteral">    arg 3 expects a list of strings, in order, any optional args</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    i_num_args_required = len( ls_required_arg_descriptions )</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    i_num_args_optional = len( ls_optional_arg_descriptions )</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    i_max_poss_num_args = i_num_args_required + i_num_args_optional </div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    i_num_args_passed = len( ls_this_argv ) - 1  </div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    s_usage_string = <span class="stringliteral">&quot;&quot;</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    s_arg_delimit=<span class="stringliteral">&quot;&quot;</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="keywordflow">if</span> b_multi_line_msg == <span class="keyword">True</span>:</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        s_arg_delimit=<span class="stringliteral">&quot;\n&quot;</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="comment">#end if we put each arg descript on a </span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="comment">#separate line of output</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="keywordflow">if</span> i_num_args_passed &lt;  i_num_args_required  \</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;            <span class="keywordflow">or</span> (i_num_args_passed &gt; i_max_poss_num_args <span class="keywordflow">and</span> b_unlimited_final_args == <span class="keyword">False</span> ): </div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    </div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        s_scriptname = os.path.basename( ls_this_argv[ 0 ] )    </div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        s_usage_string = <span class="stringliteral">&quot;usage: &quot;</span> + s_scriptname </div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        <span class="keywordflow">if</span> b_multi_line_msg:</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;            s_usage_string=<span class="stringliteral">&quot;usage: &quot;</span> + s_scriptname \</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;                    + <span class="stringliteral">&quot;\nargs:\n&quot;</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;            s_usage_string = <span class="stringliteral">&quot;usage: &quot;</span> + s_scriptname </div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        <span class="comment">#end if multi line else not</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        <span class="keywordflow">for</span> s_arg <span class="keywordflow">in</span> ls_required_arg_descriptions:</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;            s_usage_string += <span class="stringliteral">&quot; &lt;&quot;</span> \</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                + s_arg + <span class="stringliteral">&quot;&gt;&quot;</span> \</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                + s_arg_delimit</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        <span class="comment">#end for each requried arg</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        <span class="keywordflow">for</span> s_arg <span class="keywordflow">in</span> ls_optional_arg_descriptions:</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;            s_usage_string += <span class="stringliteral">&quot; &lt;(optional) &quot;</span> \</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                + s_arg + <span class="stringliteral">&quot;&gt;&quot;</span> \</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                + s_arg_delimit</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        <span class="comment">#end for each required arg</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="comment">#end if number of args is out of range</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="keywordflow">if</span> s_usage_string != <span class="stringliteral">&quot;&quot;</span> <span class="keywordflow">and</span> s_note <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        s_usage_string=s_usage_string + <span class="stringliteral">&quot;\n&quot;</span> + s_note</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="comment">#end if note </span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keywordflow">return</span>  s_usage_string </div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment">#def do_usage_check</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a33737d6b655651fd586e77e269300eb4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def negui.pgutilities.prep_and_call_do_pgopsimupop_replicate </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_config_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_life_table_files</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_param_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_output_base_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_replicate_number</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>end do_sim_replicate_on_separate_os_process </p>
<pre class="fragment">This def to be invoked in a subprocess.Popen command, as
instantiated in a PGGuiSimuPop instance in do_operation.

This def simply prepares the args for the call to def
do_pgopsimupop_replicate_from_files (below).
</pre> 
<p>Definition at line <a class="el" href="pgutilities_8py_source.html#l00182">182</a> of file <a class="el" href="pgutilities_8py_source.html">pgutilities.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00182"></a><span class="lineno"><a class="line" href="namespacenegui_1_1pgutilities.html#a33737d6b655651fd586e77e269300eb4">  182</a></span>&#160;                        s_replicate_number ):</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="stringliteral">&#39;&#39;&#39; </span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="stringliteral">    This def to be invoked in a subprocess.Popen command, as</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="stringliteral">    instantiated in a PGGuiSimuPop instance in do_operation.</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="stringliteral">    This def simply prepares the args for the call to def</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="stringliteral">    do_pgopsimupop_replicate_from_files (below).</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="comment">#de-stringify args for call to def below:</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    ls_life_table_files = s_life_table_files.split( DELIMITER_LIFE_TABLE_FILES )</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    i_replicate_number=int( s_replicate_number )</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <a class="code" href="namespacenegui_1_1pgutilities.html#af3612d8b0b5d45a71109ea49eec4f9b0">do_pgopsimupop_replicate_from_files</a>( s_config_file,</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                        ls_life_table_files,</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                        s_param_file,</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                        s_output_base_name,</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                        i_replicate_number )</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="keywordflow">return</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment">#end prep_and_call_do_pgopsimupop_replicate</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div><div class="ttc" id="namespacenegui_1_1pgutilities_html_af3612d8b0b5d45a71109ea49eec4f9b0"><div class="ttname"><a href="namespacenegui_1_1pgutilities.html#af3612d8b0b5d45a71109ea49eec4f9b0">negui.pgutilities.do_pgopsimupop_replicate_from_files</a></div><div class="ttdeci">def do_pgopsimupop_replicate_from_files(s_configuration_file, ls_life_table_files, s_param_name_file, s_outfile_basename, i_replicate_number)</div><div class="ttdef"><b>Definition:</b> <a href="pgutilities_8py_source.html#l00208">pgutilities.py:208</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa37c7d125e4eaec2eeea639f53fa140d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def negui.pgutilities.remove_simulation_replicate_output_files </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_basename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">When a sim is cancelled inside a PGGuiSimuPop
object, this def is called
to remove any output files produced by the
do_pgopsimupop_replicate_from_files
</pre> 
<p>Definition at line <a class="el" href="pgutilities_8py_source.html#l00286">286</a> of file <a class="el" href="pgutilities_8py_source.html">pgutilities.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00286"></a><span class="lineno"><a class="line" href="namespacenegui_1_1pgutilities.html#aa37c7d125e4eaec2eeea639f53fa140d">  286</a></span>&#160;<span class="keyword">def </span><a class="code" href="namespacenegui_1_1pgutilities.html#aa37c7d125e4eaec2eeea639f53fa140d">remove_simulation_replicate_output_files</a>( s_basename ):</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="stringliteral">    When a sim is cancelled inside a PGGuiSimuPop</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="stringliteral">    object, this def is called</span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="stringliteral">    to remove any output files produced by the</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="stringliteral">    do_pgopsimupop_replicate_from_files</span></div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="comment">#type is to coerce python 3, despite fact that any iterable</span></div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="comment">#would probably suffice:</span></div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    ls_output_extentions=list( \</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;            pgout.PGOutputSimuPop.DICT_OUTPUT_FILE_EXTENSIONS.values() )</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="keywordflow">for</span> s_ext <span class="keywordflow">in</span> ls_output_extentions:</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        s_unzipped_file_pattern=s_basename + <span class="stringliteral">&quot;*&quot;</span> \</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                + SIMULATION_OUTPUT_FILE_REPLICATE_TAG \</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                + <span class="stringliteral">&quot;*&quot;</span> + s_ext</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        ls_files_unzipped=glob.glob( s_unzipped_file_pattern )</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        ls_files_zipped=glob.glob( s_unzipped_file_pattern \</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                + <span class="stringliteral">&quot;.&quot;</span> + pgout.PGOutputSimuPop.COMPRESSION_FILE_EXTENSION )</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        <span class="keywordflow">for</span> s_file <span class="keywordflow">in</span> ls_files_unzipped + ls_files_zipped:</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;            os.remove( s_file )</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        <span class="comment">#end for each unzipped and zipped output file with this extension</span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="comment">#end for each file ext</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <span class="keywordflow">return</span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="comment">#end remove_simulation_replicate_output_files</span></div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;</div><div class="ttc" id="namespacenegui_1_1pgutilities_html_aa37c7d125e4eaec2eeea639f53fa140d"><div class="ttname"><a href="namespacenegui_1_1pgutilities.html#aa37c7d125e4eaec2eeea639f53fa140d">negui.pgutilities.remove_simulation_replicate_output_files</a></div><div class="ttdeci">def remove_simulation_replicate_output_files(s_basename)</div><div class="ttdef"><b>Definition:</b> <a href="pgutilities_8py_source.html#l00286">pgutilities.py:286</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abce749cfc8159cf9aed491a8a1c8dbe3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def negui.pgutilities.run_driveneestimator_in_new_process </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>o_multiprocessing_event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_genepop_files</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_sample_scheme</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>li_sample_params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i_min_pop_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>f_min_allele_freq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i_replicates</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i_num_processes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_runmode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_outfile_basename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_file_delimiter</em> = <code>&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Similar to def above, "do_operation_outside," this def is called from a
PGGuiNeEstimator instance, in def runEstimator(), which first spawns
a python multiprocessing.Process, which targest this def, and provides
it with the multiprocessing.Event that will signal it to abort and cleanup
(see above).

This def is simpler than the do_operation_outside def, however, in that it
spawns only a single OS process, that calls python to execute pgdriveneestimator.py,
which itself multiplexes the NeAnlaysis of multiple genepop files and (likely) multiple
pops per file using python.multiprocessing.Process objects.
</pre> 
<p>Definition at line <a class="el" href="pgutilities_8py_source.html#l00624">624</a> of file <a class="el" href="pgutilities_8py_source.html">pgutilities.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00624"></a><span class="lineno"><a class="line" href="namespacenegui_1_1pgutilities.html#abce749cfc8159cf9aed491a8a1c8dbe3">  624</a></span>&#160;                                        s_file_delimiter=<span class="stringliteral">&quot;,&quot;</span> ):</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;<span class="stringliteral">    Similar to def above, &quot;do_operation_outside,&quot; this def is called from a</span></div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;<span class="stringliteral">    PGGuiNeEstimator instance, in def runEstimator(), which first spawns</span></div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;<span class="stringliteral">    a python multiprocessing.Process, which targest this def, and provides</span></div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;<span class="stringliteral">    it with the multiprocessing.Event that will signal it to abort and cleanup</span></div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;<span class="stringliteral">    (see above).</span></div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;<span class="stringliteral">    This def is simpler than the do_operation_outside def, however, in that it</span></div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;<span class="stringliteral">    spawns only a single OS process, that calls python to execute pgdriveneestimator.py,</span></div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;<span class="stringliteral">    which itself multiplexes the NeAnlaysis of multiple genepop files and (likely) multiple</span></div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;<span class="stringliteral">    pops per file using python.multiprocessing.Process objects.</span></div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    s_os_plaform_name=platform.system()</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    </div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    <span class="comment">#if we&#39;re on windows, file</span></div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    <span class="comment">#paths may be a mangled mix of unix and </span></div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    <span class="comment">#windows separators -- with errors resulting</span></div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <span class="comment">#downstream.  So we standardize:</span></div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    <span class="keywordflow">if</span> s_os_plaform_name == <span class="stringliteral">&quot;windows&quot;</span>:</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;        ls_current_file_list=s_genepop_files.split( s_file_delimiter )</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;        ls_new_file_list=[]</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;        <span class="keywordflow">for</span> s_file <span class="keywordflow">in</span> ls_current_file_list:</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;            ls_new_file_list.append( fix_windows_path( s_file ) )</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;        <span class="comment">#end for each file</span></div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;        </div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;        <span class="comment">#replace orig arg with new &quot;fixed&quot; file paths</span></div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;        s_genepop_files=<span class="stringliteral">&quot;,&quot;</span>.join( ls_new_file_list )</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;        <span class="comment">#also need to fix outile path:</span></div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;        s_outfile_basename = fix_windows_path( s_outfile_basename )</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    <span class="comment">#end if windows, fix file path strings</span></div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    <span class="comment">#get the correct format for pgdriveneestimator.py&#39;s file name parsing alg:</span></div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    s_genepop_files_formatted_as_python_list= \</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;            <a class="code" href="namespacenegui_1_1pgutilities.html#aed0f15b22462914445ffe1ec2a77cbc8">convert_genepop_files_string_to_list_format</a>( s_genepop_files )</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <span class="comment">#caller, assumed to be a pgguineestimator instance,</span></div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    <span class="comment">#will have &quot;default&quot; for the runmode val, </span></div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    <span class="comment">#when no extra output is desired, and multiprocessing is also</span></div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    <span class="comment">#desired.  We convert to the proper term used by pgdriveneestimator.py</span></div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <span class="comment">#to designate this type of run:</span></div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    <span class="keywordflow">if</span> s_runmode==<span class="stringliteral">&quot;default&quot;</span>:</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;        s_runmode=<span class="stringliteral">&quot;no_debug&quot;</span></div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <span class="comment">#end if default runmode</span></div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    seq_arg_set=( s_genepop_files_formatted_as_python_list,</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;                        s_sample_scheme,</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;                        <span class="stringliteral">&quot;,&quot;</span>.join( [ str( i_param) <span class="keywordflow">for</span> i_param <span class="keywordflow">in</span> li_sample_params ] ),</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;                        str( i_min_pop_size ),</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;                        str( f_min_allele_freq ),</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;                        str( i_replicates ),</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;                        str( i_num_processes ),</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;                        s_runmode )</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    s_main_output_filename=s_outfile_basename + <span class="stringliteral">&quot;.&quot;</span> \</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;            + NE_ESTIMATION_MAIN_TABLE_FILE_EXT</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    s_secondary_output_filename=s_outfile_basename + <span class="stringliteral">&quot;.&quot;</span> \</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;            + NE_ESTIMATION_SECONDARY_OUTPUT_FILE_EXT</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    <span class="comment">#pgdriveneestimator will write stdout and stderr, respectively</span></div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    <span class="comment">#to these files:</span></div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    o_main_output=open( s_main_output_filename, <span class="stringliteral">&#39;w&#39;</span> )</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    o_secondary_output=open( s_secondary_output_filename, <span class="stringliteral">&#39;w&#39;</span> )</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    seq_arg_set += ( o_main_output, o_secondary_output )</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    </div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <span class="comment">#the driver also takes a final arg, ref to</span></div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    <span class="comment">#the multiproc event -- and then checks for </span></div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    <span class="comment">#it being set during map_async when using multiprocesses</span></div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    <span class="comment">#(see pgdriveneestimator.py def execute_ne_for_each_sample):</span></div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    seq_arg_set += ( o_multiprocessing_event, )</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    pgne.mymain( *seq_arg_set )</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    o_main_output.close()</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    o_secondary_output.close()</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    <span class="keywordflow">return</span></div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;<span class="comment">#end run_driveneestimator_in_new_process</span></div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;</div><div class="ttc" id="namespacenegui_1_1pgutilities_html_aed0f15b22462914445ffe1ec2a77cbc8"><div class="ttname"><a href="namespacenegui_1_1pgutilities.html#aed0f15b22462914445ffe1ec2a77cbc8">negui.pgutilities.convert_genepop_files_string_to_list_format</a></div><div class="ttdeci">def convert_genepop_files_string_to_list_format(s_genepop_files)</div><div class="ttdef"><b>Definition:</b> <a href="pgutilities_8py_source.html#l00596">pgutilities.py:596</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.12
</small></address>
</body>
</html>
