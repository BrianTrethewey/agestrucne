\hypertarget{classnegui_1_1pgoutputneestimator_1_1PGOutputNeEstimator}{}\section{negui.\+pgoutputneestimator.\+P\+G\+Output\+Ne\+Estimator Class Reference}
\label{classnegui_1_1pgoutputneestimator_1_1PGOutputNeEstimator}\index{negui.\+pgoutputneestimator.\+P\+G\+Output\+Ne\+Estimator@{negui.\+pgoutputneestimator.\+P\+G\+Output\+Ne\+Estimator}}
Inheritance diagram for negui.\+pgoutputneestimator.\+P\+G\+Output\+Ne\+Estimator\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classnegui_1_1pgoutputneestimator_1_1PGOutputNeEstimator}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def {\bfseries \+\_\+\+\_\+init\+\_\+\+\_\+} (self, s\+\_\+input\+\_\+file, s\+\_\+run\+\_\+output\+\_\+filename)\hypertarget{classnegui_1_1pgoutputneestimator_1_1PGOutputNeEstimator_a668859c930e6bd9b31bda4af9bd79c54}{}\label{classnegui_1_1pgoutputneestimator_1_1PGOutputNeEstimator_a668859c930e6bd9b31bda4af9bd79c54}

\item 
def \hyperlink{classnegui_1_1pgoutputneestimator_1_1PGOutputNeEstimator_a7b6885cf565cb604ab24d7082858f57b}{parse\+Output} (self)
\item 
def {\bfseries get\+No\+Dat\+File\+Name} (self)\hypertarget{classnegui_1_1pgoutputneestimator_1_1PGOutputNeEstimator_a10c975df76c0f893c4814cf0b492cae6}{}\label{classnegui_1_1pgoutputneestimator_1_1PGOutputNeEstimator_a10c975df76c0f893c4814cf0b492cae6}

\item 
def \hyperlink{classnegui_1_1pgoutputneestimator_1_1PGOutputNeEstimator_a4f8192c2aacf6e38b2c4c1d80302b643}{parse\+No\+Dat\+File} (self)
\item 
def {\bfseries parsed\+\_\+output} (self)\hypertarget{classnegui_1_1pgoutputneestimator_1_1PGOutputNeEstimator_ae97f8f35f02d9026bc1796daa3ed7aca}{}\label{classnegui_1_1pgoutputneestimator_1_1PGOutputNeEstimator_ae97f8f35f02d9026bc1796daa3ed7aca}

\item 
def {\bfseries parsed\+\_\+nodat\+\_\+info} (self)\hypertarget{classnegui_1_1pgoutputneestimator_1_1PGOutputNeEstimator_a9842661b1a2ff8f5b0fb95cdbf45c1f9}{}\label{classnegui_1_1pgoutputneestimator_1_1PGOutputNeEstimator_a9842661b1a2ff8f5b0fb95cdbf45c1f9}

\item 
def {\bfseries run\+\_\+output\+\_\+file} (self)\hypertarget{classnegui_1_1pgoutputneestimator_1_1PGOutputNeEstimator_a5e510dccae0f66ae63f86d46e6c46a36}{}\label{classnegui_1_1pgoutputneestimator_1_1PGOutputNeEstimator_a5e510dccae0f66ae63f86d46e6c46a36}

\item 
def {\bfseries ouput\+\_\+file} (self, s\+\_\+name)\hypertarget{classnegui_1_1pgoutputneestimator_1_1PGOutputNeEstimator_ae1d4e1c9f11e5050f0e839e74968c31f}{}\label{classnegui_1_1pgoutputneestimator_1_1PGOutputNeEstimator_ae1d4e1c9f11e5050f0e839e74968c31f}

\item 
def {\bfseries run\+\_\+input\+\_\+file} (self)\hypertarget{classnegui_1_1pgoutputneestimator_1_1PGOutputNeEstimator_ac3204c39eb40e0e5a9c16906382d98a5}{}\label{classnegui_1_1pgoutputneestimator_1_1PGOutputNeEstimator_ac3204c39eb40e0e5a9c16906382d98a5}

\item 
def {\bfseries run\+\_\+input\+\_\+file} (self, s\+\_\+name)\hypertarget{classnegui_1_1pgoutputneestimator_1_1PGOutputNeEstimator_aaa66e700b71e0f86af69c9301be4aed2}{}\label{classnegui_1_1pgoutputneestimator_1_1PGOutputNeEstimator_aaa66e700b71e0f86af69c9301be4aed2}

\item 
def {\bfseries output\+\_\+fields} (self)\hypertarget{classnegui_1_1pgoutputneestimator_1_1PGOutputNeEstimator_a3c833e27a8bf526b8e0003843d21f7aa}{}\label{classnegui_1_1pgoutputneestimator_1_1PGOutputNeEstimator_a3c833e27a8bf526b8e0003843d21f7aa}

\end{DoxyCompactItemize}
\subsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
list {\bfseries O\+U\+T\+P\+U\+T\+\_\+\+F\+I\+E\+L\+DS}
\item 
list {\bfseries N\+O\+D\+A\+T\+\_\+\+F\+I\+E\+L\+DS} = \mbox{[} \char`\"{}Individual\char`\"{}, \char`\"{}Locus\char`\"{}, \char`\"{}Genotype\char`\"{}, \char`\"{}Number\+Loci\+Missing\+Data\char`\"{} \mbox{]}\hypertarget{classnegui_1_1pgoutputneestimator_1_1PGOutputNeEstimator_a4e5c6c9926a8f963e36d83d858366c4d}{}\label{classnegui_1_1pgoutputneestimator_1_1PGOutputNeEstimator_a4e5c6c9926a8f963e36d83d858366c4d}

\item 
list {\bfseries O\+U\+T\+P\+U\+T\+\_\+\+T\+I\+A\+G\+O\+\_\+\+A\+B\+B\+R\+E\+VS} = \mbox{[} \char`\"{}ne\char`\"{},\char`\"{}neci05\char`\"{} , \char`\"{}neci975\char`\"{}, \char`\"{}or2\char`\"{}, \char`\"{}sr2\char`\"{}, \char`\"{}indep\char`\"{}, \char`\"{}hmean\char`\"{} \mbox{]}\hypertarget{classnegui_1_1pgoutputneestimator_1_1PGOutputNeEstimator_a916a47666e6360ea279b944832907b27}{}\label{classnegui_1_1pgoutputneestimator_1_1PGOutputNeEstimator_a916a47666e6360ea279b944832907b27}

\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line 12 of file pgoutputneestimator.\+py.



\subsection{Member Function Documentation}
\index{negui\+::pgoutputneestimator\+::\+P\+G\+Output\+Ne\+Estimator@{negui\+::pgoutputneestimator\+::\+P\+G\+Output\+Ne\+Estimator}!parse\+No\+Dat\+File@{parse\+No\+Dat\+File}}
\index{parse\+No\+Dat\+File@{parse\+No\+Dat\+File}!negui\+::pgoutputneestimator\+::\+P\+G\+Output\+Ne\+Estimator@{negui\+::pgoutputneestimator\+::\+P\+G\+Output\+Ne\+Estimator}}
\subsubsection[{\texorpdfstring{parse\+No\+Dat\+File(self)}{parseNoDatFile(self)}}]{\setlength{\rightskip}{0pt plus 5cm}def negui.\+pgoutputneestimator.\+P\+G\+Output\+Ne\+Estimator.\+parse\+No\+Dat\+File (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}\hypertarget{classnegui_1_1pgoutputneestimator_1_1PGOutputNeEstimator_a4f8192c2aacf6e38b2c4c1d80302b643}{}\label{classnegui_1_1pgoutputneestimator_1_1PGOutputNeEstimator_a4f8192c2aacf6e38b2c4c1d80302b643}
\begin{DoxyVerb}This def is provisional, since I have only seen
a few of the *NoDat.txt files generated by
NeEstimator (v2). I base the parsing on examples like this:

Population 1 [OmyLGRA12S_0213]  
-----------------------------------------------------------
Individual       Locus         Genotype     Number of Loci
                          with missing data
       1            9             0000             4   
----------------------------------------------------------  

    

However thin the ground, this def assumes

1. multipop results will simply have more table entries
like the one above.

2. If a line in the NeEstimator's "*NoDat.txt" file
starts with the value below in COLHEADSTART, and 
contains the other column keywords given below
in COLSINCLUDE, that is must be the header and
also that the data follows after one mostly line blank
but for a tag on the last column header

3. Population name entry for each table is uniqely
located by the line starting with value below in POPLINESTART
\end{DoxyVerb}
 

Definition at line 131 of file pgoutputneestimator.\+py.


\begin{DoxyCode}
131     \textcolor{keyword}{def }\hyperlink{classnegui_1_1pgoutputneestimator_1_1PGOutputNeEstimator_a4f8192c2aacf6e38b2c4c1d80302b643}{parseNoDatFile}( self ):
132         \textcolor{stringliteral}{'''}
133 \textcolor{stringliteral}{        This def is provisional, since I have only seen}
134 \textcolor{stringliteral}{        a few of the *NoDat.txt files generated by}
135 \textcolor{stringliteral}{        NeEstimator (v2). I base the parsing on examples like this:}
136 \textcolor{stringliteral}{}
137 \textcolor{stringliteral}{        Population 1 [OmyLGRA12S\_0213]  }
138 \textcolor{stringliteral}{        -----------------------------------------------------------}
139 \textcolor{stringliteral}{        Individual       Locus         Genotype     Number of Loci}
140 \textcolor{stringliteral}{                                          with missing data}
141 \textcolor{stringliteral}{               1            9             0000             4   }
142 \textcolor{stringliteral}{        ----------------------------------------------------------  }
143 \textcolor{stringliteral}{        }
144 \textcolor{stringliteral}{    }
145 \textcolor{stringliteral}{        }
146 \textcolor{stringliteral}{        However thin the ground, this def assumes}
147 \textcolor{stringliteral}{}
148 \textcolor{stringliteral}{        1. multipop results will simply have more table entries}
149 \textcolor{stringliteral}{        like the one above.}
150 \textcolor{stringliteral}{}
151 \textcolor{stringliteral}{        2. If a line in the NeEstimator's "*NoDat.txt" file}
152 \textcolor{stringliteral}{        starts with the value below in COLHEADSTART, and }
153 \textcolor{stringliteral}{        contains the other column keywords given below}
154 \textcolor{stringliteral}{        in COLSINCLUDE, that is must be the header and}
155 \textcolor{stringliteral}{        also that the data follows after one mostly line blank}
156 \textcolor{stringliteral}{        but for a tag on the last column header}
157 \textcolor{stringliteral}{}
158 \textcolor{stringliteral}{        3. Population name entry for each table is uniqely}
159 \textcolor{stringliteral}{        located by the line starting with value below in POPLINESTART}
160 \textcolor{stringliteral}{        '''}
161 
162 
163         POPLINESTART=\textcolor{stringliteral}{"Population"}
164         COLHEADSTART=\textcolor{stringliteral}{"Individual"}       
165         COLSINCLUDE=[ \textcolor{stringliteral}{"Locus"}, \textcolor{stringliteral}{"Genotype"}, \textcolor{stringliteral}{"Number of Loci"} ]
166         ENDTABLELINESTART=\textcolor{stringliteral}{"----------------------"}  
167 
168         s\_name=self.\hyperlink{classnegui_1_1pgoutputneestimator_1_1PGOutputNeEstimator_ab1fea13d322982ecc8b5fbe42741de50}{\_\_get\_name\_nodat\_file}()
169 
170         \textcolor{keywordflow}{if} s\_name \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
171             \textcolor{keywordflow}{return}
172         \textcolor{comment}{#end return if no nodat file}
173 
174         self.\hyperlink{classnegui_1_1pgoutputneestimator_1_1PGOutputNeEstimator_acd31d6f910fc03d1945e38b6c4fa79c0}{\_\_parsed\_nodat\_output}=[]
175 
176         o\_file=open( s\_name )
177 
178         b\_found\_header=\textcolor{keyword}{False}
179         i\_table\_lines\_count=0
180         s\_currpop=\textcolor{stringliteral}{""}
181         \textcolor{keywordflow}{for} s\_line \textcolor{keywordflow}{in} o\_file:
182 
183             i\_num\_match=0
184             \textcolor{keywordflow}{if} s\_line.startswith( POPLINESTART ):
185                 \textcolor{comment}{#we replace spaces in the pop name:}
186                 s\_currpop=s\_line.strip().replace( \textcolor{stringliteral}{" "}, \textcolor{stringliteral}{"\_"} )
187             \textcolor{keywordflow}{elif} s\_line.startswith(COLHEADSTART):
188                 lb\_trues=[ s\_col \textcolor{keywordflow}{in} s\_line \textcolor{keywordflow}{for} s\_col \textcolor{keywordflow}{in} COLSINCLUDE ]
189                 \textcolor{keywordflow}{if} sum( lb\_trues ) == len( COLSINCLUDE ):
190                     b\_found\_header=\textcolor{keyword}{True}
191                     i\_table\_lines\_count=0
192                 \textcolor{comment}{#end if all header names in line}
193             \textcolor{keywordflow}{else}:
194                 \textcolor{comment}{#first line after header is more header:}
195                 \textcolor{keywordflow}{if} b\_found\_header \textcolor{keywordflow}{and} i\_table\_lines\_count > 1:
196                     \textcolor{comment}{#if end of table for currpop, }
197                     \textcolor{comment}{#reset flag, line counts}
198                     \textcolor{keywordflow}{if} s\_line.startswith( ENDTABLELINESTART ):
199                         b\_found\_header=\textcolor{keyword}{False}
200                         i\_table\_lines\_count=0
201                     \textcolor{keywordflow}{else}:
202                         i\_table\_lines\_count+=1
203                         \textcolor{comment}{#NoDat.txt files data cols}
204                         \textcolor{comment}{#are seperated by multiple space chars,}
205                         \textcolor{comment}{#so we use the default split to}
206                         \textcolor{comment}{#list only non-space as items:  }
207                         ls\_vals=s\_line.strip().split() 
208                         \textcolor{comment}{#first col is the pop name}
209                         self.\_\_parsed\_nodat\_output.append( [ s\_currpop ] \(\backslash\)
210                                 + [ s\_val \textcolor{keywordflow}{for} s\_val \textcolor{keywordflow}{in} ls\_vals ] )
211                     \textcolor{comment}{#end if end-table line, else data}
212                 \textcolor{comment}{#end if header's been found and we're past the non-date line}
213             \textcolor{comment}{#end if pop line else header line, else some other line}
214         \textcolor{comment}{#end for each line in nodat file}
215 
216         o\_file.close()
217         \textcolor{keywordflow}{return}
\end{DoxyCode}
\index{negui\+::pgoutputneestimator\+::\+P\+G\+Output\+Ne\+Estimator@{negui\+::pgoutputneestimator\+::\+P\+G\+Output\+Ne\+Estimator}!parse\+Output@{parse\+Output}}
\index{parse\+Output@{parse\+Output}!negui\+::pgoutputneestimator\+::\+P\+G\+Output\+Ne\+Estimator@{negui\+::pgoutputneestimator\+::\+P\+G\+Output\+Ne\+Estimator}}
\subsubsection[{\texorpdfstring{parse\+Output(self)}{parseOutput(self)}}]{\setlength{\rightskip}{0pt plus 5cm}def negui.\+pgoutputneestimator.\+P\+G\+Output\+Ne\+Estimator.\+parse\+Output (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}\hypertarget{classnegui_1_1pgoutputneestimator_1_1PGOutputNeEstimator_a7b6885cf565cb604ab24d7082858f57b}{}\label{classnegui_1_1pgoutputneestimator_1_1PGOutputNeEstimator_a7b6885cf565cb604ab24d7082858f57b}
\begin{DoxyVerb}We assume that for the estimated ne value,
and its associated CI values, that a value of None in
the dict returned by ne2.parse def (see above 
__get_parsed_output_data, reflects
an "Infinite" value in the origina Ne estimator output
and so convert it to "Inf,"  as R uses Inf for Infinity
\end{DoxyVerb}
 

Definition at line 71 of file pgoutputneestimator.\+py.


\begin{DoxyCode}
71     \textcolor{keyword}{def }\hyperlink{classnegui_1_1pgoutputneestimator_1_1PGOutputNeEstimator_a7b6885cf565cb604ab24d7082858f57b}{parseOutput}( self ):
72         \textcolor{stringliteral}{'''}
73 \textcolor{stringliteral}{        We assume that for the estimated ne value,}
74 \textcolor{stringliteral}{        and its associated CI values, that a value of None in}
75 \textcolor{stringliteral}{        the dict returned by ne2.parse def (see above }
76 \textcolor{stringliteral}{        \_\_get\_parsed\_output\_data, reflects}
77 \textcolor{stringliteral}{        an "Infinite" value in the origina Ne estimator output}
78 \textcolor{stringliteral}{        and so convert it to "Inf,"  as R uses Inf for Infinity}
79 \textcolor{stringliteral}{        '''}
80 
81         MISSING\_DATA\_ENTRY=\textcolor{stringliteral}{"NA"}
82         INFINITE\_VALUE=\textcolor{stringliteral}{"Inf"}
83 
84         dv\_results=self.\hyperlink{classnegui_1_1pgoutputneestimator_1_1PGOutputNeEstimator_a70fbaa3f31f7d7c3ec0fdea15e923680}{\_\_get\_parsed\_output\_data}()
85 
86         self.\hyperlink{classnegui_1_1pgoutputneestimator_1_1PGOutputNeEstimator_a3579f427ddfe05902a6f4e3301704191}{\_\_parsed\_output}=[]
87         
88         \textcolor{keywordflow}{for} fcases \textcolor{keywordflow}{in} dv\_results.ld:
89             case = fcases[0] 
90             ne = case[\textcolor{stringliteral}{'EstNe'}]  \textcolor{keywordflow}{if} case[ \textcolor{stringliteral}{'EstNe'} ] \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None} \textcolor{keywordflow}{else} INFINITE\_VALUE
91             or2 = case[\textcolor{stringliteral}{'OvRSquare'}] 
92             sr2 = case[\textcolor{stringliteral}{'ExpRSquareSample'}] 
93             indep = case[\textcolor{stringliteral}{'IndepComp'}] 
94             hmean = case[\textcolor{stringliteral}{'HMean'}] 
95             ne05, ne975 = tuple(case[\textcolor{stringliteral}{'ParaNe'}]) 
96             \textcolor{comment}{#check the indivicual values of the CI's:}
97             ne05=ne05 \textcolor{keywordflow}{if} ne05 \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None} \textcolor{keywordflow}{else} INFINITE\_VALUE 
98             ne975=ne975 \textcolor{keywordflow}{if} ne975 \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None} \textcolor{keywordflow}{else} INFINITE\_VALUE
99 
100             lv\_rawvals=[ ne, ne05, ne975, or2, sr2, indep, hmean  ] 
101             lv\_vals=[ v\_val \textcolor{keywordflow}{if} v\_val \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None} \textcolor{keywordflow}{else} MISSING\_DATA\_ENTRY \textcolor{keywordflow}{for} v\_val \textcolor{keywordflow}{in} lv\_rawvals ]
102             self.\_\_parsed\_output.append(  lv\_vals  )
103         \textcolor{comment}{#end for each case}
104             
105         \textcolor{keywordflow}{return}
\end{DoxyCode}


\subsection{Member Data Documentation}
\index{negui\+::pgoutputneestimator\+::\+P\+G\+Output\+Ne\+Estimator@{negui\+::pgoutputneestimator\+::\+P\+G\+Output\+Ne\+Estimator}!O\+U\+T\+P\+U\+T\+\_\+\+F\+I\+E\+L\+DS@{O\+U\+T\+P\+U\+T\+\_\+\+F\+I\+E\+L\+DS}}
\index{O\+U\+T\+P\+U\+T\+\_\+\+F\+I\+E\+L\+DS@{O\+U\+T\+P\+U\+T\+\_\+\+F\+I\+E\+L\+DS}!negui\+::pgoutputneestimator\+::\+P\+G\+Output\+Ne\+Estimator@{negui\+::pgoutputneestimator\+::\+P\+G\+Output\+Ne\+Estimator}}
\subsubsection[{\texorpdfstring{O\+U\+T\+P\+U\+T\+\_\+\+F\+I\+E\+L\+DS}{OUTPUT_FIELDS}}]{\setlength{\rightskip}{0pt plus 5cm}list negui.\+pgoutputneestimator.\+P\+G\+Output\+Ne\+Estimator.\+O\+U\+T\+P\+U\+T\+\_\+\+F\+I\+E\+L\+DS\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classnegui_1_1pgoutputneestimator_1_1PGOutputNeEstimator_aa78fb93f7acf4a769ae309f1a3b94302}{}\label{classnegui_1_1pgoutputneestimator_1_1PGOutputNeEstimator_aa78fb93f7acf4a769ae309f1a3b94302}
{\bfseries Initial value\+:}
\begin{DoxyCode}
1 = [ \textcolor{stringliteral}{"est\_ne"},\textcolor{stringliteral}{"95ci\_low"},\textcolor{stringliteral}{"95ci\_high"},\textcolor{stringliteral}{"overall\_rsquared"},
2                     \textcolor{stringliteral}{"expected\_rsquared"},\textcolor{stringliteral}{"indep\_comparisons"},\textcolor{stringliteral}{"harmon\_mean\_samp\_size"} ]
\end{DoxyCode}


Definition at line 14 of file pgoutputneestimator.\+py.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
pgoutputneestimator.\+py\end{DoxyCompactItemize}
