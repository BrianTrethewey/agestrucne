\hypertarget{namespacenegui_1_1pgvalidationdefs}{}\section{negui.\+pgvalidationdefs Namespace Reference}
\label{namespacenegui_1_1pgvalidationdefs}\index{negui.\+pgvalidationdefs@{negui.\+pgvalidationdefs}}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{namespacenegui_1_1pgvalidationdefs_a4b7d8191dc9d960485de54ff057da930}{validate\+Nb\+Adjustment} (s\+\_\+adjustment, i\+\_\+highest\+\_\+cycle\+\_\+number=1e20)
\item 
def {\bfseries validate\+Start\+Save} (i\+\_\+value, i\+\_\+max\+\_\+cycle\+\_\+number=None)\hypertarget{namespacenegui_1_1pgvalidationdefs_a1c9aaad56b10935c66e0204f0e0ac014}{}\label{namespacenegui_1_1pgvalidationdefs_a1c9aaad56b10935c66e0204f0e0ac014}

\item 
def {\bfseries validate\+Het\+Filter} (s\+\_\+het\+\_\+filter)\hypertarget{namespacenegui_1_1pgvalidationdefs_ab2d1f923cd9556fdb3f63bf637793829}{}\label{namespacenegui_1_1pgvalidationdefs_ab2d1f923cd9556fdb3f63bf637793829}

\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
bool {\bfseries V\+E\+R\+B\+O\+SE} = False\hypertarget{namespacenegui_1_1pgvalidationdefs_a7f32dbaa7f0b8ef9c2695e6078398807}{}\label{namespacenegui_1_1pgvalidationdefs_a7f32dbaa7f0b8ef9c2695e6078398807}

\item 
bool {\bfseries V\+E\+R\+Y\+\_\+\+V\+E\+R\+B\+O\+SE} = False\hypertarget{namespacenegui_1_1pgvalidationdefs_ad0a217377cd82d9c2fa4942b94f35011}{}\label{namespacenegui_1_1pgvalidationdefs_ad0a217377cd82d9c2fa4942b94f35011}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
\begin{DoxyVerb}Description
\end{DoxyVerb}
 

\subsection{Function Documentation}
\index{negui\+::pgvalidationdefs@{negui\+::pgvalidationdefs}!validate\+Nb\+Adjustment@{validate\+Nb\+Adjustment}}
\index{validate\+Nb\+Adjustment@{validate\+Nb\+Adjustment}!negui\+::pgvalidationdefs@{negui\+::pgvalidationdefs}}
\subsubsection[{\texorpdfstring{validate\+Nb\+Adjustment(s\+\_\+adjustment, i\+\_\+highest\+\_\+cycle\+\_\+number=1e20)}{validateNbAdjustment(s_adjustment, i_highest_cycle_number=1e20)}}]{\setlength{\rightskip}{0pt plus 5cm}def negui.\+pgvalidationdefs.\+validate\+Nb\+Adjustment (
\begin{DoxyParamCaption}
\item[{}]{s\+\_\+adjustment, }
\item[{}]{i\+\_\+highest\+\_\+cycle\+\_\+number = {\ttfamily 1e20}}
\end{DoxyParamCaption}
)}\hypertarget{namespacenegui_1_1pgvalidationdefs_a4b7d8191dc9d960485de54ff057da930}{}\label{namespacenegui_1_1pgvalidationdefs_a4b7d8191dc9d960485de54ff057da930}
\begin{DoxyVerb}2017_03_08. This def is created to handle the PGInputSimuPop
parameter nbadjustment, which requires a more elaborate
validation than do the others that can be validated using
a simple boolean statement.
We test the user's entry into the list of strings that give
the cycle range and adjustment rate by creating an 
NbAdjustmentRangeAndRate object, solely to test it using
that objects validation code.  See the class description
and code for NbAdjustmentRangeAndRate in module pgutilityclasses.

2017_03_26.  This def was originally in the pgguisimupop.py class,
but, as called there from KeyValueFrame objects via the ValueValidator
object instances, a recursive set of validations sometimes occurred.
This module is imported by the pgutilityclasses.ValueValidator class,
so that def names can be passed as simple strings to the ValueValidator,
and the latter object can test the string to see if it is defined and
callable.  This means that the i_highest_cycle_number parameter is 
currently not passed, since the value validator can  only pass a single
value to its validation defs.  This is a difficult restriction to overcome,
since we are trying to automate validation defs in the resources/*param.names
entries, and need non-parametric calls and expressions.

Note, too that the validation message "s_msg" below, that I am reatining,
and that used to be raised when this was a def member of PGGuiSimuPop objects, 
is currently not used.  This is again due to the restricted return values 
required by ValueValidator's minimalist interface.\end{DoxyVerb}
 

Definition at line 13 of file pgvalidationdefs.\+py.


\begin{DoxyCode}
13 \textcolor{keyword}{def }\hyperlink{namespacenegui_1_1pgvalidationdefs_a4b7d8191dc9d960485de54ff057da930}{validateNbAdjustment}( s\_adjustment, i\_highest\_cycle\_number=1e20 ):
14     \textcolor{stringliteral}{'''}
15 \textcolor{stringliteral}{    2017\_03\_08. This def is created to handle the PGInputSimuPop}
16 \textcolor{stringliteral}{    parameter nbadjustment, which requires a more elaborate}
17 \textcolor{stringliteral}{    validation than do the others that can be validated using}
18 \textcolor{stringliteral}{    a simple boolean statement.}
19 \textcolor{stringliteral}{    We test the user's entry into the list of strings that give}
20 \textcolor{stringliteral}{    the cycle range and adjustment rate by creating an }
21 \textcolor{stringliteral}{    NbAdjustmentRangeAndRate object, solely to test it using}
22 \textcolor{stringliteral}{    that objects validation code.  See the class description}
23 \textcolor{stringliteral}{    and code for NbAdjustmentRangeAndRate in module pgutilityclasses.}
24 \textcolor{stringliteral}{}
25 \textcolor{stringliteral}{    2017\_03\_26.  This def was originally in the pgguisimupop.py class,}
26 \textcolor{stringliteral}{    but, as called there from KeyValueFrame objects via the ValueValidator}
27 \textcolor{stringliteral}{    object instances, a recursive set of validations sometimes occurred.}
28 \textcolor{stringliteral}{    This module is imported by the pgutilityclasses.ValueValidator class,}
29 \textcolor{stringliteral}{    so that def names can be passed as simple strings to the ValueValidator,}
30 \textcolor{stringliteral}{    and the latter object can test the string to see if it is defined and}
31 \textcolor{stringliteral}{    callable.  This means that the i\_highest\_cycle\_number parameter is }
32 \textcolor{stringliteral}{    currently not passed, since the value validator can  only pass a single}
33 \textcolor{stringliteral}{    value to its validation defs.  This is a difficult restriction to overcome,}
34 \textcolor{stringliteral}{    since we are trying to automate validation defs in the resources/*param.names}
35 \textcolor{stringliteral}{    entries, and need non-parametric calls and expressions.}
36 \textcolor{stringliteral}{}
37 \textcolor{stringliteral}{    Note, too that the validation message "s\_msg" below, that I am reatining,}
38 \textcolor{stringliteral}{    and that used to be raised when this was a def member of PGGuiSimuPop objects, }
39 \textcolor{stringliteral}{    is currently not used.  This is again due to the restricted return values }
40 \textcolor{stringliteral}{    required by ValueValidator's minimalist interface.}
41 \textcolor{stringliteral}{}
42 \textcolor{stringliteral}{    '''}
43 
44     b\_return\_val=\textcolor{keyword}{True}
45     i\_lowest\_cycle\_number=2
46 
47     s\_msg=\textcolor{stringliteral}{"In mod pgvalidationdefs.py, def validateNbAdjustment, "} \(\backslash\)
48                         + \textcolor{stringliteral}{"there was an error in the range "} \(\backslash\)
49                         + \textcolor{stringliteral}{"and rate entry. The entry was: "} \(\backslash\)
50                         + s\_adjustment + \textcolor{stringliteral}{".  "} \(\backslash\)
51                         + \textcolor{stringliteral}{"\(\backslash\)n\(\backslash\)nThe correct format is min-max:rate, where "} \(\backslash\)
52                         + \textcolor{stringliteral}{"min is a starting cycle number, "} \(\backslash\)
53                         + \textcolor{stringliteral}{"max is an ending cycle number, "} \(\backslash\)
54                         + \textcolor{stringliteral}{"and rate is the proportion by which to "} \(\backslash\)
55                         + \textcolor{stringliteral}{"multiply Nb and the age/class individual counts "} \(\backslash\)
56                         + \textcolor{stringliteral}{"to be applied for each cycle in the range."} 
57 
58 
59     \textcolor{keywordflow}{if} VERY\_VERBOSE:
60         print( \textcolor{stringliteral}{"--------------------"} )
61         print( \textcolor{stringliteral}{"in pgguisimupop, validateNbAdjustment with value: "}  + s\_adjustment )
62     \textcolor{comment}{#end very verbose }
63 
64     \textcolor{keywordflow}{if}  i\_highest\_cycle\_number < i\_lowest\_cycle\_number:
65 
66         \textcolor{keywordflow}{if} VERY\_VERBOSE:
67             print( \textcolor{stringliteral}{"returning false on cycle number test"} )
68         \textcolor{comment}{#end if very verbose}
69 
70         s\_msg=\textcolor{stringliteral}{"In mod pgvalidationdefs.py, def validateNbAdjustment, "} \(\backslash\)
71                 \textcolor{stringliteral}{"cannot validate cycle range:  current setting for "} \(\backslash\)
72                 + \textcolor{stringliteral}{"total generations is less than the allowed minimum for "} \(\backslash\)
73                 + \textcolor{stringliteral}{"adjustment (cycle "} + str( i\_lowest\_cycle\_number ) + \textcolor{stringliteral}{")."}
74 
75         b\_return\_val = \textcolor{keyword}{False}
76 
77     \textcolor{keywordflow}{else}:
78 
79         ls\_adj\_vals=s\_adjustment.split( \textcolor{stringliteral}{":"} )
80 
81         \textcolor{keywordflow}{if} len( ls\_adj\_vals ) != 2:
82             b\_return\_val = \textcolor{keyword}{False}
83         \textcolor{keywordflow}{else}:
84 
85             s\_cycle\_range=ls\_adj\_vals[ 0 ]
86 
87             ls\_min\_max=s\_cycle\_range.split( \textcolor{stringliteral}{"-"} )           
88 
89             \textcolor{keywordflow}{if} len( ls\_min\_max ) != 2:
90                 b\_return\_val = \textcolor{keyword}{False}
91 
92             \textcolor{keywordflow}{else}:
93 
94                 \textcolor{keywordflow}{try}:
95                     i\_min=int( ls\_min\_max[ 0 ] )
96 
97                     i\_max=int( ls\_min\_max[ 1 ] )
98 
99                     f\_rate=float( ls\_adj\_vals[ 1 ] )
100                     
101                     \textcolor{keywordflow}{if} i\_min < i\_lowest\_cycle\_number \(\backslash\)
102                             \textcolor{keywordflow}{or} i\_max > i\_highest\_cycle\_number \(\backslash\)
103                             \textcolor{keywordflow}{or} i\_min > i\_max:
104                         b\_return\_val = \textcolor{keyword}{False}
105                     \textcolor{comment}{#end if min-max invalid range}
106 
107                 \textcolor{keywordflow}{except} ValueError \textcolor{keyword}{as} ove:
108                     b\_return\_val = \textcolor{keyword}{False}
109                 \textcolor{comment}{#end try except}
110 
111             \textcolor{comment}{#end if min-max list not 2 items}
112         \textcolor{comment}{#end if entry not colon-splittable into 2 items}
113     \textcolor{comment}{#end if no input, else if current input.gens < 1, else test entry}
114 
115     \textcolor{keywordflow}{return} b\_return\_val
116 \textcolor{comment}{#end validateNbAdjustment}
117 
\end{DoxyCode}
