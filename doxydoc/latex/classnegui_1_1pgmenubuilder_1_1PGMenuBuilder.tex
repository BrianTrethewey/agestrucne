\hypertarget{classnegui_1_1pgmenubuilder_1_1PGMenuBuilder}{}\section{negui.\+pgmenubuilder.\+P\+G\+Menu\+Builder Class Reference}
\label{classnegui_1_1pgmenubuilder_1_1PGMenuBuilder}\index{negui.\+pgmenubuilder.\+P\+G\+Menu\+Builder@{negui.\+pgmenubuilder.\+P\+G\+Menu\+Builder}}
Inheritance diagram for negui.\+pgmenubuilder.\+P\+G\+Menu\+Builder\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classnegui_1_1pgmenubuilder_1_1PGMenuBuilder}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classnegui_1_1pgmenubuilder_1_1PGMenuBuilder_a8e612e54bfe556d763a7150d8d8cbec5}{\+\_\+\+\_\+init\+\_\+\+\_\+} (self, s\+\_\+config\+\_\+file, o\+\_\+pg\+\_\+gui\+\_\+app, o\+\_\+tk\+\_\+master, i\+\_\+tearoff=0)
\item 
def \hyperlink{classnegui_1_1pgmenubuilder_1_1PGMenuBuilder_a564a7629d3ba8ac1666a6f8a046d82f2}{get\+\_\+add\+\_\+command\+\_\+params\+\_\+and\+\_\+args} (self, o\+\_\+config, s\+\_\+menu\+\_\+label)
\item 
def \hyperlink{classnegui_1_1pgmenubuilder_1_1PGMenuBuilder_ae45f68f11cc8fa8c39d8b93a15238c83}{menu} (self)
\item 
def {\bfseries menu} (self, i\+\_\+value)\hypertarget{classnegui_1_1pgmenubuilder_1_1PGMenuBuilder_a286f1b5420d31d737f0680926e4f0fa3}{}\label{classnegui_1_1pgmenubuilder_1_1PGMenuBuilder_a286f1b5420d31d737f0680926e4f0fa3}

\item 
def {\bfseries menu} (self)\hypertarget{classnegui_1_1pgmenubuilder_1_1PGMenuBuilder_ae45f68f11cc8fa8c39d8b93a15238c83}{}\label{classnegui_1_1pgmenubuilder_1_1PGMenuBuilder_ae45f68f11cc8fa8c39d8b93a15238c83}

\end{DoxyCompactItemize}
\subsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
list {\bfseries C\+O\+N\+F\+I\+G\+\_\+\+O\+P\+T\+I\+O\+N\+S\+\_\+\+N\+O\+N\+\_\+\+C\+O\+M\+M\+A\+N\+D\+\_\+\+A\+R\+GS} = \mbox{[} \char`\"{}parent\char`\"{}, \char`\"{}menu\+\_\+underline\char`\"{}, \char`\"{}menu\+\_\+accelerator\char`\"{} \mbox{]}\hypertarget{classnegui_1_1pgmenubuilder_1_1PGMenuBuilder_ae546003717fb9974243ea7bd53540e4e}{}\label{classnegui_1_1pgmenubuilder_1_1PGMenuBuilder_ae546003717fb9974243ea7bd53540e4e}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
\begin{DoxyVerb}Instantiates a tkinter menu_bar, with parent gui object (usually the main window) 
as given by __init__ param, and populates it by reading a list of menu items and 
parameters from a configuration file, also an __init__ param. The menus get their 
command callback defs, as named in the configuration file, in the class object 
passed as init param o_pg_gui_app.

The configuration file key=value entries inside each [section] are of two classes:

1. keys that are not param keywords for the call to menu.add_command.  These include 
    (a) "parent=value", which tells the
    builder which of the file labels (sections in the config file) is the parent menu
    to it's submenu.  As of 20160116 this is not implemented, and only parent=None (unquoted) 
    is allowed.
    (b) "menu_underline=value", where value is an (zero-based) index into the menu label name 
    (as given by the section name).

2. key=value pairs whose keys are param keywords (like "accelerator").  Keys must match exactly
    prarm names in the menu.add_command definition's param list.  Their values should be 
    entered in square brackets like a python list, with one entry for each of the menu items.  
    If the nth item is to be "seperator" item, the nth item in the label list should be 
    "sep", and other items like "command" or accelerator, can be any value (ex: None), 
    as they will be ignored.

For example, a menubar with 2 items "File" and "Edit", each with 2 menu items, with
Edit having a seperator between its items would look like this: 

#file menu
[File]
parent=None
#which characters to underline in the File label:
menu_underline=0
label=[ "New" , "Open" ]
#which characters to underline in the menu items:
underline=[ 0, 0 ]
accelerator=[ "Ctrl+N","Ctrl+O" ]
command=[ "new_file", "open_file" ]

#edit menu
[Edit]
parent=None
menu_underline=0
label=["Undo","sep","Options"]
underline=[ 1,None, 1 ]
accelerator=["Ctrl+Z", None, "Ctrl+T"]
command=[ "undo", None, "showopts" ]  
\end{DoxyVerb}
 

Definition at line 20 of file pgmenubuilder.\+py.



\subsection{Constructor \& Destructor Documentation}
\index{negui\+::pgmenubuilder\+::\+P\+G\+Menu\+Builder@{negui\+::pgmenubuilder\+::\+P\+G\+Menu\+Builder}!\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}}
\index{\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}!negui\+::pgmenubuilder\+::\+P\+G\+Menu\+Builder@{negui\+::pgmenubuilder\+::\+P\+G\+Menu\+Builder}}
\subsubsection[{\texorpdfstring{\+\_\+\+\_\+init\+\_\+\+\_\+(self, s\+\_\+config\+\_\+file, o\+\_\+pg\+\_\+gui\+\_\+app, o\+\_\+tk\+\_\+master, i\+\_\+tearoff=0)}{__init__(self, s_config_file, o_pg_gui_app, o_tk_master, i_tearoff=0)}}]{\setlength{\rightskip}{0pt plus 5cm}def negui.\+pgmenubuilder.\+P\+G\+Menu\+Builder.\+\_\+\+\_\+init\+\_\+\+\_\+ (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{s\+\_\+config\+\_\+file, }
\item[{}]{o\+\_\+pg\+\_\+gui\+\_\+app, }
\item[{}]{o\+\_\+tk\+\_\+master, }
\item[{}]{i\+\_\+tearoff = {\ttfamily 0}}
\end{DoxyParamCaption}
)}\hypertarget{classnegui_1_1pgmenubuilder_1_1PGMenuBuilder_a8e612e54bfe556d763a7150d8d8cbec5}{}\label{classnegui_1_1pgmenubuilder_1_1PGMenuBuilder_a8e612e54bfe556d763a7150d8d8cbec5}
\begin{DoxyVerb}param s_config_file gives menu attribute values (see module documentation)
param o_pg_gui_app is a class object that has the definitions
that match the command names to be bound to the menus ('command' 
option values in the config file). It also has a member Tk()
root window object that the menu builder assigns to member "parent"
param i_tearoff tells the gui whether the menu items can be dragged off of 
    the parent menubar (tearoff=1) or not (tearoff=0)
\end{DoxyVerb}
 

Definition at line 71 of file pgmenubuilder.\+py.


\begin{DoxyCode}
71     \textcolor{keyword}{def }\hyperlink{classnegui_1_1pgmenubuilder_1_1PGMenuBuilder_a8e612e54bfe556d763a7150d8d8cbec5}{\_\_init\_\_}( self, s\_config\_file, o\_pg\_gui\_app,  o\_tk\_master, i\_tearoff=0 ):
72         \textcolor{stringliteral}{'''}
73 \textcolor{stringliteral}{        param s\_config\_file gives menu attribute values (see module documentation)}
74 \textcolor{stringliteral}{        param o\_pg\_gui\_app is a class object that has the definitions}
75 \textcolor{stringliteral}{                that match the command names to be bound to the menus ('command' }
76 \textcolor{stringliteral}{                option values in the config file). It also has a member Tk()}
77 \textcolor{stringliteral}{                root window object that the menu builder assigns to member "parent"}
78 \textcolor{stringliteral}{        param i\_tearoff tells the gui whether the menu items can be dragged off of }
79 \textcolor{stringliteral}{            the parent menubar (tearoff=1) or not (tearoff=0)}
80 \textcolor{stringliteral}{        '''}
81         self.\hyperlink{classnegui_1_1pgmenubuilder_1_1PGMenuBuilder_ae68d0c5a32a42f23fae44d177125e639}{\_\_menubar} = \textcolor{keywordtype}{None}
82         self.\hyperlink{classnegui_1_1pgmenubuilder_1_1PGMenuBuilder_af0a1a02f4ae4cb51ddcae82ff1bda3b8}{\_\_pg\_gui\_app} = o\_pg\_gui\_app
83         self.\hyperlink{classnegui_1_1pgmenubuilder_1_1PGMenuBuilder_aa1c29f9898f4129fa7a8c3fa52498322}{\_\_tearoff} = i\_tearoff
84         self.\hyperlink{classnegui_1_1pgmenubuilder_1_1PGMenuBuilder_a96fdfb4d4b5bfc2cb502ca5c513f4326}{\_\_parent}=o\_tk\_master
85         o\_config = self.\hyperlink{classnegui_1_1pgmenubuilder_1_1PGMenuBuilder_af9e8faf1c4c173851774fb37f0900a2c}{\_\_get\_menu\_info}( s\_config\_file )
86         self.\hyperlink{classnegui_1_1pgmenubuilder_1_1PGMenuBuilder_a308e619e77dc646c8668bbced4171394}{\_\_build\_menu}( o\_config )
87         \textcolor{keywordflow}{return}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{negui\+::pgmenubuilder\+::\+P\+G\+Menu\+Builder@{negui\+::pgmenubuilder\+::\+P\+G\+Menu\+Builder}!get\+\_\+add\+\_\+command\+\_\+params\+\_\+and\+\_\+args@{get\+\_\+add\+\_\+command\+\_\+params\+\_\+and\+\_\+args}}
\index{get\+\_\+add\+\_\+command\+\_\+params\+\_\+and\+\_\+args@{get\+\_\+add\+\_\+command\+\_\+params\+\_\+and\+\_\+args}!negui\+::pgmenubuilder\+::\+P\+G\+Menu\+Builder@{negui\+::pgmenubuilder\+::\+P\+G\+Menu\+Builder}}
\subsubsection[{\texorpdfstring{get\+\_\+add\+\_\+command\+\_\+params\+\_\+and\+\_\+args(self, o\+\_\+config, s\+\_\+menu\+\_\+label)}{get_add_command_params_and_args(self, o_config, s_menu_label)}}]{\setlength{\rightskip}{0pt plus 5cm}def negui.\+pgmenubuilder.\+P\+G\+Menu\+Builder.\+get\+\_\+add\+\_\+command\+\_\+params\+\_\+and\+\_\+args (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{o\+\_\+config, }
\item[{}]{s\+\_\+menu\+\_\+label}
\end{DoxyParamCaption}
)}\hypertarget{classnegui_1_1pgmenubuilder_1_1PGMenuBuilder_a564a7629d3ba8ac1666a6f8a046d82f2}{}\label{classnegui_1_1pgmenubuilder_1_1PGMenuBuilder_a564a7629d3ba8ac1666a6f8a046d82f2}
\begin{DoxyVerb}returns a list of dictionaries, one for each menu item, of the param=value
settings for calls to menu.add_command.  We skip the config key=value for keys
that are not part of the params needed for add_command. 
\end{DoxyVerb}
 

Definition at line 130 of file pgmenubuilder.\+py.


\begin{DoxyCode}
130     \textcolor{keyword}{def }\hyperlink{classnegui_1_1pgmenubuilder_1_1PGMenuBuilder_a564a7629d3ba8ac1666a6f8a046d82f2}{get\_add\_command\_params\_and\_args}( self,  o\_config, s\_menu\_label ):
131         \textcolor{stringliteral}{'''}
132 \textcolor{stringliteral}{        returns a list of dictionaries, one for each menu item, of the param=value}
133 \textcolor{stringliteral}{        settings for calls to menu.add\_command.  We skip the config key=value for keys}
134 \textcolor{stringliteral}{        that are not part of the params needed for add\_command. }
135 \textcolor{stringliteral}{        '''}
136         l\_keyword\_menu\_params = o\_config.options( s\_menu\_label )    
137 
138         \textcolor{comment}{#how many items on this menu should equal number of labels:}
139         i\_num\_items = self.\hyperlink{classnegui_1_1pgmenubuilder_1_1PGMenuBuilder_a70776ac09761aeef9ee6df67c1dd9140}{\_\_get\_num\_labels\_menu}( o\_config, s\_menu\_label )
140 
141         ld\_args = [ \{\} \textcolor{keywordflow}{for} idx \textcolor{keywordflow}{in} range( i\_num\_items ) ]
142 
143         \textcolor{comment}{#for each submenu item, we get a dict of keyword:value to pass to "add\_command"}
144         \textcolor{keywordflow}{for} s\_keyword \textcolor{keywordflow}{in} l\_keyword\_menu\_params:
145             s\_vals=o\_config.get( s\_menu\_label, s\_keyword )
146 
147             \textcolor{comment}{#for each keyword that is a param name in the menu.add\_command call}
148             \textcolor{keywordflow}{if} s\_keyword \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} PGMenuBuilder.CONFIG\_OPTIONS\_NON\_COMMAND\_ARGS:
149 
150                 l\_vals=eval( s\_vals )
151 
152                 \textcolor{keywordflow}{if} len( l\_vals ) != i\_num\_items:
153                     \textcolor{keywordflow}{raise} Exception( \textcolor{stringliteral}{"in pgmenubuilder, config entry should have "} \(\backslash\)
154                             + \textcolor{stringliteral}{"one item for each label, but the option with keyname, "} \(\backslash\)
155                             + s\_keyword + \textcolor{stringliteral}{" does not."} )
156                 \textcolor{comment}{#end if wrong number values}
157                 
158                 \textcolor{comment}{#if this is the list of command values (callback defs) }
159                 \textcolor{comment}{#for each submenu item,}
160                 \textcolor{comment}{#then we must be able to find it among the attributes}
161                 \textcolor{comment}{#of our member operation object}
162                 \textcolor{comment}{#note: if "sep" is the label, we set other param values }
163                 \textcolor{comment}{#to None, but they are ignored (see for loop below)}
164                 \textcolor{keywordflow}{if} s\_keyword ==\textcolor{stringliteral}{"command"}:
165                     l\_vals = [ getattr( self.\hyperlink{classnegui_1_1pgmenubuilder_1_1PGMenuBuilder_af0a1a02f4ae4cb51ddcae82ff1bda3b8}{\_\_pg\_gui\_app}, thisval ) \(\backslash\)
166                             \textcolor{keywordflow}{if} thisval \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None} \(\backslash\)
167                             \textcolor{keywordflow}{else} \textcolor{keywordtype}{None} \textcolor{keywordflow}{for} thisval \textcolor{keywordflow}{in} l\_vals ]
168                 \textcolor{comment}{#end if command list}
169 
170                 \textcolor{keywordflow}{for} idx \textcolor{keywordflow}{in} range( i\_num\_items ):
171                     ld\_args[ idx ][ s\_keyword ] = l\_vals[ idx ]
172                 \textcolor{comment}{#end for each item}
173             \textcolor{comment}{#end if not a param keyword for add\_command}
174         \textcolor{comment}{#end for each keyword}
175 
176         \textcolor{keywordflow}{return} ld\_args
\end{DoxyCode}
\index{negui\+::pgmenubuilder\+::\+P\+G\+Menu\+Builder@{negui\+::pgmenubuilder\+::\+P\+G\+Menu\+Builder}!menu@{menu}}
\index{menu@{menu}!negui\+::pgmenubuilder\+::\+P\+G\+Menu\+Builder@{negui\+::pgmenubuilder\+::\+P\+G\+Menu\+Builder}}
\subsubsection[{\texorpdfstring{menu(self)}{menu(self)}}]{\setlength{\rightskip}{0pt plus 5cm}def negui.\+pgmenubuilder.\+P\+G\+Menu\+Builder.\+menu (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}\hypertarget{classnegui_1_1pgmenubuilder_1_1PGMenuBuilder_ae45f68f11cc8fa8c39d8b93a15238c83}{}\label{classnegui_1_1pgmenubuilder_1_1PGMenuBuilder_ae45f68f11cc8fa8c39d8b93a15238c83}
\begin{DoxyVerb}menu, tk.TKMenu object\end{DoxyVerb}
 

Definition at line 248 of file pgmenubuilder.\+py.


\begin{DoxyCode}
248     \textcolor{keyword}{def }\hyperlink{classnegui_1_1pgmenubuilder_1_1PGMenuBuilder_ae45f68f11cc8fa8c39d8b93a15238c83}{menu}(self):
249         \textcolor{stringliteral}{"""menu, tk.TKMenu object"""}
250         \textcolor{keywordflow}{return} self.\hyperlink{classnegui_1_1pgmenubuilder_1_1PGMenuBuilder_ae68d0c5a32a42f23fae44d177125e639}{\_\_menubar}
\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
pgmenubuilder.\+py\end{DoxyCompactItemize}
