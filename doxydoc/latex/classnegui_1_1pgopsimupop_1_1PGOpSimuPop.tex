\hypertarget{classnegui_1_1pgopsimupop_1_1PGOpSimuPop}{}\section{negui.\+pgopsimupop.\+P\+G\+Op\+Simu\+Pop Class Reference}
\label{classnegui_1_1pgopsimupop_1_1PGOpSimuPop}\index{negui.\+pgopsimupop.\+P\+G\+Op\+Simu\+Pop@{negui.\+pgopsimupop.\+P\+G\+Op\+Simu\+Pop}}
Inheritance diagram for negui.\+pgopsimupop.\+P\+G\+Op\+Simu\+Pop\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classnegui_1_1pgopsimupop_1_1PGOpSimuPop}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_a31cc8447a10c56667ae42093fb489c47}{\+\_\+\+\_\+init\+\_\+\+\_\+} (self, o\+\_\+input, o\+\_\+output, b\+\_\+compress\+\_\+output=False, b\+\_\+remove\+\_\+db\+\_\+gen\+\_\+sim\+\_\+files=False, b\+\_\+write\+\_\+input\+\_\+as\+\_\+config\+\_\+file=True, b\+\_\+do\+\_\+gui\+\_\+messaging=False, b\+\_\+write\+\_\+nb\+\_\+and\+\_\+ages\+\_\+files=False, b\+\_\+is\+\_\+replicate\+\_\+1=False, i\+\_\+output\+\_\+mode=O\+U\+T\+P\+U\+T\+\_\+\+G\+E\+N\+E\+P\+O\+P\+\_\+\+O\+N\+LY)
\item 
def \hyperlink{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_a2f255ee2acb3d3f0341cc2f7cf1e3ad3}{prepare\+Op} (self, s\+\_\+tag\+\_\+out=\char`\"{}\char`\"{})
\item 
def {\bfseries do\+Op} (self)\hypertarget{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_aed657d7d631aa0e8c2f40f8411c95dcd}{}\label{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_aed657d7d631aa0e8c2f40f8411c95dcd}

\item 
def {\bfseries deliver\+Results} (self)\hypertarget{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_a35c9e5794e68274f42147644b2e968c5}{}\label{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_a35c9e5794e68274f42147644b2e968c5}

\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
{\bfseries min\+\_\+mean\+\_\+heterozygosity}\hypertarget{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_a3565bd942f65c37e383cfe66e4c55e33}{}\label{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_a3565bd942f65c37e383cfe66e4c55e33}

\item 
{\bfseries max\+\_\+mean\+\_\+heterozygosity}\hypertarget{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_acf0ab336f11e34a3272a26fdd28b8806}{}\label{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_acf0ab336f11e34a3272a26fdd28b8806}

\item 
{\bfseries total\+\_\+filtered\+\_\+pops\+\_\+to\+\_\+save}\hypertarget{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_a92807fcd5299967e92a1565aa3ba6f2a}{}\label{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_a92807fcd5299967e92a1565aa3ba6f2a}

\item 
{\bfseries total\+\_\+filtered\+\_\+pops\+\_\+saved}\hypertarget{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_a8ff6361fd3db41e77799417265f6e856}{}\label{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_a8ff6361fd3db41e77799417265f6e856}

\item 
{\bfseries use\+\_\+gui\+\_\+messaging}\hypertarget{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_a06a6fdd8c9ab3638bc24d5b55888d80f}{}\label{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_a06a6fdd8c9ab3638bc24d5b55888d80f}

\item 
{\bfseries do\+\_\+het\+\_\+filter}\hypertarget{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_ad2b799d9a55e531707e792905d97b452}{}\label{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_ad2b799d9a55e531707e792905d97b452}

\end{DoxyCompactItemize}
\subsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
string {\bfseries I\+N\+P\+U\+T\+\_\+\+A\+T\+T\+R\+I\+B\+U\+T\+E\+\_\+\+N\+U\+M\+B\+E\+R\+\_\+\+O\+F\+\_\+\+M\+I\+C\+R\+O\+S\+A\+TS} = \char`\"{}num\+M\+Sats\char`\"{}\hypertarget{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_afad9fd5e836335f749ae96a958d3786e}{}\label{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_afad9fd5e836335f749ae96a958d3786e}

\item 
string {\bfseries I\+N\+P\+U\+T\+\_\+\+A\+T\+T\+R\+I\+B\+U\+T\+E\+\_\+\+N\+U\+M\+B\+E\+R\+\_\+\+O\+F\+\_\+\+S\+N\+PS} = \char`\"{}num\+S\+N\+Ps\char`\"{}\hypertarget{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_ac0c65641439fe744a0b62bd037145b3b}{}\label{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_ac0c65641439fe744a0b62bd037145b3b}

\item 
string {\bfseries D\+E\+L\+I\+M\+I\+T\+E\+R\+\_\+\+I\+N\+D\+I\+V\+\_\+\+ID} = \char`\"{};\char`\"{}\hypertarget{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_a23ef02f2da1b42907e37ba9d493a835a}{}\label{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_a23ef02f2da1b42907e37ba9d493a835a}

\item 
int {\bfseries M\+A\+X\+\_\+\+T\+R\+I\+E\+S\+\_\+\+A\+T\+\_\+\+NB} = 100\hypertarget{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_a096ef7273b73e622aa644cf414091e8e}{}\label{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_a096ef7273b73e622aa644cf414091e8e}

\item 
int {\bfseries O\+U\+T\+P\+U\+T\+\_\+\+O\+R\+IG} = 1\hypertarget{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_a39fc9930957fcdabd3172ca8b8d4f7f5}{}\label{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_a39fc9930957fcdabd3172ca8b8d4f7f5}

\item 
int {\bfseries O\+U\+T\+P\+U\+T\+\_\+\+G\+E\+N\+E\+P\+O\+P\+\_\+\+O\+N\+LY} = 2\hypertarget{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_aff9fc97a188a9da07d1af2a63b81ed10}{}\label{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_aff9fc97a188a9da07d1af2a63b81ed10}

\item 
list {\bfseries H\+E\+T\+\_\+\+F\+I\+L\+T\+E\+R\+\_\+\+A\+T\+T\+R\+\_\+\+N\+A\+M\+E\+S\+\_\+\+I\+N\+\_\+\+O\+R\+D\+ER}
\item 
list {\bfseries H\+E\+T\+\_\+\+F\+I\+L\+T\+E\+R\+\_\+\+P\+A\+R\+A\+M\+\_\+\+T\+Y\+P\+E\+S\+\_\+\+I\+N\+\_\+\+O\+R\+D\+ER} = \mbox{[} float, float, int \mbox{]}\hypertarget{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_a1d27a327377ba81bbf8ef734015d0357}{}\label{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_a1d27a327377ba81bbf8ef734015d0357}

\item 
string {\bfseries P\+O\+P\+\_\+\+H\+E\+T\+\_\+\+F\+I\+L\+T\+E\+R\+\_\+\+S\+T\+R\+I\+N\+G\+\_\+\+D\+E\+L\+IM} = \char`\"{},\char`\"{}\hypertarget{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_a28b256f70cbc357e850cb378d4b8a789}{}\label{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_a28b256f70cbc357e850cb378d4b8a789}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
\begin{DoxyVerb}This class inherits its basic interface from class APGOperation, with its 3
basic defs "prepareOp", "doOP", and "deliverResults"

Its motivating role is to be a member object of a PGGuiApp object, and to contain the
defs that do a simupop simulation and give results back to the gui.

Should use no GUI classes, but strictly utils or pop-gen calls.

This object has member two objects, an input object that fetches and prepares the
data needed for the simuPop run, and an output object that formats and/or delivers
the results.   These objects are exposed to users via getters.  The defs in these 
member objects can thus be accessed by gui widgets when an object of this class  
is used as a member of a PGGuiApp object

The functionality in the name-mangled (self.__*) defs are from Tiago Anteo's sim.py module in 
his AgeStructureNe project -- his mod-level variables simply assigned to self.
\end{DoxyVerb}
 

Definition at line 62 of file pgopsimupop.\+py.



\subsection{Constructor \& Destructor Documentation}
\index{negui\+::pgopsimupop\+::\+P\+G\+Op\+Simu\+Pop@{negui\+::pgopsimupop\+::\+P\+G\+Op\+Simu\+Pop}!\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}}
\index{\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}!negui\+::pgopsimupop\+::\+P\+G\+Op\+Simu\+Pop@{negui\+::pgopsimupop\+::\+P\+G\+Op\+Simu\+Pop}}
\subsubsection[{\texorpdfstring{\+\_\+\+\_\+init\+\_\+\+\_\+(self, o\+\_\+input, o\+\_\+output, b\+\_\+compress\+\_\+output=\+False, b\+\_\+remove\+\_\+db\+\_\+gen\+\_\+sim\+\_\+files=\+False, b\+\_\+write\+\_\+input\+\_\+as\+\_\+config\+\_\+file=\+True, b\+\_\+do\+\_\+gui\+\_\+messaging=\+False, b\+\_\+write\+\_\+nb\+\_\+and\+\_\+ages\+\_\+files=\+False, b\+\_\+is\+\_\+replicate\+\_\+1=\+False, i\+\_\+output\+\_\+mode=\+O\+U\+T\+P\+U\+T\+\_\+\+G\+E\+N\+E\+P\+O\+P\+\_\+\+O\+N\+L\+Y)}{__init__(self, o_input, o_output, b_compress_output=False, b_remove_db_gen_sim_files=False, b_write_input_as_config_file=True, b_do_gui_messaging=False, b_write_nb_and_ages_files=False, b_is_replicate_1=False, i_output_mode=OUTPUT_GENEPOP_ONLY)}}]{\setlength{\rightskip}{0pt plus 5cm}def negui.\+pgopsimupop.\+P\+G\+Op\+Simu\+Pop.\+\_\+\+\_\+init\+\_\+\+\_\+ (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{o\+\_\+input, }
\item[{}]{o\+\_\+output, }
\item[{}]{b\+\_\+compress\+\_\+output = {\ttfamily False}, }
\item[{}]{b\+\_\+remove\+\_\+db\+\_\+gen\+\_\+sim\+\_\+files = {\ttfamily False}, }
\item[{}]{b\+\_\+write\+\_\+input\+\_\+as\+\_\+config\+\_\+file = {\ttfamily True}, }
\item[{}]{b\+\_\+do\+\_\+gui\+\_\+messaging = {\ttfamily False}, }
\item[{}]{b\+\_\+write\+\_\+nb\+\_\+and\+\_\+ages\+\_\+files = {\ttfamily False}, }
\item[{}]{b\+\_\+is\+\_\+replicate\+\_\+1 = {\ttfamily False}, }
\item[{}]{i\+\_\+output\+\_\+mode = {\ttfamily OUTPUT\+\_\+GENEPOP\+\_\+ONLY}}
\end{DoxyParamCaption}
)}\hypertarget{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_a31cc8447a10c56667ae42093fb489c47}{}\label{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_a31cc8447a10c56667ae42093fb489c47}
\begin{DoxyVerb}    o_input, a PGInputSimuPop object
    o_output, a PGOutputSimuPop object
    b_compress_output, if set to True
will compress outputfiles using bz2
    b_remove_db_gen_sim_files, if set to True,
will remove the output files with the
indicated extensions.  This was added
after some testing and noting that
users most interested in using the genepop
file output suffered from the many additional
output files when trying to load genepop files
for ne-estimation
    b_write_input_as_config_file, if set to false, will 
skip the step in doOp that writes the current params
to config file, via the input objects attributes 
and defs. As for the above flag, this was added
to prevent writing identical configuration files
for replicate runs of the simulation, and thus
reduce the number of output files. 
    b_do_gui_messaging.  This param was added 2017_03_26,
to allow for message windows to pass exception and
other info to gui users during the simulations,
which are run in a python process separate from 
that of the main program.  We could not leave the
module-level GUI imports and USE_GUI_MESSAGING
flag active by default, because the main gui 
program negui.py throws an import error if this module,
which is also used by the main interface,
tries to import the PGGUI* classes.  
    b_write_nb_and_ages_files.  This param was added 20150407
to allow the pgutilities.py def, 
do_pgopsimupop_replicate_from_files , to produce
the age counts and pwob nb values files only for
the first replicate.
    b_is_replicate_1.  This param was added 2017_06_11 so that
we can ignore sending a (blocking) gui info messaget
about the lambda warning in non-first
replicates (see warning in __createSinglePop).  This avoids
the gui producing a series of blocking warning windows, one
for each replicate, restating the warning.
    i_output_mode.  This param was added 2017_08_04 to speed up
the output and skip writing the *gen *db and *sim files used
by Tiago in his original pipeline.  \end{DoxyVerb}
 

Definition at line 115 of file pgopsimupop.\+py.


\begin{DoxyCode}
115                                     i\_output\_mode=OUTPUT\_GENEPOP\_ONLY ):  
116 
117         \textcolor{stringliteral}{'''}
118 \textcolor{stringliteral}{            o\_input, a PGInputSimuPop object}
119 \textcolor{stringliteral}{            o\_output, a PGOutputSimuPop object}
120 \textcolor{stringliteral}{            b\_compress\_output, if set to True}
121 \textcolor{stringliteral}{                will compress outputfiles using bz2}
122 \textcolor{stringliteral}{            b\_remove\_db\_gen\_sim\_files, if set to True,}
123 \textcolor{stringliteral}{                will remove the output files with the}
124 \textcolor{stringliteral}{                indicated extensions.  This was added}
125 \textcolor{stringliteral}{                after some testing and noting that}
126 \textcolor{stringliteral}{                users most interested in using the genepop}
127 \textcolor{stringliteral}{                file output suffered from the many additional}
128 \textcolor{stringliteral}{                output files when trying to load genepop files}
129 \textcolor{stringliteral}{                for ne-estimation}
130 \textcolor{stringliteral}{            b\_write\_input\_as\_config\_file, if set to false, will }
131 \textcolor{stringliteral}{                skip the step in doOp that writes the current params}
132 \textcolor{stringliteral}{                to config file, via the input objects attributes }
133 \textcolor{stringliteral}{                and defs. As for the above flag, this was added}
134 \textcolor{stringliteral}{                to prevent writing identical configuration files}
135 \textcolor{stringliteral}{                for replicate runs of the simulation, and thus}
136 \textcolor{stringliteral}{                reduce the number of output files. }
137 \textcolor{stringliteral}{            b\_do\_gui\_messaging.  This param was added 2017\_03\_26,}
138 \textcolor{stringliteral}{                to allow for message windows to pass exception and}
139 \textcolor{stringliteral}{                other info to gui users during the simulations,}
140 \textcolor{stringliteral}{                which are run in a python process separate from }
141 \textcolor{stringliteral}{                that of the main program.  We could not leave the}
142 \textcolor{stringliteral}{                module-level GUI imports and USE\_GUI\_MESSAGING}
143 \textcolor{stringliteral}{                flag active by default, because the main gui }
144 \textcolor{stringliteral}{                program negui.py throws an import error if this module,}
145 \textcolor{stringliteral}{                which is also used by the main interface,}
146 \textcolor{stringliteral}{                tries to import the PGGUI* classes.  }
147 \textcolor{stringliteral}{            b\_write\_nb\_and\_ages\_files.  This param was added 20150407}
148 \textcolor{stringliteral}{                to allow the pgutilities.py def, }
149 \textcolor{stringliteral}{                do\_pgopsimupop\_replicate\_from\_files , to produce}
150 \textcolor{stringliteral}{                the age counts and pwob nb values files only for}
151 \textcolor{stringliteral}{                the first replicate.}
152 \textcolor{stringliteral}{            b\_is\_replicate\_1.  This param was added 2017\_06\_11 so that}
153 \textcolor{stringliteral}{                we can ignore sending a (blocking) gui info messaget}
154 \textcolor{stringliteral}{                about the lambda warning in non-first}
155 \textcolor{stringliteral}{                replicates (see warning in \_\_createSinglePop).  This avoids}
156 \textcolor{stringliteral}{                the gui producing a series of blocking warning windows, one}
157 \textcolor{stringliteral}{                for each replicate, restating the warning.}
158 \textcolor{stringliteral}{            i\_output\_mode.  This param was added 2017\_08\_04 to speed up}
159 \textcolor{stringliteral}{                the output and skip writing the *gen *db and *sim files used}
160 \textcolor{stringliteral}{                by Tiago in his original pipeline.  }
161 \textcolor{stringliteral}{            '''}
162 
163         self.\hyperlink{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_ab3796118d27c8ed2303e432f6a00f4af}{\_\_guiinfo}=\textcolor{keywordtype}{None}
164         self.\hyperlink{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_a03370ae1435e2f26d672cd66a876b43c}{\_\_guierr}=\textcolor{keywordtype}{None}
165 
166         \textcolor{keywordflow}{if} b\_do\_gui\_messaging:
167 
168             self.\hyperlink{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_a1c0f5251ae8460fa0207d2948e83ccff}{\_\_activate\_gui\_messaging}()
169 
170         \textcolor{comment}{#end if we are to use gui messaging}
171 
172         super( PGOpSimuPop, self ).\hyperlink{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_a31cc8447a10c56667ae42093fb489c47}{\_\_init\_\_}( o\_input, o\_output )
173 
174         \textcolor{stringliteral}{'''}
175 \textcolor{stringliteral}{        2017\_05\_20.  Checked the original sim.py code and its use }
176 \textcolor{stringliteral}{        here and find that the lSizes variable is never accessed}
177 \textcolor{stringliteral}{        beyond it's items being incremented in \_\_litterSkipGenerator,}
178 \textcolor{stringliteral}{        so that I'm removing it from its assignment here }
179 \textcolor{stringliteral}{        "lSizes = [0, 0, 0, 0, 0, 0]"}
180 \textcolor{stringliteral}{        and its use in litterSkipGenerator: "lSizes[lSize] += 1".}
181 \textcolor{stringliteral}{        '''}
182 
183         self.\hyperlink{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_a1224d81cfdf1400b2f12970074c81817}{\_\_reportOps} = [ sp.Stat(popSize=\textcolor{keyword}{True}) ]
184         self.\hyperlink{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_ac10f21f990f51e85c7fab2b5aa888edd}{\_\_is\_prepared}=\textcolor{keyword}{False}
185         self.\hyperlink{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_acccf36393e66057c8026cba0557d3fb8}{\_\_compress\_output}=b\_compress\_output
186         self.\hyperlink{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_a5a64b272404e6113dd1c7ba70235c366}{\_\_remove\_db\_gen\_sim\_files}=b\_remove\_db\_gen\_sim\_files
187         self.\hyperlink{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_a9a27655cf00df0e11603e221c314c0a9}{\_\_write\_input\_as\_config\_file}=b\_write\_input\_as\_config\_file
188         self.\hyperlink{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_a55c874d7c0586a2d73f77390ff07e443}{\_\_write\_nb\_and\_age\_count\_files}=b\_write\_nb\_and\_ages\_files
189         self.\hyperlink{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_af0f7b886dbd5087c1b4d64b80ec3ae2a}{\_\_is\_first\_replicate}=b\_is\_replicate\_1
190         
191         \textcolor{stringliteral}{'''}
192 \textcolor{stringliteral}{        2017\_08\_04.  In preperation for changing the }
193 \textcolor{stringliteral}{        output to offer a mode that skips  writing the }
194 \textcolor{stringliteral}{        *gen, *sim and *db files, and just write the genepop directly}
195 \textcolor{stringliteral}{        as pops are created.}
196 \textcolor{stringliteral}{        '''}
197         self.\hyperlink{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_abac5c621286b240967702ca9cd23dddf}{\_\_output\_mode}=i\_output\_mode
198 
199 
200         \textcolor{stringliteral}{'''}
201 \textcolor{stringliteral}{        2017\_08\_05.  In preparation for implementing}
202 \textcolor{stringliteral}{        output het filtering,  These}
203 \textcolor{stringliteral}{        members will be used to get the range and total}
204 \textcolor{stringliteral}{        saved pops for a filter based on a pop's }
205 \textcolor{stringliteral}{        heterozygosity.  See input param "het\_filter"}
206 \textcolor{stringliteral}{        '''}
207         self.\hyperlink{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_a3565bd942f65c37e383cfe66e4c55e33}{min\_mean\_heterozygosity}=\textcolor{keywordtype}{None}
208         self.\hyperlink{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_acf0ab336f11e34a3272a26fdd28b8806}{max\_mean\_heterozygosity}=\textcolor{keywordtype}{None}
209         self.\hyperlink{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_a92807fcd5299967e92a1565aa3ba6f2a}{total\_filtered\_pops\_to\_save}=\textcolor{keywordtype}{None}
210         self.\hyperlink{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_a8ff6361fd3db41e77799417265f6e856}{total\_filtered\_pops\_saved}=\textcolor{keywordtype}{None}
211 
212         \textcolor{comment}{#if this object is created in one of multiple}
213         \textcolor{comment}{#python so-called "Processes" objects from class}
214         \textcolor{comment}{#"multiprocessing", all pops in their separate "process"}
215         \textcolor{comment}{#will have identical individuals (same number/genotypes) }
216         \textcolor{comment}{#unless we reseed the numpy random number generator }
217         \textcolor{comment}{#for each "process:"}
218         numpy.random.seed()
219 
220         \textcolor{stringliteral}{'''}
221 \textcolor{stringliteral}{        With introduction of the N0 as }
222 \textcolor{stringliteral}{        calculated by other parameters,}
223 \textcolor{stringliteral}{        I chose to keep it unaltered in }
224 \textcolor{stringliteral}{        the input object (see N0 property}
225 \textcolor{stringliteral}{        in the PGInputSimuPop class), and}
226 \textcolor{stringliteral}{        to accomodate lambda adustments,}
227 \textcolor{stringliteral}{        to use this attribute as the }
228 \textcolor{stringliteral}{        N0 accessor in the simulation operations.}
229 \textcolor{stringliteral}{        We initiallize to the input object's value:}
230 \textcolor{stringliteral}{        '''}
231         self.\hyperlink{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_a2f0c7a20605eb636fd7624e0472b58ed}{\_\_current\_N0}=self.input.N0
232 
233         \textcolor{stringliteral}{'''}
234 \textcolor{stringliteral}{        2017\_02\_06, we add these attributes to implement,}
235 \textcolor{stringliteral}{        per recent meeting with Robin Waples, the }
236 \textcolor{stringliteral}{        restrictedGenerator def to obtain generations}
237 \textcolor{stringliteral}{        whose Nb is within a tolerance of a target}
238 \textcolor{stringliteral}{        value.  These are set in}
239 \textcolor{stringliteral}{        the def createAge.}
240 \textcolor{stringliteral}{        '''}
241         self.\hyperlink{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_a5e007cb3a648c379b48bd9210b075f82}{\_\_targetNb}=\textcolor{keywordtype}{None}
242         self.\hyperlink{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_acf4df87c7ff33e3bcef13e9f38cd995d}{\_\_toleranceNb}=\textcolor{keywordtype}{None}
243         PGOpSimuPop.VALUE\_TO\_IGNORE=99999
244 
245         DEFAULT\_AGES=50
246 
247         self.\hyperlink{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_a0c1c7c18e092f64c4e7eccde8a216f09}{\_\_total\_ages\_for\_age\_file}=DEFAULT\_AGES \(\backslash\)
248                                         \textcolor{keywordflow}{if} self.input.ages \textcolor{keywordflow}{is} \textcolor{keywordtype}{None} \(\backslash\)
249                                                 \textcolor{keywordflow}{else} self.input.ages
250         
251         self.\hyperlink{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_ae8398bc7a2a670b83630d4c9d4e56a38}{\_\_file\_for\_nb\_records}=\textcolor{keywordtype}{None}
252         self.\hyperlink{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_aa2f1fd00202a2461dfc591cbbbdfa1b9}{\_\_file\_for\_age\_counts}=\textcolor{keywordtype}{None}
253         \textcolor{stringliteral}{'''}
254 \textcolor{stringliteral}{        2017\_08\_08. This file will be created}
255 \textcolor{stringliteral}{        when the het filter is applied,}
256 \textcolor{stringliteral}{        to record the cycle number and het value for the}
257 \textcolor{stringliteral}{        pops recorded in the output genepop file.   }
258 \textcolor{stringliteral}{        See def \_\_set\_het\_filter\_params for its creation. }
259 \textcolor{stringliteral}{        '''}
260         self.\hyperlink{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_a495890e2a9edc8e449efd4a9caccca8d}{\_\_file\_for\_het\_filter}=\textcolor{keywordtype}{None}
261 
262         
263         \textcolor{keywordflow}{if} self.\hyperlink{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_a55c874d7c0586a2d73f77390ff07e443}{\_\_write\_nb\_and\_age\_count\_files}:
264             s\_nb\_values\_ext=pgout.PGOutputSimuPop.DICT\_OUTPUT\_FILE\_EXTENSIONS[ \textcolor{stringliteral}{"sim\_nb\_estimates"} ]
265             s\_age\_counts\_file\_ext=pgout.PGOutputSimuPop.DICT\_OUTPUT\_FILE\_EXTENSIONS[ \textcolor{stringliteral}{"age\_counts"} ]
266 
267             self.\hyperlink{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_ae8398bc7a2a670b83630d4c9d4e56a38}{\_\_file\_for\_nb\_records}=open( self.output.basename + s\_nb\_values\_ext, \textcolor{stringliteral}{'
      w'} )
268             self.\hyperlink{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_aa2f1fd00202a2461dfc591cbbbdfa1b9}{\_\_file\_for\_age\_counts}=open( self.output.basename + 
      s\_age\_counts\_file\_ext, \textcolor{stringliteral}{'w'} )
269 
270             s\_header=\textcolor{stringliteral}{"\(\backslash\)t"}.join( [ \textcolor{stringliteral}{"generation"} ] \(\backslash\)
271                         + [ \textcolor{stringliteral}{"age"} + str( idx ) \textcolor{keywordflow}{for} idx \(\backslash\)
272                             \textcolor{keywordflow}{in} range( 1, self.\hyperlink{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_a0c1c7c18e092f64c4e7eccde8a216f09}{\_\_total\_ages\_for\_age\_file} + 1 ) ] )
273 
274             self.\_\_file\_for\_age\_counts.write( s\_header + \textcolor{stringliteral}{"\(\backslash\)n"} )
275         \textcolor{comment}{#end if we are to write age counts and pwop nb values to file}
276 
277         \textcolor{stringliteral}{'''}
278 \textcolor{stringliteral}{        See the call to input.makePerCycleNbAdjustmentList in prepareOp.  This list }
279 \textcolor{stringliteral}{        is used by def \_\_harvest}
280 \textcolor{stringliteral}{        '''}
281         self.\hyperlink{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_aba6c04f12abd1c5f3a0b67142b3f6dd7}{\_\_nb\_and\_census\_adjustment\_by\_cycle}=\textcolor{keywordtype}{None}
282         
283         \textcolor{keywordflow}{return}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{negui\+::pgopsimupop\+::\+P\+G\+Op\+Simu\+Pop@{negui\+::pgopsimupop\+::\+P\+G\+Op\+Simu\+Pop}!prepare\+Op@{prepare\+Op}}
\index{prepare\+Op@{prepare\+Op}!negui\+::pgopsimupop\+::\+P\+G\+Op\+Simu\+Pop@{negui\+::pgopsimupop\+::\+P\+G\+Op\+Simu\+Pop}}
\subsubsection[{\texorpdfstring{prepare\+Op(self, s\+\_\+tag\+\_\+out="""")}{prepareOp(self, s_tag_out="")}}]{\setlength{\rightskip}{0pt plus 5cm}def negui.\+pgopsimupop.\+P\+G\+Op\+Simu\+Pop.\+prepare\+Op (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{s\+\_\+tag\+\_\+out = {\ttfamily \char`\"{}\char`\"{}}}
\end{DoxyParamCaption}
)}\hypertarget{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_a2f255ee2acb3d3f0341cc2f7cf1e3ad3}{}\label{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_a2f255ee2acb3d3f0341cc2f7cf1e3ad3}
\begin{DoxyVerb}2017_03_08.  This call converts the list
of cycle range and rate entries in the 
list attribite nbadjustment into a list
of per-cycle rate adjustments, used by
this objects def __harvest.
\end{DoxyVerb}
 

Definition at line 372 of file pgopsimupop.\+py.


\begin{DoxyCode}
372     \textcolor{keyword}{def }\hyperlink{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_a2f255ee2acb3d3f0341cc2f7cf1e3ad3}{prepareOp}( self, s\_tag\_out="" ):
373         \textcolor{stringliteral}{'''}
374 \textcolor{stringliteral}{        2017\_03\_08.  This call converts the list}
375 \textcolor{stringliteral}{        of cycle range and rate entries in the }
376 \textcolor{stringliteral}{        list attribite nbadjustment into a list}
377 \textcolor{stringliteral}{        of per-cycle rate adjustments, used by}
378 \textcolor{stringliteral}{        this objects def \_\_harvest.}
379 \textcolor{stringliteral}{        '''}
380         \textcolor{keywordflow}{try}:
381             self.\hyperlink{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_aba6c04f12abd1c5f3a0b67142b3f6dd7}{\_\_nb\_and\_census\_adjustment\_by\_cycle}=
      self.input.makePerCycleNbAdjustmentList()
382             self.\hyperlink{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_a74927b817cdaa9db7f35389ef9f66326}{\_\_createSinglePop}()
383             self.\hyperlink{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_a77f91a4a8825dc995eef67b94b725d0d}{\_\_createGenome}()
384             self.\hyperlink{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_a3cfa5a02a38b3e0c351df820c7b845dd}{\_\_createAge}()   
385             
386             s\_basename\_without\_replicate\_number=self.output.basename    
387             
388             \textcolor{keywordflow}{if} VERY\_VERBOSE==\textcolor{keyword}{True}:
389                 print( \textcolor{stringliteral}{"resetting output basename with tag: "} + s\_tag\_out )
390             \textcolor{comment}{#end if VERY\_VERBOSE}
391 
392             self.output.basename=s\_basename\_without\_replicate\_number + s\_tag\_out
393 
394             \textcolor{keywordflow}{if} self.\hyperlink{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_abac5c621286b240967702ca9cd23dddf}{\_\_output\_mode} == PGOpSimuPop.OUTPUT\_ORIG:
395                 self.output.openOut()
396                 self.output.openErr()
397                 self.output.openMegaDB()
398             \textcolor{keywordflow}{elif} self.\hyperlink{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_abac5c621286b240967702ca9cd23dddf}{\_\_output\_mode} == PGOpSimuPop.OUTPUT\_GENEPOP\_ONLY:
399 
400                 self.\hyperlink{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_a3a4b65a9bc8bb20885736acd03ab2d8f}{\_\_setup\_genepop\_file}()
401 
402                 \textcolor{keywordflow}{if} self.input.do\_het\_filter == \textcolor{keyword}{True}:
403                     \textcolor{comment}{##### temp}
404                     print( \textcolor{stringliteral}{"calling \_\_set\_het\_filter\_params()"} )
405                     \textcolor{comment}{#####}
406                     self.\hyperlink{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_a65b265c88ad030a37c015926d71491b3}{\_\_set\_het\_filter\_params}()
407                 \textcolor{comment}{#end if het filter is to be applied}
408 
409             \textcolor{keywordflow}{elif} self.\hyperlink{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_abac5c621286b240967702ca9cd23dddf}{\_\_output\_mode} == PGOpSimuPop.OUTPUT\_ORIG \(\backslash\)
410                                     \textcolor{keywordflow}{and} self.\hyperlink{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_ad2b799d9a55e531707e792905d97b452}{do\_het\_filter} == \textcolor{keyword}{True}:
411                 s\_msg=\textcolor{stringliteral}{"In PGOpSimuPop instance, "} \(\backslash\)
412                         + \textcolor{stringliteral}{"def prepareOp, "} \(\backslash\)
413                         + \textcolor{stringliteral}{"the output mode is for original output, "} \(\backslash\)
414                         + \textcolor{stringliteral}{"and the het filter flag is set to True.  "} \(\backslash\)
415                         + \textcolor{stringliteral}{"This is currently not an implemented output state."}
416                 \textcolor{keywordflow}{raise} Exception( s\_msg )
417             \textcolor{keywordflow}{else}:
418                 s\_msg=\textcolor{stringliteral}{"In PGOpSimuPop instance, "} \(\backslash\)
419                         + \textcolor{stringliteral}{"def prepareOp, "} \(\backslash\)
420                         + \textcolor{stringliteral}{"unknown value for output mode: "} \(\backslash\)
421                         + str( self.\hyperlink{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_abac5c621286b240967702ca9cd23dddf}{\_\_output\_mode} ) + \textcolor{stringliteral}{"."}
422                 \textcolor{keywordflow}{raise} Exception( s\_msg )
423             \textcolor{comment}{#end if orig out, else gp only, else error.}
424 
425             self.\hyperlink{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_a49e5124b6d2395ede0b0ba4915f6315f}{\_\_createSim}()
426             self.\hyperlink{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_ac10f21f990f51e85c7fab2b5aa888edd}{\_\_is\_prepared}=\textcolor{keyword}{True}
427 
428         \textcolor{keywordflow}{except} Exception \textcolor{keyword}{as} oex:
429             \textcolor{keywordflow}{if} self.\hyperlink{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_a03370ae1435e2f26d672cd66a876b43c}{\_\_guierr} \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
430                 self.\hyperlink{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_a03370ae1435e2f26d672cd66a876b43c}{\_\_guierr}( \textcolor{keywordtype}{None}, str( oex ) )
431             \textcolor{comment}{#end if using gui messaging}
432             \textcolor{keywordflow}{raise} oex
433         \textcolor{comment}{#end try...except}
434 
435         \textcolor{keywordflow}{return}
\end{DoxyCode}


\subsection{Member Data Documentation}
\index{negui\+::pgopsimupop\+::\+P\+G\+Op\+Simu\+Pop@{negui\+::pgopsimupop\+::\+P\+G\+Op\+Simu\+Pop}!H\+E\+T\+\_\+\+F\+I\+L\+T\+E\+R\+\_\+\+A\+T\+T\+R\+\_\+\+N\+A\+M\+E\+S\+\_\+\+I\+N\+\_\+\+O\+R\+D\+ER@{H\+E\+T\+\_\+\+F\+I\+L\+T\+E\+R\+\_\+\+A\+T\+T\+R\+\_\+\+N\+A\+M\+E\+S\+\_\+\+I\+N\+\_\+\+O\+R\+D\+ER}}
\index{H\+E\+T\+\_\+\+F\+I\+L\+T\+E\+R\+\_\+\+A\+T\+T\+R\+\_\+\+N\+A\+M\+E\+S\+\_\+\+I\+N\+\_\+\+O\+R\+D\+ER@{H\+E\+T\+\_\+\+F\+I\+L\+T\+E\+R\+\_\+\+A\+T\+T\+R\+\_\+\+N\+A\+M\+E\+S\+\_\+\+I\+N\+\_\+\+O\+R\+D\+ER}!negui\+::pgopsimupop\+::\+P\+G\+Op\+Simu\+Pop@{negui\+::pgopsimupop\+::\+P\+G\+Op\+Simu\+Pop}}
\subsubsection[{\texorpdfstring{H\+E\+T\+\_\+\+F\+I\+L\+T\+E\+R\+\_\+\+A\+T\+T\+R\+\_\+\+N\+A\+M\+E\+S\+\_\+\+I\+N\+\_\+\+O\+R\+D\+ER}{HET_FILTER_ATTR_NAMES_IN_ORDER}}]{\setlength{\rightskip}{0pt plus 5cm}list negui.\+pgopsimupop.\+P\+G\+Op\+Simu\+Pop.\+H\+E\+T\+\_\+\+F\+I\+L\+T\+E\+R\+\_\+\+A\+T\+T\+R\+\_\+\+N\+A\+M\+E\+S\+\_\+\+I\+N\+\_\+\+O\+R\+D\+ER\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_ab8c25d28c8e179a0bc08219841ccd7f5}{}\label{classnegui_1_1pgopsimupop_1_1PGOpSimuPop_ab8c25d28c8e179a0bc08219841ccd7f5}
{\bfseries Initial value\+:}
\begin{DoxyCode}
1 = [ \textcolor{stringliteral}{"min\_mean\_heterozygosity"}, 
2                                         \textcolor{stringliteral}{"max\_mean\_heterozygosity"},
3                                         \textcolor{stringliteral}{"total\_filtered\_pops\_to\_save"} ]
\end{DoxyCode}


Definition at line 101 of file pgopsimupop.\+py.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
pgopsimupop.\+py\end{DoxyCompactItemize}
