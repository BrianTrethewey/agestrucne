\hypertarget{classnegui_1_1genepopindividualid_1_1GenepopIndivCriterion}{}\section{negui.\+genepopindividualid.\+Genepop\+Indiv\+Criterion Class Reference}
\label{classnegui_1_1genepopindividualid_1_1GenepopIndivCriterion}\index{negui.\+genepopindividualid.\+Genepop\+Indiv\+Criterion@{negui.\+genepopindividualid.\+Genepop\+Indiv\+Criterion}}
Inheritance diagram for negui.\+genepopindividualid.\+Genepop\+Indiv\+Criterion\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classnegui_1_1genepopindividualid_1_1GenepopIndivCriterion}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def {\bfseries make\+\_\+test\+\_\+variable} (s\+\_\+field\+\_\+name)\hypertarget{classnegui_1_1genepopindividualid_1_1GenepopIndivCriterion_a2ab1a84a106514282b5c70a9033914c5}{}\label{classnegui_1_1genepopindividualid_1_1GenepopIndivCriterion_a2ab1a84a106514282b5c70a9033914c5}

\item 
def \hyperlink{classnegui_1_1genepopindividualid_1_1GenepopIndivCriterion_a58d025aa5c671e8c07fc9f0bbe56e588}{\+\_\+\+\_\+init\+\_\+\+\_\+} (self, s\+\_\+criterion\+\_\+name, ls\+\_\+field\+\_\+names, s\+\_\+test\+\_\+expression)
\item 
def \hyperlink{classnegui_1_1genepopindividualid_1_1GenepopIndivCriterion_a7f540e7e62b1c078ed06bb42a07f34f6}{do\+Test} (self, lv\+\_\+values)
\item 
def {\bfseries name} (self)\hypertarget{classnegui_1_1genepopindividualid_1_1GenepopIndivCriterion_a99d76ccf4421f71f84f2cbd4ecfad4f8}{}\label{classnegui_1_1genepopindividualid_1_1GenepopIndivCriterion_a99d76ccf4421f71f84f2cbd4ecfad4f8}

\item 
def {\bfseries name} (self, s\+\_\+name)\hypertarget{classnegui_1_1genepopindividualid_1_1GenepopIndivCriterion_a06866e0e47fa5269dcd20a6a576a56fb}{}\label{classnegui_1_1genepopindividualid_1_1GenepopIndivCriterion_a06866e0e47fa5269dcd20a6a576a56fb}

\item 
def {\bfseries fields} (self)\hypertarget{classnegui_1_1genepopindividualid_1_1GenepopIndivCriterion_abc0d0649b56e6e9fd578bf57941f717c}{}\label{classnegui_1_1genepopindividualid_1_1GenepopIndivCriterion_abc0d0649b56e6e9fd578bf57941f717c}

\item 
def {\bfseries fields} (self, ls\+\_\+fieldnames)\hypertarget{classnegui_1_1genepopindividualid_1_1GenepopIndivCriterion_a2ecc478307996482b6c5823475dbbad1}{}\label{classnegui_1_1genepopindividualid_1_1GenepopIndivCriterion_a2ecc478307996482b6c5823475dbbad1}

\item 
def {\bfseries test} (self)\hypertarget{classnegui_1_1genepopindividualid_1_1GenepopIndivCriterion_a002f19332a8434e4d1fba8be4d6d3134}{}\label{classnegui_1_1genepopindividualid_1_1GenepopIndivCriterion_a002f19332a8434e4d1fba8be4d6d3134}

\item 
def {\bfseries test} (self, s\+\_\+expression)\hypertarget{classnegui_1_1genepopindividualid_1_1GenepopIndivCriterion_a0b5653aacdb42c7f92fce358021c307b}{}\label{classnegui_1_1genepopindividualid_1_1GenepopIndivCriterion_a0b5653aacdb42c7f92fce358021c307b}

\end{DoxyCompactItemize}
\subsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
string {\bfseries F\+I\+E\+L\+D\+\_\+\+D\+E\+L\+I\+M\+I\+T\+E\+R\+\_\+\+F\+O\+R\+\_\+\+T\+E\+S\+T\+\_\+\+E\+X\+P\+R\+E\+S\+S\+I\+ON} = \char`\"{}\%\char`\"{}\hypertarget{classnegui_1_1genepopindividualid_1_1GenepopIndivCriterion_a350c743f531d728cf22f760865c8329d}{}\label{classnegui_1_1genepopindividualid_1_1GenepopIndivCriterion_a350c743f531d728cf22f760865c8329d}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
\begin{DoxyVerb}Class wraps a boolean test of one or more field
in a genepop file individual id.  Instances
of this class are members of a dictionary that
is used by class GenepopIndivCriteria, so that
a client can test the id against an number of
such criteria.
\end{DoxyVerb}
 

Definition at line 243 of file genepopindividualid.\+py.



\subsection{Constructor \& Destructor Documentation}
\index{negui\+::genepopindividualid\+::\+Genepop\+Indiv\+Criterion@{negui\+::genepopindividualid\+::\+Genepop\+Indiv\+Criterion}!\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}}
\index{\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}!negui\+::genepopindividualid\+::\+Genepop\+Indiv\+Criterion@{negui\+::genepopindividualid\+::\+Genepop\+Indiv\+Criterion}}
\subsubsection[{\texorpdfstring{\+\_\+\+\_\+init\+\_\+\+\_\+(self, s\+\_\+criterion\+\_\+name, ls\+\_\+field\+\_\+names, s\+\_\+test\+\_\+expression)}{__init__(self, s_criterion_name, ls_field_names, s_test_expression)}}]{\setlength{\rightskip}{0pt plus 5cm}def negui.\+genepopindividualid.\+Genepop\+Indiv\+Criterion.\+\_\+\+\_\+init\+\_\+\+\_\+ (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{s\+\_\+criterion\+\_\+name, }
\item[{}]{ls\+\_\+field\+\_\+names, }
\item[{}]{s\+\_\+test\+\_\+expression}
\end{DoxyParamCaption}
)}\hypertarget{classnegui_1_1genepopindividualid_1_1GenepopIndivCriterion_a58d025aa5c671e8c07fc9f0bbe56e588}{}\label{classnegui_1_1genepopindividualid_1_1GenepopIndivCriterion_a58d025aa5c671e8c07fc9f0bbe56e588}
\begin{DoxyVerb}param s_criterion_name, string giving a name for the
    criterion.  This name will be used by objects of
    class GenepopIndividualId as keys to a dictionary
    of instances of this class.
param s_field_names, list of strings, the ID field names to which the criteria
    is being applied.  These string should be present, surroundedused in the
    test expression (see next param).
param s_test_expression, string.  When evaluated, should generate
    True or False, as passing or failing the criterion's test.  The
    field name in this expression will be identified (field name surrounded
    by percent signs )and replaced by its value when
    this objects doTest() is called by the client, which passes the
    value in to the doTest def.  Example, if a field in the id stands
    for the individuals age, and is called "age", then the test expression might be, 
    "%age%==1".  When a client calls doTest, then, the "age" string will be replaced
    by the value, then eval will be called on the expression, and the boolean returned.
\end{DoxyVerb}
 

Definition at line 264 of file genepopindividualid.\+py.


\begin{DoxyCode}
264                             s\_test\_expression ):
265         \textcolor{stringliteral}{'''}
266 \textcolor{stringliteral}{        param s\_criterion\_name, string giving a name for the}
267 \textcolor{stringliteral}{            criterion.  This name will be used by objects of}
268 \textcolor{stringliteral}{            class GenepopIndividualId as keys to a dictionary}
269 \textcolor{stringliteral}{            of instances of this class.}
270 \textcolor{stringliteral}{        param s\_field\_names, list of strings, the ID field names to which the criteria}
271 \textcolor{stringliteral}{            is being applied.  These string should be present, surroundedused in the}
272 \textcolor{stringliteral}{            test expression (see next param).}
273 \textcolor{stringliteral}{        param s\_test\_expression, string.  When evaluated, should generate}
274 \textcolor{stringliteral}{            True or False, as passing or failing the criterion's test.  The}
275 \textcolor{stringliteral}{            field name in this expression will be identified (field name surrounded}
276 \textcolor{stringliteral}{            by percent signs )and replaced by its value when}
277 \textcolor{stringliteral}{            this objects doTest() is called by the client, which passes the}
278 \textcolor{stringliteral}{            value in to the doTest def.  Example, if a field in the id stands}
279 \textcolor{stringliteral}{            for the individuals age, and is called "age", then the test expression might be, }
280 \textcolor{stringliteral}{            "%age%==1".  When a client calls doTest, then, the "age" string will be replaced}
281 \textcolor{stringliteral}{            by the value, then eval will be called on the expression, and the boolean returned.}
282 \textcolor{stringliteral}{        '''}
283 
284         self.\hyperlink{classnegui_1_1genepopindividualid_1_1GenepopIndivCriterion_a94868409c57dda8cfcfd6cabf7554a10}{\_\_criterionname}=s\_criterion\_name
285         self.\hyperlink{classnegui_1_1genepopindividualid_1_1GenepopIndivCriterion_a490a6d671b1933addb37c32af20248c2}{\_\_fieldnames}=[ s\_name \textcolor{keywordflow}{for} s\_name \textcolor{keywordflow}{in} ls\_field\_names ]
286         self.\hyperlink{classnegui_1_1genepopindividualid_1_1GenepopIndivCriterion_a4366f9abf2851f4e83b62de2836ab812}{\_\_test}=s\_test\_expression
287         \textcolor{keywordflow}{return}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{negui\+::genepopindividualid\+::\+Genepop\+Indiv\+Criterion@{negui\+::genepopindividualid\+::\+Genepop\+Indiv\+Criterion}!do\+Test@{do\+Test}}
\index{do\+Test@{do\+Test}!negui\+::genepopindividualid\+::\+Genepop\+Indiv\+Criterion@{negui\+::genepopindividualid\+::\+Genepop\+Indiv\+Criterion}}
\subsubsection[{\texorpdfstring{do\+Test(self, lv\+\_\+values)}{doTest(self, lv_values)}}]{\setlength{\rightskip}{0pt plus 5cm}def negui.\+genepopindividualid.\+Genepop\+Indiv\+Criterion.\+do\+Test (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{lv\+\_\+values}
\end{DoxyParamCaption}
)}\hypertarget{classnegui_1_1genepopindividualid_1_1GenepopIndivCriterion_a7f540e7e62b1c078ed06bb42a07f34f6}{}\label{classnegui_1_1genepopindividualid_1_1GenepopIndivCriterion_a7f540e7e62b1c078ed06bb42a07f34f6}
\begin{DoxyVerb}See param definitions in __init__ for an example
and explanation of how this def works

We assume that the values are ordered in the arg list,
such that each nth value corresponds to the nth fields
in the list of field names.
\end{DoxyVerb}
 

Definition at line 290 of file genepopindividualid.\+py.


\begin{DoxyCode}
290     \textcolor{keyword}{def }\hyperlink{classnegui_1_1genepopindividualid_1_1GenepopIndivCriterion_a7f540e7e62b1c078ed06bb42a07f34f6}{doTest}( self, lv\_values ):
291         \textcolor{stringliteral}{'''}
292 \textcolor{stringliteral}{        See param definitions in \_\_init\_\_ for an example}
293 \textcolor{stringliteral}{        and explanation of how this def works}
294 \textcolor{stringliteral}{}
295 \textcolor{stringliteral}{        We assume that the values are ordered in the arg list,}
296 \textcolor{stringliteral}{        such that each nth value corresponds to the nth fields}
297 \textcolor{stringliteral}{        in the list of field names.}
298 \textcolor{stringliteral}{        '''}
299         \textcolor{comment}{#make sure we have exactly one value for each field}
300 
301         i\_num\_vals=len( lv\_values )
302         i\_num\_fieldnames=len( self.\hyperlink{classnegui_1_1genepopindividualid_1_1GenepopIndivCriterion_a490a6d671b1933addb37c32af20248c2}{\_\_fieldnames} )
303 
304         \textcolor{keywordflow}{if} i\_num\_vals != i\_num\_fieldnames:
305             s\_msg=\textcolor{stringliteral}{"In GenepopIndivCriterion instance, def doTest, "} \(\backslash\)
306                         + \textcolor{stringliteral}{"number of values passed in as arg, "} \(\backslash\)
307                         + str( i\_num\_vals ) + \textcolor{stringliteral}{" does not equal "} \(\backslash\)
308                         + \textcolor{stringliteral}{"the number of field names, "} \(\backslash\)
309                         + \textcolor{stringliteral}{"for this criterion, "} \(\backslash\)
310                         + str( i\_num\_fieldnames ) + \textcolor{stringliteral}{"."} \(\backslash\)
311                         + \textcolor{stringliteral}{"Field name list: "} + str( self.\hyperlink{classnegui_1_1genepopindividualid_1_1GenepopIndivCriterion_a490a6d671b1933addb37c32af20248c2}{\_\_fieldnames} ) \(\backslash\)
312                         + \textcolor{stringliteral}{".  Value list: "} + str( lv\_values ) + \textcolor{stringliteral}{"."}
313             \textcolor{keywordflow}{raise} Exception( s\_msg )
314         \textcolor{comment}{#end if num fields not equal num vals}
315 
316         v\_result=\textcolor{keywordtype}{None}
317 
318         ls\_field\_vars=[]
319         lv\_vetted\_field\_vals=[]
320 
321         \textcolor{comment}{#convert field names to their variable form}
322         \textcolor{comment}{#as used in the test:}
323         \textcolor{keywordflow}{for} s\_field\_name \textcolor{keywordflow}{in} self.\hyperlink{classnegui_1_1genepopindividualid_1_1GenepopIndivCriterion_a490a6d671b1933addb37c32af20248c2}{\_\_fieldnames}:
324 
325             s\_field\_variable= \(\backslash\)
326                     GenepopIndivCriterion.FIELD\_DELIMITER\_FOR\_TEST\_EXPRESSION \(\backslash\)
327                     + s\_field\_name \(\backslash\)
328                     + GenepopIndivCriterion.FIELD\_DELIMITER\_FOR\_TEST\_EXPRESSION
329 
330             \textcolor{comment}{#Make sure the test expression includes}
331             \textcolor{comment}{#the field name surrounded by quotes:}
332             \textcolor{keywordflow}{if} s\_field\_variable  \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} self.\hyperlink{classnegui_1_1genepopindividualid_1_1GenepopIndivCriterion_a4366f9abf2851f4e83b62de2836ab812}{\_\_test}:
333                 s\_msg=\textcolor{stringliteral}{"In GenepopIndivCriterion instance, "} \(\backslash\)
334                         + \textcolor{stringliteral}{"test expression: "} + self.\hyperlink{classnegui_1_1genepopindividualid_1_1GenepopIndivCriterion_a4366f9abf2851f4e83b62de2836ab812}{\_\_test} \(\backslash\)
335                         + \textcolor{stringliteral}{" does not contain the field-name string for substitution: "} \(\backslash\)
336                         + s\_field\_name + \textcolor{stringliteral}{"."}
337                 \textcolor{keywordflow}{raise} Exception( s\_msg )
338             \textcolor{comment}{#end if sub string not present in test expression}
339 
340             ls\_field\_vars.append( s\_field\_variable )
341 
342         \textcolor{comment}{#end for each field name}
343         
344         \textcolor{comment}{#as required put string values in quotes:}
345         \textcolor{keywordflow}{for} v\_value \textcolor{keywordflow}{in} lv\_values:
346             \textcolor{keywordflow}{if} type( v\_value ) == str:
347                 v\_value=\textcolor{stringliteral}{"\(\backslash\)""} + v\_value + \textcolor{stringliteral}{"\(\backslash\)""}
348             \textcolor{comment}{#end if value is a string, add quotes for eval}
349 
350             lv\_vetted\_field\_vals.append( v\_value )
351         \textcolor{comment}{#end for each value, check if quotes needed}
352     
353         \textcolor{comment}{#we iterively replace the variables with their}
354         \textcolor{comment}{#values}
355         s\_test\_with\_val=self.\hyperlink{classnegui_1_1genepopindividualid_1_1GenepopIndivCriterion_a4366f9abf2851f4e83b62de2836ab812}{\_\_test}
356     
357         \textcolor{keywordflow}{for} idx \textcolor{keywordflow}{in} range( len( ls\_field\_vars ) ):
358 
359             s\_field\_variable=ls\_field\_vars[ idx ]
360             v\_vetted\_field\_val=lv\_vetted\_field\_vals[ idx ]
361             s\_test\_with\_val=s\_test\_with\_val.replace( s\_field\_variable, str( v\_vetted\_field\_val ) )
362 
363         \textcolor{keywordflow}{try}:
364             v\_result=eval( s\_test\_with\_val )    
365         \textcolor{keywordflow}{except} Exception \textcolor{keyword}{as} oex:
366             s\_msg=\textcolor{stringliteral}{"In GenepopIndivCriterion instance, "} \(\backslash\)
367                     + \textcolor{stringliteral}{"eval of test failed.  Test: "} \(\backslash\)
368                     + s\_test\_with\_val \(\backslash\)
369                     + \textcolor{stringliteral}{".  Eval raised exception: "} \(\backslash\)
370                     + str( oex ) + \textcolor{stringliteral}{"."}
371             \textcolor{keywordflow}{raise} Exception ( s\_msg )
372         \textcolor{comment}{#end try...except}
373 
374         \textcolor{keywordflow}{if} v\_result \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} [ \textcolor{keyword}{True}, \textcolor{keyword}{False} ]:
375             s\_msg = \textcolor{stringliteral}{"In GenepopIndivCriterion instance, def doTest, "} \(\backslash\)
376                             + \textcolor{stringliteral}{"test returned non-boolean value: "} + str( v\_result ) \(\backslash\)
377                             + \textcolor{stringliteral}{".  Boolean value is required."}
378             \textcolor{keywordflow}{raise} Exception( s\_msg )
379         \textcolor{comment}{#end if v\_result not boolean}
380 
381         \textcolor{keywordflow}{return} v\_result
\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
genepopindividualid.\+py\end{DoxyCompactItemize}
