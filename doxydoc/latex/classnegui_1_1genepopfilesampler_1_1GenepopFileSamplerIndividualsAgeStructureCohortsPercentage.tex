\hypertarget{classnegui_1_1genepopfilesampler_1_1GenepopFileSamplerIndividualsAgeStructureCohortsPercentage}{}\section{negui.\+genepopfilesampler.\+Genepop\+File\+Sampler\+Individuals\+Age\+Structure\+Cohorts\+Percentage Class Reference}
\label{classnegui_1_1genepopfilesampler_1_1GenepopFileSamplerIndividualsAgeStructureCohortsPercentage}\index{negui.\+genepopfilesampler.\+Genepop\+File\+Sampler\+Individuals\+Age\+Structure\+Cohorts\+Percentage@{negui.\+genepopfilesampler.\+Genepop\+File\+Sampler\+Individuals\+Age\+Structure\+Cohorts\+Percentage}}
Inheritance diagram for negui.\+genepopfilesampler.\+Genepop\+File\+Sampler\+Individuals\+Age\+Structure\+Cohorts\+Percentage\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=4.000000cm]{classnegui_1_1genepopfilesampler_1_1GenepopFileSamplerIndividualsAgeStructureCohortsPercentage}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def {\bfseries \+\_\+\+\_\+init\+\_\+\+\_\+} (self, o\+\_\+genepopfilemanager, o\+\_\+genepopfilesampleparams)\hypertarget{classnegui_1_1genepopfilesampler_1_1GenepopFileSamplerIndividualsAgeStructureCohortsPercentage_a70a4ae2ec84f02b164b34c741b09c34b}{}\label{classnegui_1_1genepopfilesampler_1_1GenepopFileSamplerIndividualsAgeStructureCohortsPercentage_a70a4ae2ec84f02b164b34c741b09c34b}

\item 
def \hyperlink{classnegui_1_1genepopfilesampler_1_1GenepopFileSamplerIndividualsAgeStructureCohortsPercentage_a84ae04a169f95a289b6aacc21db39a17}{resize\+\_\+sample\+\_\+to\+\_\+meet\+\_\+size\+\_\+criteria} (self, li\+\_\+indiv\+\_\+by\+\_\+age\+\_\+collected)
\item 
def \hyperlink{classnegui_1_1genepopfilesampler_1_1GenepopFileSamplerIndividualsAgeStructureCohortsPercentage_a295926d11ecac7194c52615902bdaf3c}{do\+Sample} (self)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\begin{DoxyVerb}Sublcass of GenepopFileSamplerIndividualsAgeStructureCohorts.  The only revision
fo the parent class is in def resize_sample_to_meet_size_criteria.  For this
subclass we use the proportion attribute to subsample, whereas in the parent
class we apply max indiv per pop.
\end{DoxyVerb}
 

Definition at line 1302 of file genepopfilesampler.\+py.



\subsection{Member Function Documentation}
\index{negui\+::genepopfilesampler\+::\+Genepop\+File\+Sampler\+Individuals\+Age\+Structure\+Cohorts\+Percentage@{negui\+::genepopfilesampler\+::\+Genepop\+File\+Sampler\+Individuals\+Age\+Structure\+Cohorts\+Percentage}!do\+Sample@{do\+Sample}}
\index{do\+Sample@{do\+Sample}!negui\+::genepopfilesampler\+::\+Genepop\+File\+Sampler\+Individuals\+Age\+Structure\+Cohorts\+Percentage@{negui\+::genepopfilesampler\+::\+Genepop\+File\+Sampler\+Individuals\+Age\+Structure\+Cohorts\+Percentage}}
\subsubsection[{\texorpdfstring{do\+Sample(self)}{doSample(self)}}]{\setlength{\rightskip}{0pt plus 5cm}def negui.\+genepopfilesampler.\+Genepop\+File\+Sampler\+Individuals\+Age\+Structure\+Cohorts\+Percentage.\+do\+Sample (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}\hypertarget{classnegui_1_1genepopfilesampler_1_1GenepopFileSamplerIndividualsAgeStructureCohortsPercentage_a295926d11ecac7194c52615902bdaf3c}{}\label{classnegui_1_1genepopfilesampler_1_1GenepopFileSamplerIndividualsAgeStructureCohortsPercentage_a295926d11ecac7194c52615902bdaf3c}
\begin{DoxyVerb}This override of the parent class doSample def
iterates over the param list of proportions, 
for each proportion value it sets member __current_param
accordingly, and then calls the parent doSample.  This 
latter will then, after collecting cohorts per max age,
then call the overridden def resize_sample_to_meet_size_criteria, 
which will sample at the "__current_param" proportion.
\end{DoxyVerb}
 

Definition at line 1393 of file genepopfilesampler.\+py.


\begin{DoxyCode}
1393     \textcolor{keyword}{def }\hyperlink{classnegui_1_1genepopfilesampler_1_1GenepopFileSamplerIndividualsAgeStructureCohortsPercentage_a295926d11ecac7194c52615902bdaf3c}{doSample}( self ):
1394         \textcolor{stringliteral}{'''}
1395 \textcolor{stringliteral}{        This override of the parent class doSample def}
1396 \textcolor{stringliteral}{        iterates over the param list of proportions, }
1397 \textcolor{stringliteral}{        for each proportion value it sets member \_\_current\_param}
1398 \textcolor{stringliteral}{        accordingly, and then calls the parent doSample.  This }
1399 \textcolor{stringliteral}{        latter will then, after collecting cohorts per max age,}
1400 \textcolor{stringliteral}{        then call the overridden def resize\_sample\_to\_meet\_size\_criteria, }
1401 \textcolor{stringliteral}{        which will sample at the "\_\_current\_param" proportion.}
1402 \textcolor{stringliteral}{        '''}
1403         \textcolor{keywordflow}{for} f\_proportion \textcolor{keywordflow}{in} self.sampleparams.proportions:
1404 
1405             \textcolor{stringliteral}{'''}
1406 \textcolor{stringliteral}{            When the parent class calls the resize\_sample\_to\_meet\_size\_criteria}
1407 \textcolor{stringliteral}{            def, this derived classe's version will use this}
1408 \textcolor{stringliteral}{            value to sample the pop, after parent applies the}
1409 \textcolor{stringliteral}{            age filter:}
1410 \textcolor{stringliteral}{            '''}
1411             self.\hyperlink{classnegui_1_1genepopfilesampler_1_1GenepopFileSamplerIndividualsAgeStructureCohortsPercentage_a20c7fca4ce503d025b2728ee416b1d6a}{\_\_current\_proportion}=f\_proportion
1412 
1413             \textcolor{comment}{#When the parent class calls def, make\_subsample\_tag, it}
1414             \textcolor{comment}{#will find this value in the sampleparams:}
1415             self.sampleparams.sample\_param\_value=f\_proportion 
1416 
1417             super( GenepopFileSamplerIndividualsAgeStructureCohortsPercentage, self ).
      \hyperlink{classnegui_1_1genepopfilesampler_1_1GenepopFileSamplerIndividualsAgeStructureCohortsPercentage_a295926d11ecac7194c52615902bdaf3c}{doSample}()
1418         \textcolor{comment}{#end for each proportion}
1419         \textcolor{keywordflow}{return}
1420 \textcolor{comment}{#end class GenepopFileSamplerIndividualsAgeStructureCohortsPercentage}
1421 
\end{DoxyCode}
\index{negui\+::genepopfilesampler\+::\+Genepop\+File\+Sampler\+Individuals\+Age\+Structure\+Cohorts\+Percentage@{negui\+::genepopfilesampler\+::\+Genepop\+File\+Sampler\+Individuals\+Age\+Structure\+Cohorts\+Percentage}!resize\+\_\+sample\+\_\+to\+\_\+meet\+\_\+size\+\_\+criteria@{resize\+\_\+sample\+\_\+to\+\_\+meet\+\_\+size\+\_\+criteria}}
\index{resize\+\_\+sample\+\_\+to\+\_\+meet\+\_\+size\+\_\+criteria@{resize\+\_\+sample\+\_\+to\+\_\+meet\+\_\+size\+\_\+criteria}!negui\+::genepopfilesampler\+::\+Genepop\+File\+Sampler\+Individuals\+Age\+Structure\+Cohorts\+Percentage@{negui\+::genepopfilesampler\+::\+Genepop\+File\+Sampler\+Individuals\+Age\+Structure\+Cohorts\+Percentage}}
\subsubsection[{\texorpdfstring{resize\+\_\+sample\+\_\+to\+\_\+meet\+\_\+size\+\_\+criteria(self, li\+\_\+indiv\+\_\+by\+\_\+age\+\_\+collected)}{resize_sample_to_meet_size_criteria(self, li_indiv_by_age_collected)}}]{\setlength{\rightskip}{0pt plus 5cm}def negui.\+genepopfilesampler.\+Genepop\+File\+Sampler\+Individuals\+Age\+Structure\+Cohorts\+Percentage.\+resize\+\_\+sample\+\_\+to\+\_\+meet\+\_\+size\+\_\+criteria (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{li\+\_\+indiv\+\_\+by\+\_\+age\+\_\+collected}
\end{DoxyParamCaption}
)}\hypertarget{classnegui_1_1genepopfilesampler_1_1GenepopFileSamplerIndividualsAgeStructureCohortsPercentage_a84ae04a169f95a289b6aacc21db39a17}{}\label{classnegui_1_1genepopfilesampler_1_1GenepopFileSamplerIndividualsAgeStructureCohortsPercentage_a84ae04a169f95a289b6aacc21db39a17}
\begin{DoxyVerb}This def overrides its counter part in the parent class.  Given the 
individuals collected by age, check min/max limits and subsample the 
requested proportion (via sample params object attribute "proportion"). 
(Alternatively, In the parent class,  it is the min_indiv_per_gen 
and max_indiv_per_gen that limits the sample size.)
\end{DoxyVerb}
 

Definition at line 1326 of file genepopfilesampler.\+py.


\begin{DoxyCode}
1326     \textcolor{keyword}{def }\hyperlink{classnegui_1_1genepopfilesampler_1_1GenepopFileSamplerIndividualsAgeStructureCohortsPercentage_a84ae04a169f95a289b6aacc21db39a17}{resize\_sample\_to\_meet\_size\_criteria}( self, 
      li\_indiv\_by\_age\_collected ):
1327         \textcolor{stringliteral}{'''}
1328 \textcolor{stringliteral}{        This def overrides its counter part in the parent class.  Given the }
1329 \textcolor{stringliteral}{        individuals collected by age, check min/max limits and subsample the }
1330 \textcolor{stringliteral}{        requested proportion (via sample params object attribute "proportion"). }
1331 \textcolor{stringliteral}{        (Alternatively, In the parent class,  it is the min\_indiv\_per\_gen }
1332 \textcolor{stringliteral}{        and max\_indiv\_per\_gen that limits the sample size.)}
1333 \textcolor{stringliteral}{        '''}
1334 
1335         i\_tot\_collected=len( li\_indiv\_by\_age\_collected )
1336 
1337         li\_indiv\_by\_age\_sampled=\textcolor{keywordtype}{None}
1338 
1339         \textcolor{keywordflow}{if} i\_tot\_collected < self.sampleparams.min\_indiv\_per\_gen:
1340             s\_msg=\textcolor{stringliteral}{"In GenepopFileSamplerIndividualsAgeStructureCohortsPercentage "} \(\backslash\)
1341                     + \textcolor{stringliteral}{"instance, def resize\_sample\_to\_meet\_size\_criteria "} \(\backslash\)
1342                     + \textcolor{stringliteral}{"after sampling cohorts, total collected, "} \(\backslash\)
1343                     + str( i\_tot\_collected ) \(\backslash\)
1344                     + \textcolor{stringliteral}{", is less than the value given for "} \(\backslash\)
1345                     + \textcolor{stringliteral}{"the minimum pop size, "} \(\backslash\)
1346                     + str( self.sampleparams.min\_indiv\_per\_gen ) \(\backslash\)
1347                     + \textcolor{stringliteral}{"."}
1348             \textcolor{keywordflow}{raise} Exception ( s\_msg )
1349         \textcolor{keywordflow}{if} i\_tot\_collected > self.sampleparams.max\_indiv\_per\_gen:
1350             s\_msg=\textcolor{stringliteral}{"In GenepopFileSamplerIndividualsAgeStructureCohorts "} \(\backslash\)
1351                     + \textcolor{stringliteral}{"instance, def resize\_sample\_to\_meet\_size\_criteria "} \(\backslash\)
1352                     + \textcolor{stringliteral}{"after sampling cohorts, total collected, "} \(\backslash\)
1353                     + str( i\_tot\_collected ) \(\backslash\)
1354                     + \textcolor{stringliteral}{", is greader than the value given for "} \(\backslash\)
1355                     + \textcolor{stringliteral}{"the maximum pop size, "} \(\backslash\)
1356                     + str( self.sampleparams.max\_indiv\_per\_gen ) \(\backslash\)
1357                     + \textcolor{stringliteral}{"."}
1358             \textcolor{keywordflow}{raise} Exception( s\_msg )
1359         \textcolor{keywordflow}{else}:
1360             i\_sample\_size=\textcolor{keywordtype}{None}
1361             \textcolor{keywordflow}{try}:
1362                 \textcolor{stringliteral}{'''}
1363 \textcolor{stringliteral}{                In honor of python version uncertanties, we}
1364 \textcolor{stringliteral}{                cast all operands and results.  For example, }
1365 \textcolor{stringliteral}{                inpython2, round returns a float.  In python3,}
1366 \textcolor{stringliteral}{                at least for round with a single arg, an int is }
1367 \textcolor{stringliteral}{                returned.}
1368 \textcolor{stringliteral}{                '''}
1369                 i\_sample\_size=int( \(\backslash\)
1370                         round( float( i\_tot\_collected )*self.
      \hyperlink{classnegui_1_1genepopfilesampler_1_1GenepopFileSamplerIndividualsAgeStructureCohortsPercentage_a20c7fca4ce503d025b2728ee416b1d6a}{\_\_current\_proportion} ) )
1371 
1372                 li\_indiv\_by\_age\_sampled=random.sample( \(\backslash\)
1373                                     li\_indiv\_by\_age\_collected,
1374                                                 i\_sample\_size )
1375                                         
1376             \textcolor{keywordflow}{except} Exception \textcolor{keyword}{as} oex:
1377                 s\_sample\_error\_msg= \(\backslash\)
1378                     \textcolor{stringliteral}{"In GenepopFileSamplerIndividualsAgeStructureCohortsPercentage"} \(\backslash\)
1379                         + \textcolor{stringliteral}{"instance, def resize\_sample\_to\_meet\_size\_criteria, "}  \(\backslash\)
1380                         + \textcolor{stringliteral}{"random.sample failed on list of "} \(\backslash\)
1381                         + str( len( li\_indiv\_by\_age\_collected ) ) \(\backslash\)
1382                         + \textcolor{stringliteral}{" individuals.  Target proportioin to be sampled: "} \(\backslash\)
1383                         + str( i\_sample\_size  ) + \textcolor{stringliteral}{"."}
1384                 s\_msg=s\_sample\_error\_msg \(\backslash\)
1385                         + \textcolor{stringliteral}{"  Exception message: "} + str( oex ) + \textcolor{stringliteral}{"."}
1386                 \textcolor{keywordflow}{raise} Exception( s\_msg )
1387             \textcolor{comment}{#end try . . . except}
1388         \textcolor{comment}{#end if too few, error, else if too many, error, else sample proportion.}
1389 
1390         \textcolor{keywordflow}{return} li\_indiv\_by\_age\_sampled
\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
genepopfilesampler.\+py\end{DoxyCompactItemize}
