\hypertarget{namespacenegui_1_1pgdriveneestimator}{}\section{negui.\+pgdriveneestimator Namespace Reference}
\label{namespacenegui_1_1pgdriveneestimator}\index{negui.\+pgdriveneestimator@{negui.\+pgdriveneestimator}}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{classnegui_1_1pgdriveneestimator_1_1DebugMode}{Debug\+Mode}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def {\bfseries get\+\_\+datetime\+\_\+as\+\_\+string} ()\hypertarget{namespacenegui_1_1pgdriveneestimator_a2d64d88a4d4f63a1f8e0c71606942690}{}\label{namespacenegui_1_1pgdriveneestimator_a2d64d88a4d4f63a1f8e0c71606942690}

\item 
def {\bfseries set\+\_\+debug\+\_\+mode} (s\+\_\+arg)\hypertarget{namespacenegui_1_1pgdriveneestimator_aa1b949a1baced8ac2725ae493f7216d8}{}\label{namespacenegui_1_1pgdriveneestimator_aa1b949a1baced8ac2725ae493f7216d8}

\item 
def {\bfseries parse\+\_\+args} (args)\hypertarget{namespacenegui_1_1pgdriveneestimator_a3a0c075de2bc7a0d00b1893128b189c8}{}\label{namespacenegui_1_1pgdriveneestimator_a3a0c075de2bc7a0d00b1893128b189c8}

\item 
def {\bfseries get\+\_\+sample\+\_\+val\+\_\+and\+\_\+rep\+\_\+number\+\_\+from\+\_\+sample\+\_\+name} (s\+\_\+sample\+\_\+name, s\+\_\+sample\+\_\+scheme)\hypertarget{namespacenegui_1_1pgdriveneestimator_a3807e058c5f9e9e73eb6ecae5221853b}{}\label{namespacenegui_1_1pgdriveneestimator_a3807e058c5f9e9e73eb6ecae5221853b}

\item 
def {\bfseries raise\+\_\+exception\+\_\+if\+\_\+non\+\_\+single\+\_\+pop\+\_\+file} (o\+\_\+genepopfile)\hypertarget{namespacenegui_1_1pgdriveneestimator_ac98833013f11d6aa3544b0fc60951632}{}\label{namespacenegui_1_1pgdriveneestimator_ac98833013f11d6aa3544b0fc60951632}

\item 
def \hyperlink{namespacenegui_1_1pgdriveneestimator_a8255cfe046e2bbb517ee9834d626c021}{get\+\_\+pops\+\_\+in\+\_\+file\+\_\+too\+\_\+small\+\_\+to\+\_\+run} (o\+\_\+genepopfile, f\+\_\+proportion, i\+\_\+min\+\_\+pop\+\_\+size)
\item 
def {\bfseries do\+\_\+estimate} (o\+\_\+genepopfile, o\+\_\+ne\+\_\+estimator, f\+\_\+proportion, f\+\_\+min\+\_\+allele\+\_\+freq, s\+\_\+subsample\+\_\+tag, i\+\_\+replicate\+\_\+number, o\+\_\+debug\+\_\+mode)\hypertarget{namespacenegui_1_1pgdriveneestimator_ade876f515c78ffc10778e5b5367db785}{}\label{namespacenegui_1_1pgdriveneestimator_ade876f515c78ffc10778e5b5367db785}

\item 
def {\bfseries write\+\_\+results} (ds\+\_\+results)\hypertarget{namespacenegui_1_1pgdriveneestimator_a1944bfa9f99fd76c5cd0e82be5fe0e4f}{}\label{namespacenegui_1_1pgdriveneestimator_a1944bfa9f99fd76c5cd0e82be5fe0e4f}

\item 
def {\bfseries update\+\_\+indiv\+\_\+list} (dddli\+\_\+indiv\+\_\+list, dv\+\_\+indiv\+\_\+info\+\_\+for\+\_\+replicate, lf\+\_\+proportions)\hypertarget{namespacenegui_1_1pgdriveneestimator_a13125786920acfc0de2b28feadb33d52}{}\label{namespacenegui_1_1pgdriveneestimator_a13125786920acfc0de2b28feadb33d52}

\item 
def {\bfseries make\+\_\+indiv\+\_\+table\+\_\+name} ()\hypertarget{namespacenegui_1_1pgdriveneestimator_aba42585f01bf9ed8468c043e7f05e56a}{}\label{namespacenegui_1_1pgdriveneestimator_aba42585f01bf9ed8468c043e7f05e56a}

\item 
def {\bfseries get\+\_\+indiv\+\_\+table\+\_\+header} (lf\+\_\+proportions)\hypertarget{namespacenegui_1_1pgdriveneestimator_a8ea31f316844b96fb9ba5d9985b16ecc}{}\label{namespacenegui_1_1pgdriveneestimator_a8ea31f316844b96fb9ba5d9985b16ecc}

\item 
def {\bfseries write\+\_\+indiv\+\_\+table} (dddli\+\_\+indiv\+\_\+list, s\+\_\+file\+\_\+name, lf\+\_\+proportions)\hypertarget{namespacenegui_1_1pgdriveneestimator_aafa226c9f86340bb646ac850410d315c}{}\label{namespacenegui_1_1pgdriveneestimator_aafa226c9f86340bb646ac850410d315c}

\item 
def {\bfseries print\+\_\+test\+\_\+list\+\_\+replicate\+\_\+selection\+\_\+indices} (o\+\_\+genepopfile, s\+\_\+subsample\+\_\+tag)\hypertarget{namespacenegui_1_1pgdriveneestimator_af36962b92212576d2da7a47aa3c5db04}{}\label{namespacenegui_1_1pgdriveneestimator_af36962b92212576d2da7a47aa3c5db04}

\item 
def {\bfseries do\+\_\+sample} (o\+\_\+genepopfile, s\+\_\+sample\+\_\+scheme, lv\+\_\+sample\+\_\+values, i\+\_\+replicates)\hypertarget{namespacenegui_1_1pgdriveneestimator_aa5f7fc02442df628112ba81a98a3691e}{}\label{namespacenegui_1_1pgdriveneestimator_aa5f7fc02442df628112ba81a98a3691e}

\item 
def \hyperlink{namespacenegui_1_1pgdriveneestimator_ad1018c6053d4566bdf06702b7e79d1dc}{add\+\_\+to\+\_\+set\+\_\+of\+\_\+calls\+\_\+to\+\_\+do\+\_\+estimate} (o\+\_\+genepopfile, f\+\_\+min\+\_\+allele\+\_\+freq, o\+\_\+debug\+\_\+mode, llv\+\_\+args\+\_\+each\+\_\+process)
\item 
def {\bfseries write\+\_\+result\+\_\+sets} (lds\+\_\+results, lv\+\_\+sample\+\_\+values, o\+\_\+debug\+\_\+mode)\hypertarget{namespacenegui_1_1pgdriveneestimator_a0c5008a88def44e22c85b3e66f81cfc5}{}\label{namespacenegui_1_1pgdriveneestimator_a0c5008a88def44e22c85b3e66f81cfc5}

\item 
def {\bfseries execute\+\_\+ne\+\_\+for\+\_\+each\+\_\+sample} (llv\+\_\+args\+\_\+each\+\_\+process, o\+\_\+process\+\_\+pool, o\+\_\+debug\+\_\+mode)\hypertarget{namespacenegui_1_1pgdriveneestimator_af354d19f51ec17508f02c50817d4d94d}{}\label{namespacenegui_1_1pgdriveneestimator_af354d19f51ec17508f02c50817d4d94d}

\item 
def {\bfseries drive\+\_\+estimator} (args)\hypertarget{namespacenegui_1_1pgdriveneestimator_a688d7a2f0a11f0225a5f95d7403d771e}{}\label{namespacenegui_1_1pgdriveneestimator_a688d7a2f0a11f0225a5f95d7403d771e}

\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
string {\bfseries S\+A\+M\+P\+L\+E\+\_\+\+B\+Y\+\_\+\+P\+E\+R\+C\+E\+N\+T\+A\+G\+ES} = \char`\"{}percent\char`\"{}\hypertarget{namespacenegui_1_1pgdriveneestimator_a6ee69b369b673a4e1a4bd9538dd98416}{}\label{namespacenegui_1_1pgdriveneestimator_a6ee69b369b673a4e1a4bd9538dd98416}

\item 
string {\bfseries S\+A\+M\+P\+L\+E\+\_\+\+B\+Y\+\_\+\+R\+E\+M\+O\+V\+AL} = \char`\"{}remove\char`\"{}\hypertarget{namespacenegui_1_1pgdriveneestimator_a9ec6d87d70349dd43f33a16cfa7e68c0}{}\label{namespacenegui_1_1pgdriveneestimator_a9ec6d87d70349dd43f33a16cfa7e68c0}

\item 
string {\bfseries O\+U\+T\+P\+U\+T\+\_\+\+D\+E\+L\+I\+M\+I\+T\+ER} = \char`\"{}\textbackslash{}t\char`\"{}\hypertarget{namespacenegui_1_1pgdriveneestimator_a68b08075d6e1a58ae325c600881c9d6c}{}\label{namespacenegui_1_1pgdriveneestimator_a68b08075d6e1a58ae325c600881c9d6c}

\item 
string {\bfseries O\+U\+T\+P\+U\+T\+\_\+\+E\+N\+D\+L\+I\+NE} = \char`\"{}\textbackslash{}n\char`\"{}\hypertarget{namespacenegui_1_1pgdriveneestimator_a56a1a1d753221dfbed6ffc7cd58222f1}{}\label{namespacenegui_1_1pgdriveneestimator_a56a1a1d753221dfbed6ffc7cd58222f1}

\item 
string {\bfseries R\+E\+P\+L\+I\+C\+A\+T\+E\+\_\+\+D\+E\+L\+I\+M\+I\+T\+ER} = \char`\"{},\char`\"{}\hypertarget{namespacenegui_1_1pgdriveneestimator_a4a72408d1cee500503a7aa185253b438}{}\label{namespacenegui_1_1pgdriveneestimator_a4a72408d1cee500503a7aa185253b438}

\item 
string {\bfseries D\+E\+F\+A\+U\+L\+T\+\_\+\+N\+U\+M\+\_\+\+P\+R\+O\+C\+E\+S\+S\+ES} = \char`\"{}1\char`\"{}\hypertarget{namespacenegui_1_1pgdriveneestimator_a2e948c0ce60271c8e6e3b08edb453839}{}\label{namespacenegui_1_1pgdriveneestimator_a2e948c0ce60271c8e6e3b08edb453839}

\item 
string {\bfseries D\+E\+F\+A\+U\+L\+T\+\_\+\+D\+E\+B\+U\+G\+\_\+\+M\+O\+DE} = \char`\"{}no\+\_\+debug\char`\"{}\hypertarget{namespacenegui_1_1pgdriveneestimator_af83e46ff34683de5b4e27783ac68425f}{}\label{namespacenegui_1_1pgdriveneestimator_af83e46ff34683de5b4e27783ac68425f}

\item 
list {\bfseries ls\+\_\+args}
\item 
list {\bfseries ls\+\_\+optionals}
\item 
{\bfseries s\+\_\+usage}
\item 
string {\bfseries N\+E\+E\+S\+T\+\_\+\+E\+X\+E\+C\+\_\+\+L\+I\+N\+UX} = \char`\"{}Ne2L\char`\"{}\hypertarget{namespacenegui_1_1pgdriveneestimator_ac3fffa665da853c78053b5bec04422e1}{}\label{namespacenegui_1_1pgdriveneestimator_ac3fffa665da853c78053b5bec04422e1}

\item 
string {\bfseries N\+E\+E\+S\+T\+\_\+\+E\+X\+E\+C\+\_\+\+W\+IN} = \char`\"{}Ne2.\+ext\char`\"{}\hypertarget{namespacenegui_1_1pgdriveneestimator_ab9a64173601ab6062449a6e8b6e5308a}{}\label{namespacenegui_1_1pgdriveneestimator_ab9a64173601ab6062449a6e8b6e5308a}

\item 
{\bfseries s\+\_\+neestimator\+\_\+exec} = None\hypertarget{namespacenegui_1_1pgdriveneestimator_a87418a9e15795bbf6125956bb12a7a53}{}\label{namespacenegui_1_1pgdriveneestimator_a87418a9e15795bbf6125956bb12a7a53}

\item 
string {\bfseries s\+\_\+msg} = \char`\"{}For this O\+S\+: \%s, don\textquotesingle{}t know the name of the appropriate Ne\+Estimator executable.\char`\"{}\hypertarget{namespacenegui_1_1pgdriveneestimator_a167b017a9b7a41a2002208686cc6955e}{}\label{namespacenegui_1_1pgdriveneestimator_a167b017a9b7a41a2002208686cc6955e}

\item 
{\bfseries b\+\_\+neestimator\+\_\+found} = pgut.\+confirm\+\_\+executable\+\_\+is\+\_\+in\+\_\+path( s\+\_\+neestimator\+\_\+exec )\hypertarget{namespacenegui_1_1pgdriveneestimator_accfc8b286ef5aae8dba7bbff499dbc09}{}\label{namespacenegui_1_1pgdriveneestimator_accfc8b286ef5aae8dba7bbff499dbc09}

\item 
int {\bfseries i\+\_\+total\+\_\+args\+\_\+passed} = len( sys.\+argv )-\/1\hypertarget{namespacenegui_1_1pgdriveneestimator_a260ada44506c3d54467676a24ddd64f4}{}\label{namespacenegui_1_1pgdriveneestimator_a260ada44506c3d54467676a24ddd64f4}

\item 
{\bfseries i\+\_\+total\+\_\+nonopt} = len( ls\+\_\+args )\hypertarget{namespacenegui_1_1pgdriveneestimator_aa4e6982ff99236ac13e0af4c4d6e8839}{}\label{namespacenegui_1_1pgdriveneestimator_aa4e6982ff99236ac13e0af4c4d6e8839}

\item 
int {\bfseries i\+\_\+total\+\_\+with\+\_\+process\+\_\+opt} = i\+\_\+total\+\_\+nonopt+1\hypertarget{namespacenegui_1_1pgdriveneestimator_a94c82961d29b7470ac2fab07c882ea51}{}\label{namespacenegui_1_1pgdriveneestimator_a94c82961d29b7470ac2fab07c882ea51}

\item 
int {\bfseries i\+\_\+total\+\_\+with\+\_\+debug} = i\+\_\+total\+\_\+nonopt+2\hypertarget{namespacenegui_1_1pgdriveneestimator_a016de539b454a69f16a92dd281f1e59d}{}\label{namespacenegui_1_1pgdriveneestimator_a016de539b454a69f16a92dd281f1e59d}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
\begin{DoxyVerb}Description

given 
-->a list of genepop files, 
-->a list of percentages of the total indiv
   to subsample
--> a number giving a minimum pop size 
   after subsampling
-->a minimum allele frequency (single float)
--> a number giving the total replicate NeEstimator runs 
    to be executed on each file at each subsample percentage 

subsamples and then runs the Ne estimator for each combination of 
genepop_file,percentage,replicate_number. 

As of Fri May 13 19:01:06 MDT 2016, still not sure
how best to get the results to file or stream.
\end{DoxyVerb}
 

\subsection{Function Documentation}
\index{negui\+::pgdriveneestimator@{negui\+::pgdriveneestimator}!add\+\_\+to\+\_\+set\+\_\+of\+\_\+calls\+\_\+to\+\_\+do\+\_\+estimate@{add\+\_\+to\+\_\+set\+\_\+of\+\_\+calls\+\_\+to\+\_\+do\+\_\+estimate}}
\index{add\+\_\+to\+\_\+set\+\_\+of\+\_\+calls\+\_\+to\+\_\+do\+\_\+estimate@{add\+\_\+to\+\_\+set\+\_\+of\+\_\+calls\+\_\+to\+\_\+do\+\_\+estimate}!negui\+::pgdriveneestimator@{negui\+::pgdriveneestimator}}
\subsubsection[{\texorpdfstring{add\+\_\+to\+\_\+set\+\_\+of\+\_\+calls\+\_\+to\+\_\+do\+\_\+estimate(o\+\_\+genepopfile, f\+\_\+min\+\_\+allele\+\_\+freq, o\+\_\+debug\+\_\+mode, llv\+\_\+args\+\_\+each\+\_\+process)}{add_to_set_of_calls_to_do_estimate(o_genepopfile, f_min_allele_freq, o_debug_mode, llv_args_each_process)}}]{\setlength{\rightskip}{0pt plus 5cm}def negui.\+pgdriveneestimator.\+add\+\_\+to\+\_\+set\+\_\+of\+\_\+calls\+\_\+to\+\_\+do\+\_\+estimate (
\begin{DoxyParamCaption}
\item[{}]{o\+\_\+genepopfile, }
\item[{}]{f\+\_\+min\+\_\+allele\+\_\+freq, }
\item[{}]{o\+\_\+debug\+\_\+mode, }
\item[{}]{llv\+\_\+args\+\_\+each\+\_\+process}
\end{DoxyParamCaption}
)}\hypertarget{namespacenegui_1_1pgdriveneestimator_ad1018c6053d4566bdf06702b7e79d1dc}{}\label{namespacenegui_1_1pgdriveneestimator_ad1018c6053d4566bdf06702b7e79d1dc}
\begin{DoxyVerb}creates ne-estimator caller object and adds it to list of args for a single call
to do estimate.  This call is then appended to llv_args_each_process
\end{DoxyVerb}
 

Definition at line 523 of file pgdriveneestimator.\+py.


\begin{DoxyCode}
523                         llv\_args\_each\_process ):
524     \textcolor{stringliteral}{'''     }
525 \textcolor{stringliteral}{    creates ne-estimator caller object and adds it to list of args for a single call}
526 \textcolor{stringliteral}{    to do estimate.  This call is then appended to llv\_args\_each\_process}
527 \textcolor{stringliteral}{    '''}
528 
529     \textcolor{comment}{#all these GenepopFileManager objects should now have}
530     \textcolor{comment}{#a single population sample name (also the sampling schemt type):}
531     s\_population\_sample\_name=o\_genepopfile.population\_subsample\_tags[ 0 ]
532     s\_sample\_scheme=s\_population\_sample\_name
533 
534     ls\_indiv\_sample\_names=o\_genepopfile.indiv\_subsample\_tags
535 
536     li\_population\_numbers=o\_genepopfile.getListPopulationNumbers( s\_population\_sample\_name )
537 
538     df\_samples\_with\_zero\_individuals=\{\}
539 
540     \textcolor{keywordflow}{for} s\_indiv\_sample \textcolor{keywordflow}{in} ls\_indiv\_sample\_names:
541         i\_total\_indiv\_all\_pops\_this\_subsample=0
542         \textcolor{keywordflow}{for} i\_population\_number \textcolor{keywordflow}{in} li\_population\_numbers:
543             i\_total\_indiv\_all\_pops\_this\_subsample+= \(\backslash\)
544                     o\_genepopfile.getIndivCountPerSubsampleForPop( s\_indiv\_sample, i\_population\_number )
545         \textcolor{comment}{#end for each population number}
546 
547         \textcolor{keywordflow}{if} i\_total\_indiv\_all\_pops\_this\_subsample == 0:
548             v\_sample\_value, i\_replicate\_count=get\_sample\_val\_and\_rep\_number\_from\_sample\_name( \(\backslash\)
549                                         s\_indiv\_sample, s\_sample\_scheme )
550             \textcolor{comment}{#we only want to report the first replicate}
551             \textcolor{comment}{#(by inference of course all replicates will be skipped:}
552             \textcolor{keywordflow}{if} i\_replicate\_count == 0:
553                 s\_msg=\textcolor{stringliteral}{"Skipping samples from: "} \(\backslash\)
554                         + o\_genepopfile.original\_file\_name \(\backslash\)
555                         + \textcolor{stringliteral}{".  In pgdriveneestimator.py, all populations "} \(\backslash\)
556                         + \textcolor{stringliteral}{"have zero individuals when sampled using "} \(\backslash\)
557                         + \textcolor{stringliteral}{"scheme: "} + s\_population\_sample\_name  \(\backslash\)
558                         + \textcolor{stringliteral}{", and with sample parameter, "} + str( v\_sample\_value ) + \textcolor{stringliteral}{"."}
559                 sys.stderr.write( s\_msg + \textcolor{stringliteral}{"\(\backslash\)n"} )
560             \textcolor{comment}{#end if first replicate, report}
561         \textcolor{keywordflow}{else}:
562 
563             \textcolor{keywordflow}{if} o\_debug\_mode.isSet( DebugMode.PRINT\_REPLICATE\_SELECTIONS ):
564                 print\_test\_list\_replicate\_selection\_indices( o\_genepopfile, s\_indiv\_sample )
565             \textcolor{comment}{#end if we're testing}
566                 
567             s\_genepop\_file\_subsample=o\_genepopfile.original\_file\_name + \textcolor{stringliteral}{"\_"} +  s\_indiv\_sample
568 
569             i\_sample\_value, i\_replicate\_number= \(\backslash\)
570                         get\_sample\_val\_and\_rep\_number\_from\_sample\_name( s\_indiv\_sample, s\_sample\_scheme )
571 
572             \textcolor{comment}{#Note: if a period is left in the original file name,}
573             \textcolor{comment}{#NeEstimator, when naming "*NoDat.txt" file, will replace the right-most}
574             \textcolor{comment}{#period all text that follows it,  with "NoDat.txt" }
575             \textcolor{comment}{#-- this then removes any percent and replicate number text }
576             \textcolor{comment}{#I'm using to make files unique, and so creates a }
577             \textcolor{comment}{#non-uniq *NoDat.txt file name, which, when one process removes it, }
578             \textcolor{comment}{#and another goes looking for it , throws an exception -- (an }
579             \textcolor{comment}{#exception from the multiprocessing.Pools async mapping -- file-not-found,}
580             \textcolor{comment}{#but no trace since it occurs in a different process from the main).}
581             \textcolor{comment}{#This peculiar mangling of a users input file -- was preventing me in previous versions, }
582             \textcolor{comment}{#from deleting NoDat files, and also I think meant that only the }
583             \textcolor{comment}{#last process in a given group of replicates (share same genepop file}
584             \textcolor{comment}{#and proportion sampled) to use the NoDAt file got to write it's NoDat info. }
585             \textcolor{comment}{#Removing all periods from the input file to the NeEstimator program, I belive,}
586             \textcolor{comment}{#completely solves the problems.}
587             s\_genepop\_file\_subsample=s\_genepop\_file\_subsample.replace( \textcolor{stringliteral}{"."}, \textcolor{stringliteral}{"\_"} )
588 
589             s\_run\_output\_file=s\_genepop\_file\_subsample + \textcolor{stringliteral}{"\_ne\_run.txt"}
590 
591             o\_neinput=pgin.PGInputNeEstimator( s\_genepop\_file\_subsample )
592 
593             o\_neinput.run\_params=\{ \textcolor{stringliteral}{"crits"}:[ f\_min\_allele\_freq ]  \}
594 
595             o\_neoutput=pgout.PGOutputNeEstimator( s\_genepop\_file\_subsample, s\_run\_output\_file ) 
596 
597             o\_ne\_estimator=pgne.PGOpNeEstimator( o\_neinput, o\_neoutput ) 
598 
599             \textcolor{comment}{#we send to def do\_estimate the genepop file object, o\_genepopfile, and the subsample tag}
600             \textcolor{comment}{#that identifies the correct subsample calculated and stored in the object, so we can write}
601             \textcolor{comment}{#each subsample genepop file in the same process that will use it as input to the the
       estimator, }
602             \textcolor{comment}{#This should limit the number of input files existing concurrenty in the directory to the }
603             \textcolor{comment}{#number of processes in use.  We also send allele freq, and the original genepop file name }
604             \textcolor{comment}{#inside the genepop file manager object):}
605 
606             v\_sample\_value, i\_replicate\_number = \(\backslash\)
607                     get\_sample\_val\_and\_rep\_number\_from\_sample\_name( s\_indiv\_sample, s\_sample\_scheme )
608 
609             lv\_these\_args = [ o\_genepopfile,  o\_ne\_estimator, v\_sample\_value, 
610                                 f\_min\_allele\_freq, s\_indiv\_sample, 
611                                 i\_replicate\_number, o\_debug\_mode ]
612 
613             llv\_args\_each\_process.append( lv\_these\_args )
614         \textcolor{comment}{#end if this subsample has no indiv, else has}
615     \textcolor{comment}{#end for each sample name}
616     \textcolor{keywordflow}{return}
617 \textcolor{comment}{#end add\_to\_set\_of\_calls\_to\_do\_estimate}
618 
\end{DoxyCode}
\index{negui\+::pgdriveneestimator@{negui\+::pgdriveneestimator}!get\+\_\+pops\+\_\+in\+\_\+file\+\_\+too\+\_\+small\+\_\+to\+\_\+run@{get\+\_\+pops\+\_\+in\+\_\+file\+\_\+too\+\_\+small\+\_\+to\+\_\+run}}
\index{get\+\_\+pops\+\_\+in\+\_\+file\+\_\+too\+\_\+small\+\_\+to\+\_\+run@{get\+\_\+pops\+\_\+in\+\_\+file\+\_\+too\+\_\+small\+\_\+to\+\_\+run}!negui\+::pgdriveneestimator@{negui\+::pgdriveneestimator}}
\subsubsection[{\texorpdfstring{get\+\_\+pops\+\_\+in\+\_\+file\+\_\+too\+\_\+small\+\_\+to\+\_\+run(o\+\_\+genepopfile, f\+\_\+proportion, i\+\_\+min\+\_\+pop\+\_\+size)}{get_pops_in_file_too_small_to_run(o_genepopfile, f_proportion, i_min_pop_size)}}]{\setlength{\rightskip}{0pt plus 5cm}def negui.\+pgdriveneestimator.\+get\+\_\+pops\+\_\+in\+\_\+file\+\_\+too\+\_\+small\+\_\+to\+\_\+run (
\begin{DoxyParamCaption}
\item[{}]{o\+\_\+genepopfile, }
\item[{}]{f\+\_\+proportion, }
\item[{}]{i\+\_\+min\+\_\+pop\+\_\+size}
\end{DoxyParamCaption}
)}\hypertarget{namespacenegui_1_1pgdriveneestimator_a8255cfe046e2bbb517ee9834d626c021}{}\label{namespacenegui_1_1pgdriveneestimator_a8255cfe046e2bbb517ee9834d626c021}
\begin{DoxyVerb}checks size of every pop in the file
but as of Tue May 17 20:09:17 MDT 2016
we still only accept genepop files
with a single pop.  However, likely
we'll want to implement in the future
skipping some pops and accepting others,
all from the same file, hence the returned
list of indexes into pop sizes
\end{DoxyVerb}
 

Definition at line 236 of file pgdriveneestimator.\+py.


\begin{DoxyCode}
236 \textcolor{keyword}{def }\hyperlink{namespacenegui_1_1pgdriveneestimator_a8255cfe046e2bbb517ee9834d626c021}{get\_pops\_in\_file\_too\_small\_to\_run}( o\_genepopfile, f\_proportion, 
      i\_min\_pop\_size ):
237 
238     \textcolor{stringliteral}{'''}
239 \textcolor{stringliteral}{    checks size of every pop in the file}
240 \textcolor{stringliteral}{    but as of Tue May 17 20:09:17 MDT 2016}
241 \textcolor{stringliteral}{    we still only accept genepop files}
242 \textcolor{stringliteral}{    with a single pop.  However, likely}
243 \textcolor{stringliteral}{    we'll want to implement in the future}
244 \textcolor{stringliteral}{    skipping some pops and accepting others,}
245 \textcolor{stringliteral}{    all from the same file, hence the returned}
246 \textcolor{stringliteral}{    list of indexes into pop sizes}
247 \textcolor{stringliteral}{    '''}
248 
249     li\_popsizes=o\_genepopfile.indiv\_count\_per\_pop
250 
251     li\_pops\_too\_small = []
252     \textcolor{keywordflow}{for} idx\_pop \textcolor{keywordflow}{in} range( len ( li\_popsizes ) ):
253         i\_size\_of\_pop=int( round( li\_popsizes[ idx\_pop ] * f\_proportion ) )
254         \textcolor{keywordflow}{if} i\_size\_of\_pop < i\_min\_pop\_size:
255             li\_pops\_too\_small.append( idx\_pop )
256         \textcolor{comment}{#end if subsample size too small}
257     \textcolor{comment}{#end for each pop number}
258     \textcolor{keywordflow}{return} li\_pops\_too\_small
259 \textcolor{comment}{#end get\_pops\_in\_file\_too\_small\_to\_run}
260 
\end{DoxyCode}


\subsection{Variable Documentation}
\index{negui\+::pgdriveneestimator@{negui\+::pgdriveneestimator}!ls\+\_\+args@{ls\+\_\+args}}
\index{ls\+\_\+args@{ls\+\_\+args}!negui\+::pgdriveneestimator@{negui\+::pgdriveneestimator}}
\subsubsection[{\texorpdfstring{ls\+\_\+args}{ls_args}}]{\setlength{\rightskip}{0pt plus 5cm}list negui.\+pgdriveneestimator.\+ls\+\_\+args}\hypertarget{namespacenegui_1_1pgdriveneestimator_abfbdb01853ee7510bfe0276c609515d1}{}\label{namespacenegui_1_1pgdriveneestimator_abfbdb01853ee7510bfe0276c609515d1}
{\bfseries Initial value\+:}
\begin{DoxyCode}
1 = [ \textcolor{stringliteral}{"glob pattern to match genepop files, enclosed in quotes. (Example: \(\backslash\)"mydir/*txt\(\backslash\)")"}, 
2             \textcolor{stringliteral}{"\(\backslash\)"percent\(\backslash\)" or \(\backslash\)"remove\(\backslash\)", indicating whether to sample by percentages or removing N
       individuals randomly"},
3             \textcolor{stringliteral}{"list of integers, percentages or N's (for removing N individuals),  (Examples: 10,70,90 or
       1,3,5)"}, 
4             \textcolor{stringliteral}{"minimum pop size (single integer)"},
5             \textcolor{stringliteral}{"float, minimum allele frequency for NeEstimator's Crit value"},
6             \textcolor{stringliteral}{"integer, total replicates to run (Note: when removing one individual in a pop of N, all N
       combinations will be run)"} ]
\end{DoxyCode}


Definition at line 748 of file pgdriveneestimator.\+py.

\index{negui\+::pgdriveneestimator@{negui\+::pgdriveneestimator}!ls\+\_\+optionals@{ls\+\_\+optionals}}
\index{ls\+\_\+optionals@{ls\+\_\+optionals}!negui\+::pgdriveneestimator@{negui\+::pgdriveneestimator}}
\subsubsection[{\texorpdfstring{ls\+\_\+optionals}{ls_optionals}}]{\setlength{\rightskip}{0pt plus 5cm}list negui.\+pgdriveneestimator.\+ls\+\_\+optionals}\hypertarget{namespacenegui_1_1pgdriveneestimator_acb78e64cb6ac8c5250cf2aa717946c61}{}\label{namespacenegui_1_1pgdriveneestimator_acb78e64cb6ac8c5250cf2aa717946c61}
{\bfseries Initial value\+:}
\begin{DoxyCode}
1 = [ \textcolor{stringliteral}{"total processes to use (single integer) Default is 1 process.  "} \(\backslash\)
2             + \textcolor{stringliteral}{"This arg is required if the final debug optional arg is added"},
3             \textcolor{stringliteral}{"\(\backslash\)"debug1\(\backslash\)" to add to the output a table listing, for each indiv. in each file, "} \(\backslash\)
4                     + \textcolor{stringliteral}{"which replicate Ne estimates include the indiv, or,\(\backslash\)n \(\backslash\)"debug2\(\backslash\)" "} \(\backslash\)
5                     + \textcolor{stringliteral}{"to run without parallelized processes,"} \(\backslash\)
6                     + \textcolor{stringliteral}{"to produce the table, and to save all subsample "} \(\backslash\)
7                     + \textcolor{stringliteral}{"genepop files and NeEstimator output files."} ]
\end{DoxyCode}


Definition at line 755 of file pgdriveneestimator.\+py.

\index{negui\+::pgdriveneestimator@{negui\+::pgdriveneestimator}!s\+\_\+usage@{s\+\_\+usage}}
\index{s\+\_\+usage@{s\+\_\+usage}!negui\+::pgdriveneestimator@{negui\+::pgdriveneestimator}}
\subsubsection[{\texorpdfstring{s\+\_\+usage}{s_usage}}]{\setlength{\rightskip}{0pt plus 5cm}negui.\+pgdriveneestimator.\+s\+\_\+usage}\hypertarget{namespacenegui_1_1pgdriveneestimator_a147253c79bbe39eef5bc01233bda5ab7}{}\label{namespacenegui_1_1pgdriveneestimator_a147253c79bbe39eef5bc01233bda5ab7}
{\bfseries Initial value\+:}
\begin{DoxyCode}
1 = pgut.do\_usage\_check( sys.argv, ls\_args, 
2             ls\_optional\_arg\_descriptions=ls\_optionals,
3             b\_multi\_line\_msg=\textcolor{keyword}{True} )
\end{DoxyCode}


Definition at line 763 of file pgdriveneestimator.\+py.

