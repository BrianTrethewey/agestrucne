\hypertarget{classgui__frontend__popgen__program_1_1pgmenubuilder_1_1PGMenuBuilder}{}\section{gui\+\_\+frontend\+\_\+popgen\+\_\+program.\+pgmenubuilder.\+P\+G\+Menu\+Builder Class Reference}
\label{classgui__frontend__popgen__program_1_1pgmenubuilder_1_1PGMenuBuilder}\index{gui\+\_\+frontend\+\_\+popgen\+\_\+program.\+pgmenubuilder.\+P\+G\+Menu\+Builder@{gui\+\_\+frontend\+\_\+popgen\+\_\+program.\+pgmenubuilder.\+P\+G\+Menu\+Builder}}
Inheritance diagram for gui\+\_\+frontend\+\_\+popgen\+\_\+program.\+pgmenubuilder.\+P\+G\+Menu\+Builder\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classgui__frontend__popgen__program_1_1pgmenubuilder_1_1PGMenuBuilder}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classgui__frontend__popgen__program_1_1pgmenubuilder_1_1PGMenuBuilder_a09e525c5459e1d60f7aaa31cc7b6e0ea}{\+\_\+\+\_\+init\+\_\+\+\_\+} (self, s\+\_\+config\+\_\+file, o\+\_\+parent, o\+\_\+pg\+\_\+operation, i\+\_\+tearoff=0)
\item 
def \hyperlink{classgui__frontend__popgen__program_1_1pgmenubuilder_1_1PGMenuBuilder_a717ed3e9feead39c81f11bf47a2d0cf4}{get\+\_\+add\+\_\+command\+\_\+params\+\_\+and\+\_\+args} (self, o\+\_\+config, s\+\_\+menu\+\_\+label)
\item 
def \hyperlink{classgui__frontend__popgen__program_1_1pgmenubuilder_1_1PGMenuBuilder_a74a9d002649b744dbc442a53a16dbc29}{menu} (self)
\item 
def {\bfseries menu} (self, i\+\_\+value)\hypertarget{classgui__frontend__popgen__program_1_1pgmenubuilder_1_1PGMenuBuilder_a02e8c4624d6ed366a5c8c942b8fcf609}{}\label{classgui__frontend__popgen__program_1_1pgmenubuilder_1_1PGMenuBuilder_a02e8c4624d6ed366a5c8c942b8fcf609}

\item 
def {\bfseries menu} (self)\hypertarget{classgui__frontend__popgen__program_1_1pgmenubuilder_1_1PGMenuBuilder_a74a9d002649b744dbc442a53a16dbc29}{}\label{classgui__frontend__popgen__program_1_1pgmenubuilder_1_1PGMenuBuilder_a74a9d002649b744dbc442a53a16dbc29}

\end{DoxyCompactItemize}
\subsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
list {\bfseries C\+O\+N\+F\+I\+G\+\_\+\+O\+P\+T\+I\+O\+N\+S\+\_\+\+N\+O\+N\+\_\+\+C\+O\+M\+M\+A\+N\+D\+\_\+\+A\+R\+GS} = \mbox{[} \char`\"{}parent\char`\"{}, \char`\"{}menu\+\_\+underline\char`\"{} \mbox{]}\hypertarget{classgui__frontend__popgen__program_1_1pgmenubuilder_1_1PGMenuBuilder_abebcbf4c07d8e8dbf43675e314088d5a}{}\label{classgui__frontend__popgen__program_1_1pgmenubuilder_1_1PGMenuBuilder_abebcbf4c07d8e8dbf43675e314088d5a}

\item 
{\bfseries o\+\_\+this\+\_\+menu} = Menu( self.\+\_\+\+\_\+menubar, tearoff = self.\+\_\+\+\_\+tearoff )\hypertarget{classgui__frontend__popgen__program_1_1pgmenubuilder_1_1PGMenuBuilder_abeb76d0bd440b112327fac69f10b5935}{}\label{classgui__frontend__popgen__program_1_1pgmenubuilder_1_1PGMenuBuilder_abeb76d0bd440b112327fac69f10b5935}

\item 
{\bfseries ld\+\_\+args} = self.\+get\+\_\+add\+\_\+command\+\_\+params\+\_\+and\+\_\+args( o\+\_\+config, s\+\_\+menu\+\_\+label )\hypertarget{classgui__frontend__popgen__program_1_1pgmenubuilder_1_1PGMenuBuilder_aea1757aeb44b06f9c0af5dbcb96e11f1}{}\label{classgui__frontend__popgen__program_1_1pgmenubuilder_1_1PGMenuBuilder_aea1757aeb44b06f9c0af5dbcb96e11f1}

\item 
{\bfseries dv\+\_\+menu\+\_\+values} = self.\+\_\+\+\_\+get\+\_\+menu\+\_\+values( o\+\_\+config, s\+\_\+menu\+\_\+label )\hypertarget{classgui__frontend__popgen__program_1_1pgmenubuilder_1_1PGMenuBuilder_af9a14f67b0e3ba344be2dd782dfa4b3a}{}\label{classgui__frontend__popgen__program_1_1pgmenubuilder_1_1PGMenuBuilder_af9a14f67b0e3ba344be2dd782dfa4b3a}

\item 
{\bfseries label}\hypertarget{classgui__frontend__popgen__program_1_1pgmenubuilder_1_1PGMenuBuilder_ae1be7da55a8c3709b2490344e1d393a3}{}\label{classgui__frontend__popgen__program_1_1pgmenubuilder_1_1PGMenuBuilder_ae1be7da55a8c3709b2490344e1d393a3}

\item 
{\bfseries menu}\hypertarget{classgui__frontend__popgen__program_1_1pgmenubuilder_1_1PGMenuBuilder_ab4e38859621f23a5abb5bebf2f51e466}{}\label{classgui__frontend__popgen__program_1_1pgmenubuilder_1_1PGMenuBuilder_ab4e38859621f23a5abb5bebf2f51e466}

\item 
{\bfseries underline}\hypertarget{classgui__frontend__popgen__program_1_1pgmenubuilder_1_1PGMenuBuilder_a860a087d041bb103ea6c73b93905e142}{}\label{classgui__frontend__popgen__program_1_1pgmenubuilder_1_1PGMenuBuilder_a860a087d041bb103ea6c73b93905e142}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
\begin{DoxyVerb}Instantiates a tkinter menu_bar, with parent gui object (usually the main window) 
as given by __init__ param, and populates it by reading a list of menu items and 
parameters from a configuration file, also an __init__ param. The menus get their 
command callback defs, as named in the configuration file, in the class object 
passed as init param o_pg_operation.

The configuration file key=value entries inside each [section] are of two classes:

1. keys that are not param keywords for the call to menu.add_command.  These include 
    (a) "parent=value", which tells the
    builder which of the file labels (sections in the config file) is the parent menu
    to it's submenu.  As of 20160116 this is not implemented, and only parent=None (unquoted) 
    is allowed.
    (b) "menu_underline=value", where value is an (zero-based) index into the menu label name 
    (as given by the section name).

2. key=value pairs whose keys are param keywords (like "accelerator").  Keys must match exactly
    prarm names in the menu.add_command definition's param list.  Their values should be 
    entered in square brackets like a python list, with one entry for each of the menu items.  
    If the nth item is to be "seperator" item, the nth item in the label list should be 
    "sep", and other items like "command" or accelerator, can be any value (ex: None), 
    as they will be ignored.

For example, a menubar with 2 items "File" and "Edit", each with 2 menu items, with
Edit having a seperator between its items would look like this: 

#file menu
[File]
parent=None
#which characters to underline in the File label:
menu_underline=0
label=[ "New" , "Open" ]
#which characters to underline in the menu items:
underline=[ 0, 0 ]
accelerator=[ "Ctrl+N","Ctrl+O" ]
command=[ "new_file", "open_file" ]

#edit menu
[Edit]
parent=None
menu_underline=0
label=["Undo","sep","Options"]
underline=[ 1,None, 1 ]
accelerator=["Ctrl+Z", None, "Ctrl+T"]
command=[ "undo", None, "showopts" ]  
\end{DoxyVerb}
 

Definition at line 14 of file pgmenubuilder.\+py.



\subsection{Constructor \& Destructor Documentation}
\index{gui\+\_\+frontend\+\_\+popgen\+\_\+program\+::pgmenubuilder\+::\+P\+G\+Menu\+Builder@{gui\+\_\+frontend\+\_\+popgen\+\_\+program\+::pgmenubuilder\+::\+P\+G\+Menu\+Builder}!\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}}
\index{\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}!gui\+\_\+frontend\+\_\+popgen\+\_\+program\+::pgmenubuilder\+::\+P\+G\+Menu\+Builder@{gui\+\_\+frontend\+\_\+popgen\+\_\+program\+::pgmenubuilder\+::\+P\+G\+Menu\+Builder}}
\subsubsection[{\texorpdfstring{\+\_\+\+\_\+init\+\_\+\+\_\+(self, s\+\_\+config\+\_\+file, o\+\_\+parent, o\+\_\+pg\+\_\+operation, i\+\_\+tearoff=0)}{__init__(self, s_config_file, o_parent, o_pg_operation, i_tearoff=0)}}]{\setlength{\rightskip}{0pt plus 5cm}def gui\+\_\+frontend\+\_\+popgen\+\_\+program.\+pgmenubuilder.\+P\+G\+Menu\+Builder.\+\_\+\+\_\+init\+\_\+\+\_\+ (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{s\+\_\+config\+\_\+file, }
\item[{}]{o\+\_\+parent, }
\item[{}]{o\+\_\+pg\+\_\+operation, }
\item[{}]{i\+\_\+tearoff = {\ttfamily 0}}
\end{DoxyParamCaption}
)}\hypertarget{classgui__frontend__popgen__program_1_1pgmenubuilder_1_1PGMenuBuilder_a09e525c5459e1d60f7aaa31cc7b6e0ea}{}\label{classgui__frontend__popgen__program_1_1pgmenubuilder_1_1PGMenuBuilder_a09e525c5459e1d60f7aaa31cc7b6e0ea}
\begin{DoxyVerb}param s_config_file gives menu attribute values (see module documentation)
param o_parent is the Tk widget parent of the menu this object builds
param o_pg_operation is a class object that has the definitions
that match the command names to be bound to the menus ('command' 
option values in the config file)
param i_tearoff tells the gui whether the menu items can be dragged off of 
    the parent menubar (tearoff=1) or not (tearoff=0)
\end{DoxyVerb}
 

Definition at line 65 of file pgmenubuilder.\+py.


\begin{DoxyCode}
65     \textcolor{keyword}{def }\hyperlink{classgui__frontend__popgen__program_1_1pgmenubuilder_1_1PGMenuBuilder_a09e525c5459e1d60f7aaa31cc7b6e0ea}{\_\_init\_\_}( self, s\_config\_file, o\_parent, o\_pg\_operation, i\_tearoff=0 ):
66         \textcolor{stringliteral}{'''}
67 \textcolor{stringliteral}{        param s\_config\_file gives menu attribute values (see module documentation)}
68 \textcolor{stringliteral}{        param o\_parent is the Tk widget parent of the menu this object builds}
69 \textcolor{stringliteral}{        param o\_pg\_operation is a class object that has the definitions}
70 \textcolor{stringliteral}{                that match the command names to be bound to the menus ('command' }
71 \textcolor{stringliteral}{                option values in the config file)}
72 \textcolor{stringliteral}{        param i\_tearoff tells the gui whether the menu items can be dragged off of }
73 \textcolor{stringliteral}{            the parent menubar (tearoff=1) or not (tearoff=0)}
74 \textcolor{stringliteral}{        '''}
75 
76         self.\_\_menubar = \textcolor{keywordtype}{None}
77         self.\_\_pg\_operation = o\_pg\_operation
78         self.\_\_tearoff = i\_tearoff
79         self.\_\_parent=o\_parent
80         o\_config = self.\_\_get\_menu\_info( s\_config\_file )
81         self.\_\_build\_menu( o\_config )
82         \textcolor{keywordflow}{return}
\end{DoxyCode}


\subsection{Member Function Documentation}
\index{gui\+\_\+frontend\+\_\+popgen\+\_\+program\+::pgmenubuilder\+::\+P\+G\+Menu\+Builder@{gui\+\_\+frontend\+\_\+popgen\+\_\+program\+::pgmenubuilder\+::\+P\+G\+Menu\+Builder}!get\+\_\+add\+\_\+command\+\_\+params\+\_\+and\+\_\+args@{get\+\_\+add\+\_\+command\+\_\+params\+\_\+and\+\_\+args}}
\index{get\+\_\+add\+\_\+command\+\_\+params\+\_\+and\+\_\+args@{get\+\_\+add\+\_\+command\+\_\+params\+\_\+and\+\_\+args}!gui\+\_\+frontend\+\_\+popgen\+\_\+program\+::pgmenubuilder\+::\+P\+G\+Menu\+Builder@{gui\+\_\+frontend\+\_\+popgen\+\_\+program\+::pgmenubuilder\+::\+P\+G\+Menu\+Builder}}
\subsubsection[{\texorpdfstring{get\+\_\+add\+\_\+command\+\_\+params\+\_\+and\+\_\+args(self, o\+\_\+config, s\+\_\+menu\+\_\+label)}{get_add_command_params_and_args(self, o_config, s_menu_label)}}]{\setlength{\rightskip}{0pt plus 5cm}def gui\+\_\+frontend\+\_\+popgen\+\_\+program.\+pgmenubuilder.\+P\+G\+Menu\+Builder.\+get\+\_\+add\+\_\+command\+\_\+params\+\_\+and\+\_\+args (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{o\+\_\+config, }
\item[{}]{s\+\_\+menu\+\_\+label}
\end{DoxyParamCaption}
)}\hypertarget{classgui__frontend__popgen__program_1_1pgmenubuilder_1_1PGMenuBuilder_a717ed3e9feead39c81f11bf47a2d0cf4}{}\label{classgui__frontend__popgen__program_1_1pgmenubuilder_1_1PGMenuBuilder_a717ed3e9feead39c81f11bf47a2d0cf4}
\begin{DoxyVerb}returns a list of dictionaries, one for each menu item, of the param=value
settings for calls to menu.add_command.  We skip the config key=value for keys
that are not part of the params needed for add_command. 
\end{DoxyVerb}
 

Definition at line 115 of file pgmenubuilder.\+py.


\begin{DoxyCode}
115     \textcolor{keyword}{def }\hyperlink{classgui__frontend__popgen__program_1_1pgmenubuilder_1_1PGMenuBuilder_a717ed3e9feead39c81f11bf47a2d0cf4}{get\_add\_command\_params\_and\_args}( self,  o\_config, s\_menu\_label ):
116         \textcolor{stringliteral}{'''}
117 \textcolor{stringliteral}{        returns a list of dictionaries, one for each menu item, of the param=value}
118 \textcolor{stringliteral}{        settings for calls to menu.add\_command.  We skip the config key=value for keys}
119 \textcolor{stringliteral}{        that are not part of the params needed for add\_command. }
120 \textcolor{stringliteral}{        '''}
121 
122         l\_keyword\_menu\_params = o\_config.options( s\_menu\_label )    
123 
124         \textcolor{comment}{#how many items on this menu should equal number of labels:}
125         i\_num\_items = self.\hyperlink{classgui__frontend__popgen__program_1_1pgmenubuilder_1_1PGMenuBuilder_a40e63e390562a2a3eecacef8a72ddbef}{\_\_get\_num\_labels\_menu}( o\_config, s\_menu\_label )
126 
127         ld\_args = [ \{\} \textcolor{keywordflow}{for} idx \textcolor{keywordflow}{in} range( i\_num\_items ) ]
128 
129         \textcolor{comment}{#for each submenu item, we get a dict of keyword:value to pass to "add\_command"}
130         \textcolor{keywordflow}{for} s\_keyword \textcolor{keywordflow}{in} l\_keyword\_menu\_params:
131             s\_vals=o\_config.get( s\_menu\_label, s\_keyword )
132 
133             \textcolor{comment}{#for each keyword that is a param name in the menu.add\_command call}
134             \textcolor{keywordflow}{if} s\_keyword \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} PGMenuBuilder.CONFIG\_OPTIONS\_NON\_COMMAND\_ARGS:
135 
136                 l\_vals=eval( s\_vals )
137 
138                 \textcolor{keywordflow}{if} len( l\_vals ) != i\_num\_items:
139                     \textcolor{keywordflow}{raise} Exception( \textcolor{stringliteral}{"in pgmenubuilder, config entry should have "} \(\backslash\)
140                             + \textcolor{stringliteral}{"one item for each label, but the option with keyname, "} \(\backslash\)
141                             + s\_keyword + \textcolor{stringliteral}{"does not."} )
142                 \textcolor{comment}{#end if wrong number values}
143                 
144                 \textcolor{comment}{#if this is the list of command values (callback defs) }
145                 \textcolor{comment}{#for each submenu item,}
146                 \textcolor{comment}{#then we must be able to find it among the attributes}
147                 \textcolor{comment}{#of our member operation object}
148                 \textcolor{comment}{#note: if "sep" is the label, we set other param values }
149                 \textcolor{comment}{#to None, but they are ignored (see for loop below)}
150                 \textcolor{keywordflow}{if} s\_keyword ==\textcolor{stringliteral}{"command"}:
151                     l\_vals = [ getattr( self.\hyperlink{classgui__frontend__popgen__program_1_1pgmenubuilder_1_1PGMenuBuilder_a551e6b6a9f0b2e46f543d36dfc8af0fb}{\_\_pg\_operation}, thisval ) \(\backslash\)
152                             \textcolor{keywordflow}{if} thisval \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None} \(\backslash\)
153                             \textcolor{keywordflow}{else} \textcolor{keywordtype}{None} \textcolor{keywordflow}{for} thisval \textcolor{keywordflow}{in} l\_vals ]
154                 \textcolor{comment}{#end if command list}
155 
156                 \textcolor{keywordflow}{for} idx \textcolor{keywordflow}{in} range( i\_num\_items ):
157                     ld\_args[ idx ][ s\_keyword ] = l\_vals[ idx ]
158                 \textcolor{comment}{#end for each item}
159             \textcolor{comment}{#end if not a param keyword for add\_command}
160         \textcolor{comment}{#end for each keyword}
161         \textcolor{keywordflow}{return} ld\_args
\end{DoxyCode}
\index{gui\+\_\+frontend\+\_\+popgen\+\_\+program\+::pgmenubuilder\+::\+P\+G\+Menu\+Builder@{gui\+\_\+frontend\+\_\+popgen\+\_\+program\+::pgmenubuilder\+::\+P\+G\+Menu\+Builder}!menu@{menu}}
\index{menu@{menu}!gui\+\_\+frontend\+\_\+popgen\+\_\+program\+::pgmenubuilder\+::\+P\+G\+Menu\+Builder@{gui\+\_\+frontend\+\_\+popgen\+\_\+program\+::pgmenubuilder\+::\+P\+G\+Menu\+Builder}}
\subsubsection[{\texorpdfstring{menu(self)}{menu(self)}}]{\setlength{\rightskip}{0pt plus 5cm}def gui\+\_\+frontend\+\_\+popgen\+\_\+program.\+pgmenubuilder.\+P\+G\+Menu\+Builder.\+menu (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}\hypertarget{classgui__frontend__popgen__program_1_1pgmenubuilder_1_1PGMenuBuilder_a74a9d002649b744dbc442a53a16dbc29}{}\label{classgui__frontend__popgen__program_1_1pgmenubuilder_1_1PGMenuBuilder_a74a9d002649b744dbc442a53a16dbc29}
\begin{DoxyVerb}menu, tk.TKMenu object\end{DoxyVerb}
 

Definition at line 208 of file pgmenubuilder.\+py.


\begin{DoxyCode}
208     \textcolor{keyword}{def }menu(self):
209         \textcolor{stringliteral}{"""menu, tk.TKMenu object"""}
210         \textcolor{keywordflow}{return} self.\hyperlink{classgui__frontend__popgen__program_1_1pgmenubuilder_1_1PGMenuBuilder_abc2334fcb2c9693bd6aae7f8fde48db9}{\_\_menubar}
\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
pgmenubuilder.\+py\end{DoxyCompactItemize}
