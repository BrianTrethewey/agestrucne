\hypertarget{namespacenegui_1_1negui}{}\section{negui.\+negui Namespace Reference}
\label{namespacenegui_1_1negui}\index{negui.\+negui@{negui.\+negui}}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def {\bfseries cleanup\+\_\+gui} (o\+\_\+host)\hypertarget{namespacenegui_1_1negui_a633f9fe59f5e342abb4e0902629dbfd4}{}\label{namespacenegui_1_1negui_a633f9fe59f5e342abb4e0902629dbfd4}

\item 
def {\bfseries confirm\+\_\+resources} (s\+\_\+life\+\_\+table\+\_\+glob, s\+\_\+menu\+\_\+config, s\+\_\+param\+\_\+name\+\_\+file\+\_\+dir)\hypertarget{namespacenegui_1_1negui_aa8e9d885a42354240dbcc33d8f06e562}{}\label{namespacenegui_1_1negui_aa8e9d885a42354240dbcc33d8f06e562}

\item 
def {\bfseries get\+\_\+param\+\_\+file\+\_\+names} (s\+\_\+param\+\_\+name\+\_\+file\+\_\+dir)\hypertarget{namespacenegui_1_1negui_a2b414be2cea7913bf71c4c35b5c1e015}{}\label{namespacenegui_1_1negui_a2b414be2cea7913bf71c4c35b5c1e015}

\item 
def \hyperlink{namespacenegui_1_1negui_a3ae02c04d1a16d3a3f855196fa2be244}{negui\+\_\+main} ()
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
list {\bfseries P\+A\+R\+A\+M\+\_\+\+N\+A\+M\+E\+\_\+\+F\+I\+L\+ES} = \mbox{[} \char`\"{}simupop.\+param.\+names\char`\"{}, \char`\"{}neestimation.\+param.\+names\char`\"{}, \char`\"{}viz.\+param.\+names\char`\"{} \mbox{]}\hypertarget{namespacenegui_1_1negui_a6257f75fe3ed7fe0b5a4cff4cb694e47}{}\label{namespacenegui_1_1negui_a6257f75fe3ed7fe0b5a4cff4cb694e47}

\item 
dictionary {\bfseries P\+A\+R\+A\+M\+\_\+\+F\+I\+L\+E\+\_\+\+K\+E\+Y\+S\+\_\+\+B\+Y\+\_\+\+F\+I\+L\+E\+\_\+\+N\+A\+ME}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\begin{DoxyVerb}Description

Driver for the negui program
\end{DoxyVerb}
 

\subsection{Function Documentation}
\index{negui\+::negui@{negui\+::negui}!negui\+\_\+main@{negui\+\_\+main}}
\index{negui\+\_\+main@{negui\+\_\+main}!negui\+::negui@{negui\+::negui}}
\subsubsection[{\texorpdfstring{negui\+\_\+main()}{negui_main()}}]{\setlength{\rightskip}{0pt plus 5cm}def negui.\+negui.\+negui\+\_\+main (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{namespacenegui_1_1negui_a3ae02c04d1a16d3a3f855196fa2be244}{}\label{namespacenegui_1_1negui_a3ae02c04d1a16d3a3f855196fa2be244}
\begin{DoxyVerb}Note, 2016_12_29: I removed all optional arguments for negui.py, by now
unnecessary.  The optional args were and int giving total processes (now
defaulting to 1 process, and settable in the indivudual interfaces), and
a default life table file, which I've discarded in favor of always loading
all life tables.
\end{DoxyVerb}
 

Definition at line 101 of file negui.\+py.


\begin{DoxyCode}
101 \textcolor{keyword}{def }\hyperlink{namespacenegui_1_1negui_a3ae02c04d1a16d3a3f855196fa2be244}{negui\_main}():
102 
103     \textcolor{stringliteral}{'''}
104 \textcolor{stringliteral}{    Note, 2016\_12\_29: I removed all optional arguments for negui.py, by now}
105 \textcolor{stringliteral}{    unnecessary.  The optional args were and int giving total processes (now}
106 \textcolor{stringliteral}{    defaulting to 1 process, and settable in the indivudual interfaces), and}
107 \textcolor{stringliteral}{    a default life table file, which I've discarded in favor of always loading}
108 \textcolor{stringliteral}{    all life tables.}
109 \textcolor{stringliteral}{    '''}
110 
111     WINDOW\_MARGIN=0.20
112     CONTAINER\_PADDING=10
113     
114     s\_my\_mod\_path=os.path.abspath( \_\_file\_\_ )
115     
116     s\_my\_mod\_dir=os.path.dirname( s\_my\_mod\_path )
117 
118     i\_total\_simultaneous\_processes=1
119 
120     s\_default\_life\_tables = s\_my\_mod\_dir + \textcolor{stringliteral}{"/resources/*life.table.info"}
121     s\_menu\_config=s\_my\_mod\_dir + \textcolor{stringliteral}{"/resources/menu\_main\_interface.txt"} 
122     s\_param\_name\_file\_dir=s\_my\_mod\_dir + \textcolor{stringliteral}{"/resources"}
123 
124     db\_found\_files=confirm\_resources( s\_default\_life\_tables, 
125                                                 s\_menu\_config, 
126                                                 s\_param\_name\_file\_dir )
127 
128     \textcolor{comment}{#The program can't run without these files:}
129     \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} ( db\_found\_files[ \textcolor{stringliteral}{"menu\_file"} ] \textcolor{keywordflow}{and} db\_found\_files[ \textcolor{stringliteral}{"param\_name\_files"} ] ):
130         s\_msg=\textcolor{stringliteral}{"In negui, def negui\_main, "} \(\backslash\)
131                 + \textcolor{stringliteral}{"there were resource files not found: "} \(\backslash\)
132                 + \textcolor{stringliteral}{"\(\backslash\)n"}.join( db\_found\_files[ \textcolor{stringliteral}{"msgs"} ] )
133         
134         PGGUIErrorMessage( \textcolor{keywordtype}{None}, s\_msg )
135         \textcolor{keywordflow}{raise} Exception( s\_msg )
136     \textcolor{comment}{#end if required file not found}
137 
138     \textcolor{stringliteral}{'''}
139 \textcolor{stringliteral}{    The program can run without life table files loaded,}
140 \textcolor{stringliteral}{    but we'll send a warning to the console that all}
141 \textcolor{stringliteral}{    needed params need to be supplied by the config file.}
142 \textcolor{stringliteral}{    '''}
143     \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} db\_found\_files[ \textcolor{stringliteral}{"life\_tables"} ]:
144         s\_msg=\textcolor{stringliteral}{"In negui, def negui\_main, "} \(\backslash\)
145                         + \textcolor{stringliteral}{"warning: "} \(\backslash\)
146                         + \textcolor{stringliteral}{"\(\backslash\)n"}.join( db\_found\_files[ \textcolor{stringliteral}{"msgs"} ]  )
147 
148         PGGUIWarningMessage( \textcolor{keywordtype}{None}, s\_msg )
149         sys.stderr.write( s\_msg + \textcolor{stringliteral}{"\(\backslash\)n"} )
150 
151         s\_default\_life\_tables=\textcolor{keywordtype}{None}
152     \textcolor{comment}{#end if param names}
153 
154     ds\_param\_file\_names=get\_param\_file\_names( s\_param\_name\_file\_dir )
155 
156     \textcolor{keywordflow}{if} pgut.is\_windows\_platform():
157         \textcolor{keywordflow}{if} s\_default\_life\_tables \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
158             s\_default\_life\_tables=pgut.fix\_windows\_path( s\_default\_life\_tables )
159         \textcolor{comment}{#end if life table files exist}
160         s\_menu\_config=pgut.fix\_windows\_path( s\_menu\_config )
161 
162         \textcolor{keywordflow}{for} s\_filekey \textcolor{keywordflow}{in} ds\_param\_file\_names:
163             ds\_param\_file\_names[ s\_filekey ] = \(\backslash\)
164                     pgut.fix\_windows\_path( \(\backslash\)
165                             ds\_param\_file\_names[ s\_filekey ] )
166         \textcolor{comment}{#end for each param file}
167     \textcolor{comment}{#end if windows, fix paths}
168 
169     o\_master=Tk()
170 
171     i\_width=o\_master.winfo\_screenwidth()
172     i\_height=o\_master.winfo\_screenheight()
173 
174     i\_geo\_width=int( ( old\_div(i\_width,2) ) * ( 1 - WINDOW\_MARGIN ) )
175     i\_geo\_height=int( ( old\_div(i\_height,2) ) * ( 1 - WINDOW\_MARGIN ) )
176 
177     o\_host=pgn.PGHostNotebook( o\_master, 
178             s\_menu\_config, 
179             ds\_param\_file\_names[ \textcolor{stringliteral}{"sim"} ], 
180             ds\_param\_file\_names[ \textcolor{stringliteral}{"ne"} ], 
181             ds\_param\_file\_names[ \textcolor{stringliteral}{"viz"} ], 
182             s\_glob\_life\_tables=s\_default\_life\_tables,
183             i\_max\_process\_total=i\_total\_simultaneous\_processes )
184 
185     o\_host.grid( row=0 )
186     o\_host.grid\_rowconfigure( 0, weight=1 )
187     o\_host.grid\_columnconfigure( 0, weight=1 )
188     o\_host.grid( row=0, column=0, sticky=( N,W,S,E ))
189 
190     o\_master.geometry( str(  i\_geo\_width ) + \textcolor{stringliteral}{"x"} + str( i\_geo\_height ) )
191     o\_master.title( \textcolor{stringliteral}{"Age Structure Nb"} )    
192     o\_master.grid\_rowconfigure( 0, weight=1 )
193     o\_master.grid\_columnconfigure( 0, weight=1 )
194 
195     atexit.register( cleanup\_gui, o\_host )
196 
197 
198     \textcolor{keyword}{def }ask\_before\_exit():
199         s\_msg=\textcolor{stringliteral}{"Exiting will kill any unfinished analyses "} \(\backslash\)
200                 + \textcolor{stringliteral}{"and remove their output files.  Exit anyway?"}
201 
202         o\_mbox=PGGUIYesNoMessage( \textcolor{keywordtype}{None}, s\_msg )
203 
204         s\_answer=o\_mbox.value
205 
206         \textcolor{keywordflow}{if} s\_answer == \textcolor{keyword}{True}:
207             o\_master.destroy()
208         \textcolor{comment}{#end if do exit}
209     \textcolor{comment}{#end ask\_before\_exit}
210     
211     o\_master.protocol( \textcolor{stringliteral}{"WM\_DELETE\_WINDOW"}, ask\_before\_exit )
212 
213     o\_master.mainloop()
214 
215     \textcolor{keywordflow}{return}
216 \textcolor{comment}{#end def negui\_main}
217 
\end{DoxyCode}


\subsection{Variable Documentation}
\index{negui\+::negui@{negui\+::negui}!P\+A\+R\+A\+M\+\_\+\+F\+I\+L\+E\+\_\+\+K\+E\+Y\+S\+\_\+\+B\+Y\+\_\+\+F\+I\+L\+E\+\_\+\+N\+A\+ME@{P\+A\+R\+A\+M\+\_\+\+F\+I\+L\+E\+\_\+\+K\+E\+Y\+S\+\_\+\+B\+Y\+\_\+\+F\+I\+L\+E\+\_\+\+N\+A\+ME}}
\index{P\+A\+R\+A\+M\+\_\+\+F\+I\+L\+E\+\_\+\+K\+E\+Y\+S\+\_\+\+B\+Y\+\_\+\+F\+I\+L\+E\+\_\+\+N\+A\+ME@{P\+A\+R\+A\+M\+\_\+\+F\+I\+L\+E\+\_\+\+K\+E\+Y\+S\+\_\+\+B\+Y\+\_\+\+F\+I\+L\+E\+\_\+\+N\+A\+ME}!negui\+::negui@{negui\+::negui}}
\subsubsection[{\texorpdfstring{P\+A\+R\+A\+M\+\_\+\+F\+I\+L\+E\+\_\+\+K\+E\+Y\+S\+\_\+\+B\+Y\+\_\+\+F\+I\+L\+E\+\_\+\+N\+A\+ME}{PARAM_FILE_KEYS_BY_FILE_NAME}}]{\setlength{\rightskip}{0pt plus 5cm}dictionary negui.\+negui.\+P\+A\+R\+A\+M\+\_\+\+F\+I\+L\+E\+\_\+\+K\+E\+Y\+S\+\_\+\+B\+Y\+\_\+\+F\+I\+L\+E\+\_\+\+N\+A\+ME}\hypertarget{namespacenegui_1_1negui_aaf04079b95df479b9db4dd490352430c}{}\label{namespacenegui_1_1negui_aaf04079b95df479b9db4dd490352430c}
{\bfseries Initial value\+:}
\begin{DoxyCode}
1 = \{ \textcolor{stringliteral}{"simupop.param.names"}:\textcolor{stringliteral}{"sim"}, 
2                                     \textcolor{stringliteral}{"neestimation.param.names"}:\textcolor{stringliteral}{"ne"}, 
3                                         \textcolor{stringliteral}{"viz.param.names"}:\textcolor{stringliteral}{"viz"} \}
\end{DoxyCode}


Definition at line 32 of file negui.\+py.

